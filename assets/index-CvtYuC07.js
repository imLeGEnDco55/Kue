(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))c(y);new MutationObserver(y=>{for(const m of y)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&c(x)}).observe(document,{childList:!0,subtree:!0});function o(y){const m={};return y.integrity&&(m.integrity=y.integrity),y.referrerPolicy&&(m.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?m.credentials="include":y.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(y){if(y.ep)return;y.ep=!0;const m=o(y);fetch(y.href,m)}})();var gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xc(M){return M&&M.__esModule&&Object.prototype.hasOwnProperty.call(M,"default")?M.default:M}var Oc={exports:{}},ps={};var $d;function m0(){if($d)return ps;$d=1;var M=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function o(c,y,m){var x=null;if(m!==void 0&&(x=""+m),y.key!==void 0&&(x=""+y.key),"key"in y){m={};for(var p in y)p!=="key"&&(m[p]=y[p])}else m=y;return y=m.ref,{$$typeof:M,type:c,key:x,ref:y!==void 0?y:null,props:m}}return ps.Fragment=f,ps.jsx=o,ps.jsxs=o,ps}var tm;function p0(){return tm||(tm=1,Oc.exports=m0()),Oc.exports}var E=p0(),Mc={exports:{}},de={};var em;function v0(){if(em)return de;em=1;var M=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),x=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=O&&N[O]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function D(N,L,Et){this.props=N,this.context=L,this.refs=R,this.updater=Et||A}D.prototype.isReactComponent={},D.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},D.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=D.prototype;function Y(N,L,Et){this.props=N,this.context=L,this.refs=R,this.updater=Et||A}var J=Y.prototype=new H;J.constructor=Y,w(J,D.prototype),J.isPureReactComponent=!0;var I=Array.isArray;function Z(){}var X={H:null,A:null,T:null,S:null},mt=Object.prototype.hasOwnProperty;function tt(N,L,Et){var wt=Et.ref;return{$$typeof:M,type:N,key:L,ref:wt!==void 0?wt:null,props:Et}}function Ct(N,L){return tt(N.type,L,N.props)}function Vt(N){return typeof N=="object"&&N!==null&&N.$$typeof===M}function G(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Et){return L[Et]})}var yt=/\/+/g;function S(N,L){return typeof N=="object"&&N!==null&&N.key!=null?G(""+N.key):L.toString(36)}function St(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Z,Z):(N.status="pending",N.then(function(L){N.status==="pending"&&(N.status="fulfilled",N.value=L)},function(L){N.status==="pending"&&(N.status="rejected",N.reason=L)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ut(N,L,Et,wt,At){var te=typeof N;(te==="undefined"||te==="boolean")&&(N=null);var ue=!1;if(N===null)ue=!0;else switch(te){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(N.$$typeof){case M:case f:ue=!0;break;case k:return ue=N._init,ut(ue(N._payload),L,Et,wt,At)}}if(ue)return At=At(N),ue=wt===""?"."+S(N,0):wt,I(At)?(Et="",ue!=null&&(Et=ue.replace(yt,"$&/")+"/"),ut(At,L,Et,"",function(xt){return xt})):At!=null&&(Vt(At)&&(At=Ct(At,Et+(At.key==null||N&&N.key===At.key?"":(""+At.key).replace(yt,"$&/")+"/")+ue)),L.push(At)),1;ue=0;var se=wt===""?".":wt+":";if(I(N))for(var Rt=0;Rt<N.length;Rt++)wt=N[Rt],te=se+S(wt,Rt),ue+=ut(wt,L,Et,te,At);else if(Rt=T(N),typeof Rt=="function")for(N=Rt.call(N),Rt=0;!(wt=N.next()).done;)wt=wt.value,te=se+S(wt,Rt++),ue+=ut(wt,L,Et,te,At);else if(te==="object"){if(typeof N.then=="function")return ut(St(N),L,Et,wt,At);throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ue}function ot(N,L,Et){if(N==null)return N;var wt=[],At=0;return ut(N,wt,"","",function(te){return L.call(Et,te,At++)}),wt}function Ut(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(Et){(N._status===0||N._status===-1)&&(N._status=1,N._result=Et)},function(Et){(N._status===0||N._status===-1)&&(N._status=2,N._result=Et)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var jt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ht={map:ot,forEach:function(N,L,Et){ot(N,function(){L.apply(this,arguments)},Et)},count:function(N){var L=0;return ot(N,function(){L++}),L},toArray:function(N){return ot(N,function(L){return L})||[]},only:function(N){if(!Vt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return de.Activity=C,de.Children=Ht,de.Component=D,de.Fragment=o,de.Profiler=y,de.PureComponent=Y,de.StrictMode=c,de.Suspense=v,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,de.__COMPILER_RUNTIME={__proto__:null,c:function(N){return X.H.useMemoCache(N)}},de.cache=function(N){return function(){return N.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(N,L,Et){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var wt=w({},N.props),At=N.key;if(L!=null)for(te in L.key!==void 0&&(At=""+L.key),L)!mt.call(L,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&L.ref===void 0||(wt[te]=L[te]);var te=arguments.length-2;if(te===1)wt.children=Et;else if(1<te){for(var ue=Array(te),se=0;se<te;se++)ue[se]=arguments[se+2];wt.children=ue}return tt(N.type,At,wt)},de.createContext=function(N){return N={$$typeof:x,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:m,_context:N},N},de.createElement=function(N,L,Et){var wt,At={},te=null;if(L!=null)for(wt in L.key!==void 0&&(te=""+L.key),L)mt.call(L,wt)&&wt!=="key"&&wt!=="__self"&&wt!=="__source"&&(At[wt]=L[wt]);var ue=arguments.length-2;if(ue===1)At.children=Et;else if(1<ue){for(var se=Array(ue),Rt=0;Rt<ue;Rt++)se[Rt]=arguments[Rt+2];At.children=se}if(N&&N.defaultProps)for(wt in ue=N.defaultProps,ue)At[wt]===void 0&&(At[wt]=ue[wt]);return tt(N,te,At)},de.createRef=function(){return{current:null}},de.forwardRef=function(N){return{$$typeof:p,render:N}},de.isValidElement=Vt,de.lazy=function(N){return{$$typeof:k,_payload:{_status:-1,_result:N},_init:Ut}},de.memo=function(N,L){return{$$typeof:g,type:N,compare:L===void 0?null:L}},de.startTransition=function(N){var L=X.T,Et={};X.T=Et;try{var wt=N(),At=X.S;At!==null&&At(Et,wt),typeof wt=="object"&&wt!==null&&typeof wt.then=="function"&&wt.then(Z,jt)}catch(te){jt(te)}finally{L!==null&&Et.types!==null&&(L.types=Et.types),X.T=L}},de.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},de.use=function(N){return X.H.use(N)},de.useActionState=function(N,L,Et){return X.H.useActionState(N,L,Et)},de.useCallback=function(N,L){return X.H.useCallback(N,L)},de.useContext=function(N){return X.H.useContext(N)},de.useDebugValue=function(){},de.useDeferredValue=function(N,L){return X.H.useDeferredValue(N,L)},de.useEffect=function(N,L){return X.H.useEffect(N,L)},de.useEffectEvent=function(N){return X.H.useEffectEvent(N)},de.useId=function(){return X.H.useId()},de.useImperativeHandle=function(N,L,Et){return X.H.useImperativeHandle(N,L,Et)},de.useInsertionEffect=function(N,L){return X.H.useInsertionEffect(N,L)},de.useLayoutEffect=function(N,L){return X.H.useLayoutEffect(N,L)},de.useMemo=function(N,L){return X.H.useMemo(N,L)},de.useOptimistic=function(N,L){return X.H.useOptimistic(N,L)},de.useReducer=function(N,L,Et){return X.H.useReducer(N,L,Et)},de.useRef=function(N){return X.H.useRef(N)},de.useState=function(N){return X.H.useState(N)},de.useSyncExternalStore=function(N,L,Et){return X.H.useSyncExternalStore(N,L,Et)},de.useTransition=function(){return X.H.useTransition()},de.version="19.2.3",de}var nm;function Vc(){return nm||(nm=1,Mc.exports=v0()),Mc.exports}var Wt=Vc();const ui=Xc(Wt);var Dc={exports:{}},vs={},Rc={exports:{}},Bc={};var am;function g0(){return am||(am=1,(function(M){function f(ut,ot){var Ut=ut.length;ut.push(ot);t:for(;0<Ut;){var jt=Ut-1>>>1,Ht=ut[jt];if(0<y(Ht,ot))ut[jt]=ot,ut[Ut]=Ht,Ut=jt;else break t}}function o(ut){return ut.length===0?null:ut[0]}function c(ut){if(ut.length===0)return null;var ot=ut[0],Ut=ut.pop();if(Ut!==ot){ut[0]=Ut;t:for(var jt=0,Ht=ut.length,N=Ht>>>1;jt<N;){var L=2*(jt+1)-1,Et=ut[L],wt=L+1,At=ut[wt];if(0>y(Et,Ut))wt<Ht&&0>y(At,Et)?(ut[jt]=At,ut[wt]=Ut,jt=wt):(ut[jt]=Et,ut[L]=Ut,jt=L);else if(wt<Ht&&0>y(At,Ut))ut[jt]=At,ut[wt]=Ut,jt=wt;else break t}}return ot}function y(ut,ot){var Ut=ut.sortIndex-ot.sortIndex;return Ut!==0?Ut:ut.id-ot.id}if(M.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;M.unstable_now=function(){return m.now()}}else{var x=Date,p=x.now();M.unstable_now=function(){return x.now()-p}}var v=[],g=[],k=1,C=null,O=3,T=!1,A=!1,w=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function J(ut){for(var ot=o(g);ot!==null;){if(ot.callback===null)c(g);else if(ot.startTime<=ut)c(g),ot.sortIndex=ot.expirationTime,f(v,ot);else break;ot=o(g)}}function I(ut){if(w=!1,J(ut),!A)if(o(v)!==null)A=!0,Z||(Z=!0,G());else{var ot=o(g);ot!==null&&St(I,ot.startTime-ut)}}var Z=!1,X=-1,mt=5,tt=-1;function Ct(){return R?!0:!(M.unstable_now()-tt<mt)}function Vt(){if(R=!1,Z){var ut=M.unstable_now();tt=ut;var ot=!0;try{t:{A=!1,w&&(w=!1,H(X),X=-1),T=!0;var Ut=O;try{e:{for(J(ut),C=o(v);C!==null&&!(C.expirationTime>ut&&Ct());){var jt=C.callback;if(typeof jt=="function"){C.callback=null,O=C.priorityLevel;var Ht=jt(C.expirationTime<=ut);if(ut=M.unstable_now(),typeof Ht=="function"){C.callback=Ht,J(ut),ot=!0;break e}C===o(v)&&c(v),J(ut)}else c(v);C=o(v)}if(C!==null)ot=!0;else{var N=o(g);N!==null&&St(I,N.startTime-ut),ot=!1}}break t}finally{C=null,O=Ut,T=!1}ot=void 0}}finally{ot?G():Z=!1}}}var G;if(typeof Y=="function")G=function(){Y(Vt)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,S=yt.port2;yt.port1.onmessage=Vt,G=function(){S.postMessage(null)}}else G=function(){D(Vt,0)};function St(ut,ot){X=D(function(){ut(M.unstable_now())},ot)}M.unstable_IdlePriority=5,M.unstable_ImmediatePriority=1,M.unstable_LowPriority=4,M.unstable_NormalPriority=3,M.unstable_Profiling=null,M.unstable_UserBlockingPriority=2,M.unstable_cancelCallback=function(ut){ut.callback=null},M.unstable_forceFrameRate=function(ut){0>ut||125<ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):mt=0<ut?Math.floor(1e3/ut):5},M.unstable_getCurrentPriorityLevel=function(){return O},M.unstable_next=function(ut){switch(O){case 1:case 2:case 3:var ot=3;break;default:ot=O}var Ut=O;O=ot;try{return ut()}finally{O=Ut}},M.unstable_requestPaint=function(){R=!0},M.unstable_runWithPriority=function(ut,ot){switch(ut){case 1:case 2:case 3:case 4:case 5:break;default:ut=3}var Ut=O;O=ut;try{return ot()}finally{O=Ut}},M.unstable_scheduleCallback=function(ut,ot,Ut){var jt=M.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?jt+Ut:jt):Ut=jt,ut){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=Ut+Ht,ut={id:k++,callback:ot,priorityLevel:ut,startTime:Ut,expirationTime:Ht,sortIndex:-1},Ut>jt?(ut.sortIndex=Ut,f(g,ut),o(v)===null&&ut===o(g)&&(w?(H(X),X=-1):w=!0,St(I,Ut-jt))):(ut.sortIndex=Ht,f(v,ut),A||T||(A=!0,Z||(Z=!0,G()))),ut},M.unstable_shouldYield=Ct,M.unstable_wrapCallback=function(ut){var ot=O;return function(){var Ut=O;O=ot;try{return ut.apply(this,arguments)}finally{O=Ut}}}})(Bc)),Bc}var im;function y0(){return im||(im=1,Rc.exports=g0()),Rc.exports}var Uc={exports:{}},Tn={};var rm;function b0(){if(rm)return Tn;rm=1;var M=Vc();function f(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)g+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var c={d:{f:o,r:function(){throw Error(f(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},y=Symbol.for("react.portal");function m(v,g,k){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:C==null?null:""+C,children:v,containerInfo:g,implementation:k}}var x=M.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Tn.createPortal=function(v,g){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(f(299));return m(v,g,null,k)},Tn.flushSync=function(v){var g=x.T,k=c.p;try{if(x.T=null,c.p=2,v)return v()}finally{x.T=g,c.p=k,c.d.f()}},Tn.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,c.d.C(v,g))},Tn.prefetchDNS=function(v){typeof v=="string"&&c.d.D(v)},Tn.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var k=g.as,C=p(k,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;k==="style"?c.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:C,integrity:O,fetchPriority:T}):k==="script"&&c.d.X(v,{crossOrigin:C,integrity:O,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var k=p(g.as,g.crossOrigin);c.d.M(v,{crossOrigin:k,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&c.d.M(v)},Tn.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var k=g.as,C=p(k,g.crossOrigin);c.d.L(v,k,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(v,g){if(typeof v=="string")if(g){var k=p(g.as,g.crossOrigin);c.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:k,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else c.d.m(v)},Tn.requestFormReset=function(v){c.d.r(v)},Tn.unstable_batchedUpdates=function(v,g){return v(g)},Tn.useFormState=function(v,g,k){return x.H.useFormState(v,g,k)},Tn.useFormStatus=function(){return x.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var lm;function x0(){if(lm)return Uc.exports;lm=1;function M(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M)}catch(f){console.error(f)}}return M(),Uc.exports=b0(),Uc.exports}var sm;function _0(){if(sm)return vs;sm=1;var M=y0(),f=Vc(),o=x0();function c(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v(t){if(m(t)!==t)throw Error(c(188))}function g(t){var e=t.alternate;if(!e){if(e=m(t),e===null)throw Error(c(188));return e!==t?null:t}for(var n=t,a=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return v(r),t;if(s===a)return v(r),e;s=s.sibling}throw Error(c(188))}if(n.return!==a.return)n=r,a=s;else{for(var d=!1,z=r.child;z;){if(z===n){d=!0,n=r,a=s;break}if(z===a){d=!0,a=r,n=s;break}z=z.sibling}if(!d){for(z=s.child;z;){if(z===n){d=!0,n=s,a=r;break}if(z===a){d=!0,a=s,n=r;break}z=z.sibling}if(!d)throw Error(c(189))}}if(n.alternate!==a)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?t:e}function k(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=k(t),e!==null)return e;t=t.sibling}return null}var C=Object.assign,O=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),Ct=Symbol.for("react.memo_cache_sentinel"),Vt=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=Vt&&t[Vt]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Symbol.for("react.client.reference");function S(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===yt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case D:return"Profiler";case R:return"StrictMode";case I:return"Suspense";case Z:return"SuspenseList";case tt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case Y:return t.displayName||"Context";case H:return(t._context.displayName||"Context")+".Consumer";case J:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return e=t.displayName||null,e!==null?e:S(t.type)||"Memo";case mt:e=t._payload,t=t._init;try{return S(t(e))}catch{}}return null}var St=Array.isArray,ut=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ut={pending:!1,data:null,method:null,action:null},jt=[],Ht=-1;function N(t){return{current:t}}function L(t){0>Ht||(t.current=jt[Ht],jt[Ht]=null,Ht--)}function Et(t,e){Ht++,jt[Ht]=t.current,t.current=e}var wt=N(null),At=N(null),te=N(null),ue=N(null);function se(t,e){switch(Et(te,e),Et(At,t),Et(wt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?wd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=wd(e),t=Sd(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(wt),Et(wt,t)}function Rt(){L(wt),L(At),L(te)}function xt(t){t.memoizedState!==null&&Et(ue,t);var e=wt.current,n=Sd(e,t.type);e!==n&&(Et(At,t),Et(wt,n))}function Qt(t){At.current===t&&(L(wt),L(At)),ue.current===t&&(L(ue),fs._currentValue=Ut)}var Zt,oe;function b(t){if(Zt===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zt=e&&e[1]||"",oe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+t+oe}var ct=!1;function dt(t,e){if(!t||ct)return"";ct=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var Dt=function(){throw Error()};if(Object.defineProperty(Dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dt,[])}catch(_t){var bt=_t}Reflect.construct(t,[],Dt)}else{try{Dt.call()}catch(_t){bt=_t}t.call(Dt.prototype)}}else{try{throw Error()}catch(_t){bt=_t}(Dt=t())&&typeof Dt.catch=="function"&&Dt.catch(function(){})}}catch(_t){if(_t&&bt&&typeof _t.stack=="string")return[_t.stack,bt.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),d=s[0],z=s[1];if(d&&z){var V=d.split(`
`),vt=z.split(`
`);for(r=a=0;a<V.length&&!V[a].includes("DetermineComponentFrameRoot");)a++;for(;r<vt.length&&!vt[r].includes("DetermineComponentFrameRoot");)r++;if(a===V.length||r===vt.length)for(a=V.length-1,r=vt.length-1;1<=a&&0<=r&&V[a]!==vt[r];)r--;for(;1<=a&&0<=r;a--,r--)if(V[a]!==vt[r]){if(a!==1||r!==1)do if(a--,r--,0>r||V[a]!==vt[r]){var zt=`
`+V[a].replace(" at new "," at ");return t.displayName&&zt.includes("<anonymous>")&&(zt=zt.replace("<anonymous>",t.displayName)),zt}while(1<=a&&0<=r);break}}}finally{ct=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?b(n):""}function q(t,e){switch(t.tag){case 26:case 27:case 5:return b(t.type);case 16:return b("Lazy");case 13:return t.child!==e&&e!==null?b("Suspense Fallback"):b("Suspense");case 19:return b("SuspenseList");case 0:case 15:return dt(t.type,!1);case 11:return dt(t.type.render,!1);case 1:return dt(t.type,!0);case 31:return b("Activity");default:return""}}function U(t){try{var e="",n=null;do e+=q(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var at=Object.prototype.hasOwnProperty,Nt=M.unstable_scheduleCallback,Tt=M.unstable_cancelCallback,ft=M.unstable_shouldYield,Bt=M.unstable_requestPaint,Xt=M.unstable_now,Kt=M.unstable_getCurrentPriorityLevel,ae=M.unstable_ImmediatePriority,xe=M.unstable_UserBlockingPriority,me=M.unstable_NormalPriority,an=M.unstable_LowPriority,$n=M.unstable_IdlePriority,yn=M.log,An=M.unstable_setDisableYieldValue,je=null,Qe=null;function Ie(t){if(typeof yn=="function"&&An(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(je,t)}catch{}}var Jt=Math.clz32?Math.clz32:ci,_a=Math.log,da=Math.LN2;function ci(t){return t>>>=0,t===0?32:31-(_a(t)/da|0)|0}var It=256,ma=262144,Zn=4194304;function En(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vi(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var r=0,s=t.suspendedLanes,d=t.pingedLanes;t=t.warmLanes;var z=a&134217727;return z!==0?(a=z&~s,a!==0?r=En(a):(d&=z,d!==0?r=En(d):n||(n=z&~t,n!==0&&(r=En(n))))):(z=a&~s,z!==0?r=En(z):d!==0?r=En(d):n||(n=a&~t,n!==0&&(r=En(n)))),r===0?0:e!==0&&e!==r&&(e&s)===0&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function Ra(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Hu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(){var t=Zn;return Zn<<=1,(Zn&62914560)===0&&(Zn=4194304),t}function wa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ta(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ml(t,e,n,a,r,s){var d=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var z=t.entanglements,V=t.expirationTimes,vt=t.hiddenUpdates;for(n=d&~n;0<n;){var zt=31-Jt(n),Dt=1<<zt;z[zt]=0,V[zt]=-1;var bt=vt[zt];if(bt!==null)for(vt[zt]=null,zt=0;zt<bt.length;zt++){var _t=bt[zt];_t!==null&&(_t.lane&=-536870913)}n&=~Dt}a!==0&&Qi(t,a,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(d&~e))}function Qi(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-Jt(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function He(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-Jt(n),r=1<<a;r&e|t[a]&e&&(t[a]|=e),n&=~r}}function Pe(t,e){var n=e&-e;return n=(n&42)!==0?1:pl(n),(n&(t.suspendedLanes|e))!==0?0:n}function pl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ji(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:Vd(t.type))}function Fi(t,e){var n=ot.p;try{return ot.p=t,e()}finally{ot.p=n}}var Sa=Math.random().toString(36).slice(2),qe="__reactFiber$"+Sa,We="__reactProps$"+Sa,zn="__reactContainer$"+Sa,hi="__reactEvents$"+Sa,Lu="__reactListeners$"+Sa,Ea="__reactHandles$"+Sa,vl="__reactResources$"+Sa,Gn="__reactMarker$"+Sa;function Sr(t){delete t[qe],delete t[We],delete t[hi],delete t[Lu],delete t[Ea]}function Ca(t){var e=t[qe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zn]||n[qe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zd(t);t!==null;){if(n=t[qe])return n;t=zd(t)}return e}t=n,n=t.parentNode}return null}function De(t){if(t=t[qe]||t[zn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Xn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(c(33))}function Cn(t){var e=t[vl];return e||(e=t[vl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function $e(t){t[Gn]=!0}var Ba=new Set,Ii={};function pa(t,e){ka(t,e),ka(t+"Capture",e)}function ka(t,e){for(Ii[t]=e,t=0;t<e.length;t++)Ba.add(e[t])}var Ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},Pi={};function ws(t){return at.call(Pi,t)?!0:at.call(gl,t)?!1:Ua.test(t)?Pi[t]=!0:(gl[t]=!0,!1)}function ye(t,e,n){if(ws(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Wi(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ea(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function di(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ss(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(d){n=""+d,s.call(this,d)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Er(t){if(!t._valueTracker){var e=di(t)?"checked":"value";t._valueTracker=Ss(t,e,""+t[e])}}function yl(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=di(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function ze(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $i=/[\n"\\]/g;function dn(t){return t.replace($i,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ja(t,e,n,a,r,s,d,z){t.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?t.type=d:t.removeAttribute("type"),e!=null?d==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+bn(e)):t.value!==""+bn(e)&&(t.value=""+bn(e)):d!=="submit"&&d!=="reset"||t.removeAttribute("value"),e!=null?tr(t,d,bn(e)):n!=null?tr(t,d,bn(n)):a!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?t.name=""+bn(z):t.removeAttribute("name")}function Cr(t,e,n,a,r,s,d,z){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Er(t);return}n=n!=null?""+bn(n):"",e=e!=null?""+bn(e):n,z||e===t.value||(t.value=e),t.defaultValue=e}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=z?t.checked:!!a,t.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.name=d),Er(t)}function tr(t,e,n){e==="number"&&ze(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function va(t,e,n,a){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&a&&(t[n].defaultSelected=!0)}else{for(n=""+bn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,a&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function bl(t,e,n){if(e!=null&&(e=""+bn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+bn(n):""}function er(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(c(92));if(St(a)){if(1<a.length)throw Error(c(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=bn(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),Er(t)}function Ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ce(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||qu.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function xl(t,e,n){if(e!=null&&typeof e!="object")throw Error(c(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var r in e)a=e[r],e.hasOwnProperty(r)&&n[r]!==a&&Ce(t,r,a)}else for(var s in e)e.hasOwnProperty(s)&&Ce(t,s,e[s])}function _l(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return Nn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Rn(){}var na=null;function kr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var La=null,Ke=null;function Vn(t){var e=De(t);if(e&&(t=e.stateNode)){var n=t[We]||null;t:switch(t=e.stateNode,e.type){case"input":if(ja(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+dn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var r=a[We]||null;if(!r)throw Error(c(90));ja(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&yl(a)}break t;case"textarea":bl(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}}}var qa=!1;function mi(t,e,n){if(qa)return t(e,n);qa=!0;try{var a=t(e);return a}finally{if(qa=!1,(La!==null||Ke!==null)&&(hu(),La&&(e=La,t=Ke,Ke=La=null,Vn(e),t)))for(e=0;e<t.length;e++)Vn(t[e])}}function Ka(t,e){var n=t.stateNode;if(n===null)return null;var a=n[We]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(c(231,e,typeof n));return n}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(mn)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){wl=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{wl=!1}var aa=null,jr=null,pi=null;function vi(){if(pi)return pi;var t,e=jr,n=e.length,a,r="value"in aa?aa.value:aa.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var d=n-t;for(a=1;a<=d&&e[n-a]===r[s-a];a++);return pi=r.slice(t,1<a?1-a:void 0)}function gi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function Es(){return!1}function rn(t){function e(n,a,r,s,d){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=s,this.target=d,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(n=t[z],this[z]=n?n(s):s[z]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nr:Es,this.isPropagationStopped=Es,this}return C(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),e}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=rn(Ya),Ta=C({},Ya,{view:0,detail:0}),Ar=rn(Ta),ar,Sl,ir,zr=C({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ir&&(ir&&t.type==="mousemove"?(ar=t.screenX-ir.screenX,Sl=t.screenY-ir.screenY):Sl=ar=0,ir=t),ar)},movementY:function(t){return"movementY"in t?t.movementY:Sl}}),Nr=rn(zr),El=C({},zr,{dataTransfer:0}),Cs=rn(El),Or=C({},Ta,{relatedTarget:0}),yi=rn(Or),Mr=C({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=rn(Mr),Yu=C({},Ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bi=rn(Yu),Cl=C({},Ya,{data:0}),Dr=rn(Cl),kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pn[t])?!!e[t]:!1}function Za(){return rr}var js=C({},Ta,{key:function(t){if(t.key){var e=kl[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(t){return t.type==="keypress"?gi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rr=rn(js),Ts=C({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=rn(Ts),Br=C({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),Al=rn(Br),Ga=C({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),zl=rn(Ga),Nl=C({},zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ur=rn(Nl),Ol=C({},Ya,{newState:0,oldState:0}),As=rn(Ol),Zu=[9,13,27,32],lr=mn&&"CompositionEvent"in window,Aa=null;mn&&"documentMode"in document&&(Aa=document.documentMode);var Gu=mn&&"TextEvent"in window&&!Aa,Hr=mn&&(!lr||Aa&&8<Aa&&11>=Aa),Lr=" ",zs=!1;function Ml(t,e){switch(t){case"keyup":return Zu.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ns(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function Os(t,e){switch(t){case"compositionend":return Ns(e);case"keypress":return e.which!==32?null:(zs=!0,Lr);case"textInput":return t=e.data,t===Lr&&zs?null:t;default:return null}}function Xu(t,e){if(Xa)return t==="compositionend"||!lr&&Ml(t,e)?(t=vi(),pi=jr=aa=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hr&&e.locale!=="ko"?null:e.data;default:return null}}var Ms={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ms[t.type]:e==="textarea"}function Dl(t,e,n,a){La?Ke?Ke.push(a):Ke=[a]:La=a,e=bu(e,"onChange"),0<e.length&&(n=new Tr("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var xi=null,sr=null;function Vu(t){vd(t,0)}function Kr(t){var e=Xn(t);if(yl(e))return t}function ur(t,e){if(t==="change")return e}var ia=!1;if(mn){var Ye;if(mn){var _i="oninput"in document;if(!_i){var On=document.createElement("div");On.setAttribute("oninput","return;"),_i=typeof On.oninput=="function"}Ye=_i}else Ye=!1;ia=Ye&&(!document.documentMode||9<document.documentMode)}function Ds(){xi&&(xi.detachEvent("onpropertychange",Yr),sr=xi=null)}function Yr(t){if(t.propertyName==="value"&&Kr(sr)){var e=[];Dl(e,sr,t,kr(t)),mi(Vu,e)}}function Rs(t,e,n){t==="focusin"?(Ds(),xi=e,sr=n,xi.attachEvent("onpropertychange",Yr)):t==="focusout"&&Ds()}function Va(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kr(sr)}function Rl(t,e){if(t==="click")return Kr(e)}function wi(t,e){if(t==="input"||t==="change")return Kr(e)}function za(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:za;function i(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!at.call(e,r)||!jn(t[r],e[r]))return!1}return!0}function l(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u(t,e){var n=l(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=l(n)}}function h(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ze(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ze(t.document)}return e}function j(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var B=mn&&"documentMode"in document&&11>=document.documentMode,K=null,F=null,P=null,it=!1;function Q(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;it||K==null||K!==ze(a)||(a=K,"selectionStart"in a&&j(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),P&&i(P,a)||(P=a,a=bu(F,"onSelect"),0<a.length&&(e=new Tr("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=K)))}function lt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var W={animationend:lt("Animation","AnimationEnd"),animationiteration:lt("Animation","AnimationIteration"),animationstart:lt("Animation","AnimationStart"),transitionrun:lt("Transition","TransitionRun"),transitionstart:lt("Transition","TransitionStart"),transitioncancel:lt("Transition","TransitionCancel"),transitionend:lt("Transition","TransitionEnd")},et={},nt={};mn&&(nt=document.createElement("div").style,"AnimationEvent"in window||(delete W.animationend.animation,delete W.animationiteration.animation,delete W.animationstart.animation),"TransitionEvent"in window||delete W.transitionend.transition);function rt(t){if(et[t])return et[t];if(!W[t])return t;var e=W[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nt)return et[t]=e[n];return t}var ht=rt("animationend"),gt=rt("animationiteration"),kt=rt("animationstart"),Mt=rt("transitionrun"),Yt=rt("transitionstart"),Pt=rt("transitioncancel"),Lt=rt("transitionend"),Gt=new Map,Ft="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ft.push("scrollEnd");function qt(t,e){Gt.set(t,e),pa(e,[t])}var $t=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},re=[],he=0,pe=0;function vn(){for(var t=he,e=pe=he=0;e<t;){var n=re[e];re[e++]=null;var a=re[e];re[e++]=null;var r=re[e];re[e++]=null;var s=re[e];if(re[e++]=null,a!==null&&r!==null){var d=a.pending;d===null?r.next=r:(r.next=d.next,d.next=r),a.pending=r}s!==0&&or(n,r,s)}}function fe(t,e,n,a){re[he++]=t,re[he++]=e,re[he++]=n,re[he++]=a,pe|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function ln(t,e,n,a){return fe(t,e,n,a),sn(t)}function Xe(t,e){return fe(t,null,null,e),sn(t)}function or(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-Jt(n),t=s.hiddenUpdates,a=t[r],a===null?t[r]=[e]:a.push(e),e.lane=n|536870912),s):null}function sn(t){if(50<is)throw is=0,nc=null,Error(c(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Bn={};function Bl(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,a){return new Bl(t,e,n,a)}function Qu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qa(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Pc(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Bs(t,e,n,a,r,s){var d=0;if(a=t,typeof t=="function")Qu(t)&&(d=1);else if(typeof t=="string")d=n0(t,n,wt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case tt:return t=Qn(31,n,e,r),t.elementType=tt,t.lanes=s,t;case w:return cr(n.children,r,s,e);case R:d=8,r|=24;break;case D:return t=Qn(12,n,e,r|2),t.elementType=D,t.lanes=s,t;case I:return t=Qn(13,n,e,r),t.elementType=I,t.lanes=s,t;case Z:return t=Qn(19,n,e,r),t.elementType=Z,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:d=10;break t;case H:d=9;break t;case J:d=11;break t;case X:d=14;break t;case mt:d=16,a=null;break t}d=29,n=Error(c(130,t===null?"null":typeof t,"")),a=null}return e=Qn(d,n,e,r),e.elementType=t,e.type=a,e.lanes=s,e}function cr(t,e,n,a){return t=Qn(7,t,a,e),t.lanes=n,t}function Ju(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Wc(t){var e=Qn(18,null,null,0);return e.stateNode=t,e}function Fu(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var $c=new WeakMap;function ra(t,e){if(typeof t=="object"&&t!==null){var n=$c.get(t);return n!==void 0?n:(e={value:t,source:e,stack:U(e)},$c.set(t,e),e)}return{value:t,source:e,stack:U(e)}}var Zr=[],Gr=0,Us=null,Ul=0,la=[],sa=0,Si=null,Na=1,Oa="";function Ja(t,e){Zr[Gr++]=Ul,Zr[Gr++]=Us,Us=t,Ul=e}function tf(t,e,n){la[sa++]=Na,la[sa++]=Oa,la[sa++]=Si,Si=t;var a=Na;t=Oa;var r=32-Jt(a)-1;a&=~(1<<r),n+=1;var s=32-Jt(e)+r;if(30<s){var d=r-r%5;s=(a&(1<<d)-1).toString(32),a>>=d,r-=d,Na=1<<32-Jt(e)+r|n<<r|a,Oa=s+t}else Na=1<<s|n<<r|a,Oa=t}function Iu(t){t.return!==null&&(Ja(t,1),tf(t,1,0))}function Pu(t){for(;t===Us;)Us=Zr[--Gr],Zr[Gr]=null,Ul=Zr[--Gr],Zr[Gr]=null;for(;t===Si;)Si=la[--sa],la[sa]=null,Oa=la[--sa],la[sa]=null,Na=la[--sa],la[sa]=null}function ef(t,e){la[sa++]=Na,la[sa++]=Oa,la[sa++]=Si,Na=e.id,Oa=e.overflow,Si=t}var xn=null,Ze=null,ke=!1,Ei=null,ua=!1,Wu=Error(c(519));function Ci(t){var e=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(ra(e,t)),Wu}function nf(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[qe]=t,e[We]=a,n){case"dialog":we("cancel",e),we("close",e);break;case"iframe":case"object":case"embed":we("load",e);break;case"video":case"audio":for(n=0;n<ls.length;n++)we(ls[n],e);break;case"source":we("error",e);break;case"img":case"image":case"link":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"input":we("invalid",e),Cr(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":we("invalid",e);break;case"textarea":we("invalid",e),er(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||xd(e.textContent,n)?(a.popover!=null&&(we("beforetoggle",e),we("toggle",e)),a.onScroll!=null&&we("scroll",e),a.onScrollEnd!=null&&we("scrollend",e),a.onClick!=null&&(e.onclick=Rn),e=!0):e=!1,e||Ci(t,!0)}function af(t){for(xn=t.return;xn;)switch(xn.tag){case 5:case 31:case 13:ua=!1;return;case 27:case 3:ua=!0;return;default:xn=xn.return}}function Xr(t){if(t!==xn)return!1;if(!ke)return af(t),ke=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||gc(t.type,t.memoizedProps)),n=!n),n&&Ze&&Ci(t),af(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Ze=Ad(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Ze=Ad(t)}else e===27?(e=Ze,Li(t.type)?(t=wc,wc=null,Ze=t):Ze=e):Ze=xn?ca(t.stateNode.nextSibling):null;return!0}function fr(){Ze=xn=null,ke=!1}function $u(){var t=Ei;return t!==null&&(qn===null?qn=t:qn.push.apply(qn,t),Ei=null),t}function Hl(t){Ei===null?Ei=[t]:Ei.push(t)}var to=N(null),hr=null,Fa=null;function ki(t,e,n){Et(to,e._currentValue),e._currentValue=n}function Ia(t){t._currentValue=to.current,L(to)}function eo(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function no(t,e,n,a){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var d=r.child;s=s.firstContext;t:for(;s!==null;){var z=s;s=r;for(var V=0;V<e.length;V++)if(z.context===e[V]){s.lanes|=n,z=s.alternate,z!==null&&(z.lanes|=n),eo(s.return,n,t),a||(d=null);break t}s=z.next}}else if(r.tag===18){if(d=r.return,d===null)throw Error(c(341));d.lanes|=n,s=d.alternate,s!==null&&(s.lanes|=n),eo(d,n,t),d=null}else d=r.child;if(d!==null)d.return=r;else for(d=r;d!==null;){if(d===t){d=null;break}if(r=d.sibling,r!==null){r.return=d.return,d=r;break}d=d.return}r=d}}function Vr(t,e,n,a){t=null;for(var r=e,s=!1;r!==null;){if(!s){if((r.flags&524288)!==0)s=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var d=r.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var z=r.type;jn(r.pendingProps.value,d.value)||(t!==null?t.push(z):t=[z])}}else if(r===ue.current){if(d=r.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(fs):t=[fs])}r=r.return}t!==null&&no(e,t,n,a),e.flags|=262144}function Hs(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function dr(t){hr=t,Fa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _n(t){return rf(hr,t)}function Ls(t,e){return hr===null&&dr(t),rf(t,e)}function rf(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Fa===null){if(t===null)throw Error(c(308));Fa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Fa=Fa.next=e;return n}var Wm=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},$m=M.unstable_scheduleCallback,tp=M.unstable_NormalPriority,un={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ao(){return{controller:new Wm,data:new Map,refCount:0}}function Ll(t){t.refCount--,t.refCount===0&&$m(tp,function(){t.controller.abort()})}var ql=null,io=0,Qr=0,Jr=null;function ep(t,e){if(ql===null){var n=ql=[];io=0,Qr=uc(),Jr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return io++,e.then(lf,lf),e}function lf(){if(--io===0&&ql!==null){Jr!==null&&(Jr.status="fulfilled");var t=ql;ql=null,Qr=0,Jr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function np(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var sf=ut.S;ut.S=function(t,e){Gh=Xt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&ep(t,e),sf!==null&&sf(t,e)};var mr=N(null);function ro(){var t=mr.current;return t!==null?t:Le.pooledCache}function qs(t,e){e===null?Et(mr,mr.current):Et(mr,e.pool)}function uf(){var t=ro();return t===null?null:{parent:un._currentValue,pool:t}}var Fr=Error(c(460)),lo=Error(c(474)),Ks=Error(c(542)),Ys={then:function(){}};function of(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cf(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Rn,Rn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,hf(t),t;default:if(typeof e.status=="string")e.then(Rn,Rn);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=a}},function(a){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,hf(t),t}throw vr=e,Fr}}function pr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(vr=n,Fr):n}}var vr=null;function ff(){if(vr===null)throw Error(c(459));var t=vr;return vr=null,t}function hf(t){if(t===Fr||t===Ks)throw Error(c(483))}var Ir=null,Kl=0;function Zs(t){var e=Kl;return Kl+=1,Ir===null&&(Ir=[]),cf(Ir,t,e)}function Yl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Gs(t,e){throw e.$$typeof===O?Error(c(525)):(t=Object.prototype.toString.call(e),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function df(t){function e(st,$){if(t){var pt=st.deletions;pt===null?(st.deletions=[$],st.flags|=16):pt.push($)}}function n(st,$){if(!t)return null;for(;$!==null;)e(st,$),$=$.sibling;return null}function a(st){for(var $=new Map;st!==null;)st.key!==null?$.set(st.key,st):$.set(st.index,st),st=st.sibling;return $}function r(st,$){return st=Qa(st,$),st.index=0,st.sibling=null,st}function s(st,$,pt){return st.index=pt,t?(pt=st.alternate,pt!==null?(pt=pt.index,pt<$?(st.flags|=67108866,$):pt):(st.flags|=67108866,$)):(st.flags|=1048576,$)}function d(st){return t&&st.alternate===null&&(st.flags|=67108866),st}function z(st,$,pt,Ot){return $===null||$.tag!==6?($=Ju(pt,st.mode,Ot),$.return=st,$):($=r($,pt),$.return=st,$)}function V(st,$,pt,Ot){var le=pt.type;return le===w?zt(st,$,pt.props.children,Ot,pt.key):$!==null&&($.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===mt&&pr(le)===$.type)?($=r($,pt.props),Yl($,pt),$.return=st,$):($=Bs(pt.type,pt.key,pt.props,null,st.mode,Ot),Yl($,pt),$.return=st,$)}function vt(st,$,pt,Ot){return $===null||$.tag!==4||$.stateNode.containerInfo!==pt.containerInfo||$.stateNode.implementation!==pt.implementation?($=Fu(pt,st.mode,Ot),$.return=st,$):($=r($,pt.children||[]),$.return=st,$)}function zt(st,$,pt,Ot,le){return $===null||$.tag!==7?($=cr(pt,st.mode,Ot,le),$.return=st,$):($=r($,pt),$.return=st,$)}function Dt(st,$,pt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Ju(""+$,st.mode,pt),$.return=st,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return pt=Bs($.type,$.key,$.props,null,st.mode,pt),Yl(pt,$),pt.return=st,pt;case A:return $=Fu($,st.mode,pt),$.return=st,$;case mt:return $=pr($),Dt(st,$,pt)}if(St($)||G($))return $=cr($,st.mode,pt,null),$.return=st,$;if(typeof $.then=="function")return Dt(st,Zs($),pt);if($.$$typeof===Y)return Dt(st,Ls(st,$),pt);Gs(st,$)}return null}function bt(st,$,pt,Ot){var le=$!==null?$.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return le!==null?null:z(st,$,""+pt,Ot);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case T:return pt.key===le?V(st,$,pt,Ot):null;case A:return pt.key===le?vt(st,$,pt,Ot):null;case mt:return pt=pr(pt),bt(st,$,pt,Ot)}if(St(pt)||G(pt))return le!==null?null:zt(st,$,pt,Ot,null);if(typeof pt.then=="function")return bt(st,$,Zs(pt),Ot);if(pt.$$typeof===Y)return bt(st,$,Ls(st,pt),Ot);Gs(st,pt)}return null}function _t(st,$,pt,Ot,le){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return st=st.get(pt)||null,z($,st,""+Ot,le);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case T:return st=st.get(Ot.key===null?pt:Ot.key)||null,V($,st,Ot,le);case A:return st=st.get(Ot.key===null?pt:Ot.key)||null,vt($,st,Ot,le);case mt:return Ot=pr(Ot),_t(st,$,pt,Ot,le)}if(St(Ot)||G(Ot))return st=st.get(pt)||null,zt($,st,Ot,le,null);if(typeof Ot.then=="function")return _t(st,$,pt,Zs(Ot),le);if(Ot.$$typeof===Y)return _t(st,$,pt,Ls($,Ot),le);Gs($,Ot)}return null}function ne(st,$,pt,Ot){for(var le=null,Te=null,ie=$,ge=$=0,Ee=null;ie!==null&&ge<pt.length;ge++){ie.index>ge?(Ee=ie,ie=null):Ee=ie.sibling;var Ae=bt(st,ie,pt[ge],Ot);if(Ae===null){ie===null&&(ie=Ee);break}t&&ie&&Ae.alternate===null&&e(st,ie),$=s(Ae,$,ge),Te===null?le=Ae:Te.sibling=Ae,Te=Ae,ie=Ee}if(ge===pt.length)return n(st,ie),ke&&Ja(st,ge),le;if(ie===null){for(;ge<pt.length;ge++)ie=Dt(st,pt[ge],Ot),ie!==null&&($=s(ie,$,ge),Te===null?le=ie:Te.sibling=ie,Te=ie);return ke&&Ja(st,ge),le}for(ie=a(ie);ge<pt.length;ge++)Ee=_t(ie,st,ge,pt[ge],Ot),Ee!==null&&(t&&Ee.alternate!==null&&ie.delete(Ee.key===null?ge:Ee.key),$=s(Ee,$,ge),Te===null?le=Ee:Te.sibling=Ee,Te=Ee);return t&&ie.forEach(function(Gi){return e(st,Gi)}),ke&&Ja(st,ge),le}function ce(st,$,pt,Ot){if(pt==null)throw Error(c(151));for(var le=null,Te=null,ie=$,ge=$=0,Ee=null,Ae=pt.next();ie!==null&&!Ae.done;ge++,Ae=pt.next()){ie.index>ge?(Ee=ie,ie=null):Ee=ie.sibling;var Gi=bt(st,ie,Ae.value,Ot);if(Gi===null){ie===null&&(ie=Ee);break}t&&ie&&Gi.alternate===null&&e(st,ie),$=s(Gi,$,ge),Te===null?le=Gi:Te.sibling=Gi,Te=Gi,ie=Ee}if(Ae.done)return n(st,ie),ke&&Ja(st,ge),le;if(ie===null){for(;!Ae.done;ge++,Ae=pt.next())Ae=Dt(st,Ae.value,Ot),Ae!==null&&($=s(Ae,$,ge),Te===null?le=Ae:Te.sibling=Ae,Te=Ae);return ke&&Ja(st,ge),le}for(ie=a(ie);!Ae.done;ge++,Ae=pt.next())Ae=_t(ie,st,ge,Ae.value,Ot),Ae!==null&&(t&&Ae.alternate!==null&&ie.delete(Ae.key===null?ge:Ae.key),$=s(Ae,$,ge),Te===null?le=Ae:Te.sibling=Ae,Te=Ae);return t&&ie.forEach(function(d0){return e(st,d0)}),ke&&Ja(st,ge),le}function Ue(st,$,pt,Ot){if(typeof pt=="object"&&pt!==null&&pt.type===w&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case T:t:{for(var le=pt.key;$!==null;){if($.key===le){if(le=pt.type,le===w){if($.tag===7){n(st,$.sibling),Ot=r($,pt.props.children),Ot.return=st,st=Ot;break t}}else if($.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===mt&&pr(le)===$.type){n(st,$.sibling),Ot=r($,pt.props),Yl(Ot,pt),Ot.return=st,st=Ot;break t}n(st,$);break}else e(st,$);$=$.sibling}pt.type===w?(Ot=cr(pt.props.children,st.mode,Ot,pt.key),Ot.return=st,st=Ot):(Ot=Bs(pt.type,pt.key,pt.props,null,st.mode,Ot),Yl(Ot,pt),Ot.return=st,st=Ot)}return d(st);case A:t:{for(le=pt.key;$!==null;){if($.key===le)if($.tag===4&&$.stateNode.containerInfo===pt.containerInfo&&$.stateNode.implementation===pt.implementation){n(st,$.sibling),Ot=r($,pt.children||[]),Ot.return=st,st=Ot;break t}else{n(st,$);break}else e(st,$);$=$.sibling}Ot=Fu(pt,st.mode,Ot),Ot.return=st,st=Ot}return d(st);case mt:return pt=pr(pt),Ue(st,$,pt,Ot)}if(St(pt))return ne(st,$,pt,Ot);if(G(pt)){if(le=G(pt),typeof le!="function")throw Error(c(150));return pt=le.call(pt),ce(st,$,pt,Ot)}if(typeof pt.then=="function")return Ue(st,$,Zs(pt),Ot);if(pt.$$typeof===Y)return Ue(st,$,Ls(st,pt),Ot);Gs(st,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint"?(pt=""+pt,$!==null&&$.tag===6?(n(st,$.sibling),Ot=r($,pt),Ot.return=st,st=Ot):(n(st,$),Ot=Ju(pt,st.mode,Ot),Ot.return=st,st=Ot),d(st)):n(st,$)}return function(st,$,pt,Ot){try{Kl=0;var le=Ue(st,$,pt,Ot);return Ir=null,le}catch(ie){if(ie===Fr||ie===Ks)throw ie;var Te=Qn(29,ie,null,st.mode);return Te.lanes=Ot,Te.return=st,Te}}}var gr=df(!0),mf=df(!1),ji=!1;function so(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ti(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ne&2)!==0){var r=a.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),a.pending=e,e=sn(t),or(t,null,n),e}return fe(t,a,e,n),sn(t)}function Zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,He(t,n)}}function oo(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=d:s=s.next=d,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var co=!1;function Gl(){if(co){var t=Jr;if(t!==null)throw t}}function Xl(t,e,n,a){co=!1;var r=t.updateQueue;ji=!1;var s=r.firstBaseUpdate,d=r.lastBaseUpdate,z=r.shared.pending;if(z!==null){r.shared.pending=null;var V=z,vt=V.next;V.next=null,d===null?s=vt:d.next=vt,d=V;var zt=t.alternate;zt!==null&&(zt=zt.updateQueue,z=zt.lastBaseUpdate,z!==d&&(z===null?zt.firstBaseUpdate=vt:z.next=vt,zt.lastBaseUpdate=V))}if(s!==null){var Dt=r.baseState;d=0,zt=vt=V=null,z=s;do{var bt=z.lane&-536870913,_t=bt!==z.lane;if(_t?(Se&bt)===bt:(a&bt)===bt){bt!==0&&bt===Qr&&(co=!0),zt!==null&&(zt=zt.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var ne=t,ce=z;bt=e;var Ue=n;switch(ce.tag){case 1:if(ne=ce.payload,typeof ne=="function"){Dt=ne.call(Ue,Dt,bt);break t}Dt=ne;break t;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ce.payload,bt=typeof ne=="function"?ne.call(Ue,Dt,bt):ne,bt==null)break t;Dt=C({},Dt,bt);break t;case 2:ji=!0}}bt=z.callback,bt!==null&&(t.flags|=64,_t&&(t.flags|=8192),_t=r.callbacks,_t===null?r.callbacks=[bt]:_t.push(bt))}else _t={lane:bt,tag:z.tag,payload:z.payload,callback:z.callback,next:null},zt===null?(vt=zt=_t,V=Dt):zt=zt.next=_t,d|=bt;if(z=z.next,z===null){if(z=r.shared.pending,z===null)break;_t=z,z=_t.next,_t.next=null,r.lastBaseUpdate=_t,r.shared.pending=null}}while(!0);zt===null&&(V=Dt),r.baseState=V,r.firstBaseUpdate=vt,r.lastBaseUpdate=zt,s===null&&(r.shared.lanes=0),Di|=d,t.lanes=d,t.memoizedState=Dt}}function pf(t,e){if(typeof t!="function")throw Error(c(191,t));t.call(e)}function vf(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)pf(n[t],e)}var Pr=N(null),Xs=N(0);function gf(t,e){t=ri,Et(Xs,t),Et(Pr,e),ri=t|e.baseLanes}function fo(){Et(Xs,ri),Et(Pr,Pr.current)}function ho(){ri=Xs.current,L(Pr),L(Xs)}var Jn=N(null),oa=null;function zi(t){var e=t.alternate;Et(tn,tn.current&1),Et(Jn,t),oa===null&&(e===null||Pr.current!==null||e.memoizedState!==null)&&(oa=t)}function mo(t){Et(tn,tn.current),Et(Jn,t),oa===null&&(oa=t)}function yf(t){t.tag===22?(Et(tn,tn.current),Et(Jn,t),oa===null&&(oa=t)):Ni()}function Ni(){Et(tn,tn.current),Et(Jn,Jn.current)}function Fn(t){L(Jn),oa===t&&(oa=null),L(tn)}var tn=N(0);function Vs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||xc(n)||_c(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pa=0,ve=null,Re=null,on=null,Qs=!1,Wr=!1,yr=!1,Js=0,Vl=0,$r=null,ap=0;function Je(){throw Error(c(321))}function po(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function vo(t,e,n,a,r,s){return Pa=s,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ut.H=t===null||t.memoizedState===null?eh:No,yr=!1,s=n(a,r),yr=!1,Wr&&(s=xf(e,n,a,r)),bf(t),s}function bf(t){ut.H=Fl;var e=Re!==null&&Re.next!==null;if(Pa=0,on=Re=ve=null,Qs=!1,Vl=0,$r=null,e)throw Error(c(300));t===null||cn||(t=t.dependencies,t!==null&&Hs(t)&&(cn=!0))}function xf(t,e,n,a){ve=t;var r=0;do{if(Wr&&($r=null),Vl=0,Wr=!1,25<=r)throw Error(c(301));if(r+=1,on=Re=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ut.H=nh,s=e(n,a)}while(Wr);return s}function ip(){var t=ut.H,e=t.useState()[0];return e=typeof e.then=="function"?Ql(e):e,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(ve.flags|=1024),e}function go(){var t=Js!==0;return Js=0,t}function yo(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function bo(t){if(Qs){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Qs=!1}Pa=0,on=Re=ve=null,Wr=!1,Vl=Js=0,$r=null}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?ve.memoizedState=on=t:on=on.next=t,on}function en(){if(Re===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=on===null?ve.memoizedState:on.next;if(e!==null)on=e,Re=t;else{if(t===null)throw ve.alternate===null?Error(c(467)):Error(c(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},on===null?ve.memoizedState=on=t:on=on.next=t}return on}function Fs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(t){var e=Vl;return Vl+=1,$r===null&&($r=[]),t=cf($r,t,e),e=ve,(on===null?e.memoizedState:on.next)===null&&(e=e.alternate,ut.H=e===null||e.memoizedState===null?eh:No),t}function Is(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ql(t);if(t.$$typeof===Y)return _n(t)}throw Error(c(438,String(t)))}function xo(t){var e=null,n=ve.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=ve.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Fs(),ve.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=Ct;return e.index++,n}function Wa(t,e){return typeof e=="function"?e(t):e}function Ps(t){var e=en();return _o(e,Re,t)}function _o(t,e,n){var a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=n;var r=t.baseQueue,s=a.pending;if(s!==null){if(r!==null){var d=r.next;r.next=s.next,s.next=d}e.baseQueue=r=s,a.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var z=d=null,V=null,vt=e,zt=!1;do{var Dt=vt.lane&-536870913;if(Dt!==vt.lane?(Se&Dt)===Dt:(Pa&Dt)===Dt){var bt=vt.revertLane;if(bt===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),Dt===Qr&&(zt=!0);else if((Pa&bt)===bt){vt=vt.next,bt===Qr&&(zt=!0);continue}else Dt={lane:0,revertLane:vt.revertLane,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},V===null?(z=V=Dt,d=s):V=V.next=Dt,ve.lanes|=bt,Di|=bt;Dt=vt.action,yr&&n(s,Dt),s=vt.hasEagerState?vt.eagerState:n(s,Dt)}else bt={lane:Dt,revertLane:vt.revertLane,gesture:vt.gesture,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},V===null?(z=V=bt,d=s):V=V.next=bt,ve.lanes|=Dt,Di|=Dt;vt=vt.next}while(vt!==null&&vt!==e);if(V===null?d=s:V.next=z,!jn(s,t.memoizedState)&&(cn=!0,zt&&(n=Jr,n!==null)))throw n;t.memoizedState=s,t.baseState=d,t.baseQueue=V,a.lastRenderedState=s}return r===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function wo(t){var e=en(),n=e.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=t;var a=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var d=r=r.next;do s=t(s,d.action),d=d.next;while(d!==r);jn(s,e.memoizedState)||(cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function _f(t,e,n){var a=ve,r=en(),s=ke;if(s){if(n===void 0)throw Error(c(407));n=n()}else n=e();var d=!jn((Re||r).memoizedState,n);if(d&&(r.memoizedState=n,cn=!0),r=r.queue,Co(Ef.bind(null,a,r,t),[t]),r.getSnapshot!==e||d||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,tl(9,{destroy:void 0},Sf.bind(null,a,r,n,e),null),Le===null)throw Error(c(349));s||(Pa&127)!==0||wf(a,e,n)}return n}function wf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e=Fs(),ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sf(t,e,n,a){e.value=n,e.getSnapshot=a,Cf(e)&&kf(t)}function Ef(t,e,n){return n(function(){Cf(e)&&kf(t)})}function Cf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function kf(t){var e=Xe(t,2);e!==null&&Kn(e,t,2)}function So(t){var e=Mn();if(typeof t=="function"){var n=t;if(t=n(),yr){Ie(!0);try{n()}finally{Ie(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:t},e}function jf(t,e,n,a){return t.baseState=n,_o(t,Re,typeof a=="function"?a:Wa)}function rp(t,e,n,a,r){if(tu(t))throw Error(c(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){s.listeners.push(d)}};ut.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Tf(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Tf(t,e){var n=e.action,a=e.payload,r=t.state;if(e.isTransition){var s=ut.T,d={};ut.T=d;try{var z=n(r,a),V=ut.S;V!==null&&V(d,z),Af(t,e,z)}catch(vt){Eo(t,e,vt)}finally{s!==null&&d.types!==null&&(s.types=d.types),ut.T=s}}else try{s=n(r,a),Af(t,e,s)}catch(vt){Eo(t,e,vt)}}function Af(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){zf(t,e,a)},function(a){return Eo(t,e,a)}):zf(t,e,n)}function zf(t,e,n){e.status="fulfilled",e.value=n,Nf(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Tf(t,n)))}function Eo(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Nf(e),e=e.next;while(e!==a)}t.action=null}function Nf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Of(t,e){return e}function Mf(t,e){if(ke){var n=Le.formState;if(n!==null){t:{var a=ve;if(ke){if(Ze){e:{for(var r=Ze,s=ua;r.nodeType!==8;){if(!s){r=null;break e}if(r=ca(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ze=ca(r.nextSibling),a=r.data==="F!";break t}}Ci(a)}a=!1}a&&(e=n[0])}}return n=Mn(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:e},n.queue=a,n=Wf.bind(null,ve,a),a.dispatch=n,a=So(!1),s=zo.bind(null,ve,!1,a.queue),a=Mn(),r={state:e,dispatch:null,action:t,pending:null},a.queue=r,n=rp.bind(null,ve,r,s,n),r.dispatch=n,a.memoizedState=t,[e,n,!1]}function Df(t){var e=en();return Rf(e,Re,t)}function Rf(t,e,n){if(e=_o(t,e,Of)[0],t=Ps(Wa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Ql(e)}catch(d){throw d===Fr?Ks:d}else a=e;e=en();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(ve.flags|=2048,tl(9,{destroy:void 0},lp.bind(null,r,n),null)),[a,s,t]}function lp(t,e){t.action=e}function Bf(t){var e=en(),n=Re;if(n!==null)return Rf(e,n,t);en(),e=e.memoizedState,n=en();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function tl(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=ve.updateQueue,e===null&&(e=Fs(),ve.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Uf(){return en().memoizedState}function Ws(t,e,n,a){var r=Mn();ve.flags|=t,r.memoizedState=tl(1|e,{destroy:void 0},n,a===void 0?null:a)}function $s(t,e,n,a){var r=en();a=a===void 0?null:a;var s=r.memoizedState.inst;Re!==null&&a!==null&&po(a,Re.memoizedState.deps)?r.memoizedState=tl(e,s,n,a):(ve.flags|=t,r.memoizedState=tl(1|e,s,n,a))}function Hf(t,e){Ws(8390656,8,t,e)}function Co(t,e){$s(2048,8,t,e)}function sp(t){ve.flags|=4;var e=ve.updateQueue;if(e===null)e=Fs(),ve.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Lf(t){var e=en().memoizedState;return sp({ref:e,nextImpl:t}),function(){if((Ne&2)!==0)throw Error(c(440));return e.impl.apply(void 0,arguments)}}function qf(t,e){return $s(4,2,t,e)}function Kf(t,e){return $s(4,4,t,e)}function Yf(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zf(t,e,n){n=n!=null?n.concat([t]):null,$s(4,4,Yf.bind(null,e,t),n)}function ko(){}function Gf(t,e){var n=en();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&po(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function Xf(t,e){var n=en();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&po(e,a[1]))return a[0];if(a=t(),yr){Ie(!0);try{t()}finally{Ie(!1)}}return n.memoizedState=[a,e],a}function jo(t,e,n){return n===void 0||(Pa&1073741824)!==0&&(Se&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=Vh(),ve.lanes|=t,Di|=t,n)}function Vf(t,e,n,a){return jn(n,e)?n:Pr.current!==null?(t=jo(t,n,a),jn(t,e)||(cn=!0),t):(Pa&42)===0||(Pa&1073741824)!==0&&(Se&261930)===0?(cn=!0,t.memoizedState=n):(t=Vh(),ve.lanes|=t,Di|=t,e)}function Qf(t,e,n,a,r){var s=ot.p;ot.p=s!==0&&8>s?s:8;var d=ut.T,z={};ut.T=z,zo(t,!1,e,n);try{var V=r(),vt=ut.S;if(vt!==null&&vt(z,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var zt=np(V,a);Jl(t,e,zt,Wn(t))}else Jl(t,e,a,Wn(t))}catch(Dt){Jl(t,e,{then:function(){},status:"rejected",reason:Dt},Wn())}finally{ot.p=s,d!==null&&z.types!==null&&(d.types=z.types),ut.T=d}}function up(){}function To(t,e,n,a){if(t.tag!==5)throw Error(c(476));var r=Jf(t).queue;Qf(t,r,e,Ut,n===null?up:function(){return Ff(t),n(a)})}function Jf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ut,baseState:Ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:Ut},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ff(t){var e=Jf(t);e.next===null&&(e=t.alternate.memoizedState),Jl(t,e.next.queue,{},Wn())}function Ao(){return _n(fs)}function If(){return en().memoizedState}function Pf(){return en().memoizedState}function op(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Wn();t=Ti(n);var a=Ai(e,t,n);a!==null&&(Kn(a,e,n),Zl(a,e,n)),e={cache:ao()},t.payload=e;return}e=e.return}}function cp(t,e,n){var a=Wn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},tu(t)?$f(e,n):(n=ln(t,e,n,a),n!==null&&(Kn(n,t,a),th(n,e,a)))}function Wf(t,e,n){var a=Wn();Jl(t,e,n,a)}function Jl(t,e,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(tu(t))$f(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var d=e.lastRenderedState,z=s(d,n);if(r.hasEagerState=!0,r.eagerState=z,jn(z,d))return fe(t,e,r,0),Le===null&&vn(),!1}catch{}if(n=ln(t,e,r,a),n!==null)return Kn(n,t,a),th(n,e,a),!0}return!1}function zo(t,e,n,a){if(a={lane:2,revertLane:uc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tu(t)){if(e)throw Error(c(479))}else e=ln(t,n,a,2),e!==null&&Kn(e,t,2)}function tu(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function $f(t,e){Wr=Qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function th(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,He(t,n)}}var Fl={readContext:_n,use:Is,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Fl.useEffectEvent=Je;var eh={readContext:_n,use:Is,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Hf,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ws(4194308,4,Yf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ws(4194308,4,t,e)},useInsertionEffect:function(t,e){Ws(4,2,t,e)},useMemo:function(t,e){var n=Mn();e=e===void 0?null:e;var a=t();if(yr){Ie(!0);try{t()}finally{Ie(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Mn();if(n!==void 0){var r=n(e);if(yr){Ie(!0);try{n(e)}finally{Ie(!1)}}}else r=e;return a.memoizedState=a.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=cp.bind(null,ve,t),[a.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:function(t){t=So(t);var e=t.queue,n=Wf.bind(null,ve,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ko,useDeferredValue:function(t,e){var n=Mn();return jo(n,t,e)},useTransition:function(){var t=So(!1);return t=Qf.bind(null,ve,t.queue,!0,!1),Mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=ve,r=Mn();if(ke){if(n===void 0)throw Error(c(407));n=n()}else{if(n=e(),Le===null)throw Error(c(349));(Se&127)!==0||wf(a,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Hf(Ef.bind(null,a,s,t),[t]),a.flags|=2048,tl(9,{destroy:void 0},Sf.bind(null,a,s,n,e),null),n},useId:function(){var t=Mn(),e=Le.identifierPrefix;if(ke){var n=Oa,a=Na;n=(a&~(1<<32-Jt(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Js++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ap++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Ao,useFormState:Mf,useActionState:Mf,useOptimistic:function(t){var e=Mn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=zo.bind(null,ve,!0,n),n.dispatch=e,[t,e]},useMemoCache:xo,useCacheRefresh:function(){return Mn().memoizedState=op.bind(null,ve)},useEffectEvent:function(t){var e=Mn(),n={impl:t};return e.memoizedState=n,function(){if((Ne&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},No={readContext:_n,use:Is,useCallback:Gf,useContext:_n,useEffect:Co,useImperativeHandle:Zf,useInsertionEffect:qf,useLayoutEffect:Kf,useMemo:Xf,useReducer:Ps,useRef:Uf,useState:function(){return Ps(Wa)},useDebugValue:ko,useDeferredValue:function(t,e){var n=en();return Vf(n,Re.memoizedState,t,e)},useTransition:function(){var t=Ps(Wa)[0],e=en().memoizedState;return[typeof t=="boolean"?t:Ql(t),e]},useSyncExternalStore:_f,useId:If,useHostTransitionStatus:Ao,useFormState:Df,useActionState:Df,useOptimistic:function(t,e){var n=en();return jf(n,Re,t,e)},useMemoCache:xo,useCacheRefresh:Pf};No.useEffectEvent=Lf;var nh={readContext:_n,use:Is,useCallback:Gf,useContext:_n,useEffect:Co,useImperativeHandle:Zf,useInsertionEffect:qf,useLayoutEffect:Kf,useMemo:Xf,useReducer:wo,useRef:Uf,useState:function(){return wo(Wa)},useDebugValue:ko,useDeferredValue:function(t,e){var n=en();return Re===null?jo(n,t,e):Vf(n,Re.memoizedState,t,e)},useTransition:function(){var t=wo(Wa)[0],e=en().memoizedState;return[typeof t=="boolean"?t:Ql(t),e]},useSyncExternalStore:_f,useId:If,useHostTransitionStatus:Ao,useFormState:Bf,useActionState:Bf,useOptimistic:function(t,e){var n=en();return Re!==null?jf(n,Re,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:xo,useCacheRefresh:Pf};nh.useEffectEvent=Lf;function Oo(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:C({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mo={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=Wn(),r=Ti(a);r.payload=e,n!=null&&(r.callback=n),e=Ai(t,r,a),e!==null&&(Kn(e,t,a),Zl(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=Wn(),r=Ti(a);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ai(t,r,a),e!==null&&(Kn(e,t,a),Zl(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),a=Ti(n);a.tag=2,e!=null&&(a.callback=e),e=Ai(t,a,n),e!==null&&(Kn(e,t,n),Zl(e,t,n))}};function ah(t,e,n,a,r,s,d){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,d):e.prototype&&e.prototype.isPureReactComponent?!i(n,a)||!i(r,s):!0}function ih(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&Mo.enqueueReplaceState(e,e.state,null)}function br(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=C({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function rh(t){$t(t)}function lh(t){console.error(t)}function sh(t){$t(t)}function eu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function uh(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Do(t,e,n){return n=Ti(n),n.tag=3,n.payload={element:null},n.callback=function(){eu(t,e)},n}function oh(t){return t=Ti(t),t.tag=3,t}function ch(t,e,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=a.value;t.payload=function(){return r(s)},t.callback=function(){uh(e,n,a)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(t.callback=function(){uh(e,n,a),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var z=a.stack;this.componentDidCatch(a.value,{componentStack:z!==null?z:""})})}function fp(t,e,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Vr(e,n,r,!0),n=Jn.current,n!==null){switch(n.tag){case 31:case 13:return oa===null?du():n.alternate===null&&Fe===0&&(Fe=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===Ys?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),rc(t,a,r)),!1;case 22:return n.flags|=65536,a===Ys?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),rc(t,a,r)),!1}throw Error(c(435,n.tag))}return rc(t,a,r),du(),!1}if(ke)return e=Jn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=r,a!==Wu&&(t=Error(c(422),{cause:a}),Hl(ra(t,n)))):(a!==Wu&&(e=Error(c(423),{cause:a}),Hl(ra(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,a=ra(a,n),r=Do(t.stateNode,a,r),oo(t,r),Fe!==4&&(Fe=2)),!1;var s=Error(c(520),{cause:a});if(s=ra(s,n),as===null?as=[s]:as.push(s),Fe!==4&&(Fe=2),e===null)return!0;a=ra(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Do(n.stateNode,a,t),oo(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ri===null||!Ri.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=oh(r),ch(r,t,n,a),oo(n,r),!1}n=n.return}while(n!==null);return!1}var Ro=Error(c(461)),cn=!1;function wn(t,e,n,a){e.child=t===null?mf(e,null,n,a):gr(e,t.child,n,a)}function fh(t,e,n,a,r){n=n.render;var s=e.ref;if("ref"in a){var d={};for(var z in a)z!=="ref"&&(d[z]=a[z])}else d=a;return dr(e),a=vo(t,e,n,d,s,r),z=go(),t!==null&&!cn?(yo(t,e,r),$a(t,e,r)):(ke&&z&&Iu(e),e.flags|=1,wn(t,e,a,r),e.child)}function hh(t,e,n,a,r){if(t===null){var s=n.type;return typeof s=="function"&&!Qu(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,dh(t,e,s,a,r)):(t=Bs(n.type,null,a,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Zo(t,r)){var d=s.memoizedProps;if(n=n.compare,n=n!==null?n:i,n(d,a)&&t.ref===e.ref)return $a(t,e,r)}return e.flags|=1,t=Qa(s,a),t.ref=e.ref,t.return=e,e.child=t}function dh(t,e,n,a,r){if(t!==null){var s=t.memoizedProps;if(i(s,a)&&t.ref===e.ref)if(cn=!1,e.pendingProps=a=s,Zo(t,r))(t.flags&131072)!==0&&(cn=!0);else return e.lanes=t.lanes,$a(t,e,r)}return Bo(t,e,n,a,r)}function mh(t,e,n,a){var r=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~s}else a=0,e.child=null;return ph(t,e,s,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&qs(e,s!==null?s.cachePool:null),s!==null?gf(e,s):fo(),yf(e);else return a=e.lanes=536870912,ph(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(qs(e,s.cachePool),gf(e,s),Ni(),e.memoizedState=null):(t!==null&&qs(e,null),fo(),Ni());return wn(t,e,r,n),e.child}function Il(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function ph(t,e,n,a,r){var s=ro();return s=s===null?null:{parent:un._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&qs(e,null),fo(),yf(e),t!==null&&Vr(t,e,a,!0),e.childLanes=r,null}function nu(t,e){return e=iu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function vh(t,e,n){return gr(e,t.child,null,n),t=nu(e,e.pendingProps),t.flags|=2,Fn(e),e.memoizedState=null,t}function hp(t,e,n){var a=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ke){if(a.mode==="hidden")return t=nu(e,a),e.lanes=536870912,Il(null,t);if(mo(e),(t=Ze)?(t=Td(t,ua),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Si!==null?{id:Na,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},n=Wc(t),n.return=e,e.child=n,xn=e,Ze=null)):t=null,t===null)throw Ci(e);return e.lanes=536870912,null}return nu(e,a)}var s=t.memoizedState;if(s!==null){var d=s.dehydrated;if(mo(e),r)if(e.flags&256)e.flags&=-257,e=vh(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(c(558));else if(cn||Vr(t,e,n,!1),r=(n&t.childLanes)!==0,cn||r){if(a=Le,a!==null&&(d=Pe(a,n),d!==0&&d!==s.retryLane))throw s.retryLane=d,Xe(t,d),Kn(a,t,d),Ro;du(),e=vh(t,e,n)}else t=s.treeContext,Ze=ca(d.nextSibling),xn=e,ke=!0,Ei=null,ua=!1,t!==null&&ef(e,t),e=nu(e,a),e.flags|=4096;return e}return t=Qa(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function au(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Bo(t,e,n,a,r){return dr(e),n=vo(t,e,n,a,void 0,r),a=go(),t!==null&&!cn?(yo(t,e,r),$a(t,e,r)):(ke&&a&&Iu(e),e.flags|=1,wn(t,e,n,r),e.child)}function gh(t,e,n,a,r,s){return dr(e),e.updateQueue=null,n=xf(e,a,n,r),bf(t),a=go(),t!==null&&!cn?(yo(t,e,s),$a(t,e,s)):(ke&&a&&Iu(e),e.flags|=1,wn(t,e,n,s),e.child)}function yh(t,e,n,a,r){if(dr(e),e.stateNode===null){var s=Bn,d=n.contextType;typeof d=="object"&&d!==null&&(s=_n(d)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mo,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},so(e),d=n.contextType,s.context=typeof d=="object"&&d!==null?_n(d):Bn,s.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Oo(e,n,d,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(d=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),d!==s.state&&Mo.enqueueReplaceState(s,s.state,null),Xl(e,a,s,r),Gl(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var z=e.memoizedProps,V=br(n,z);s.props=V;var vt=s.context,zt=n.contextType;d=Bn,typeof zt=="object"&&zt!==null&&(d=_n(zt));var Dt=n.getDerivedStateFromProps;zt=typeof Dt=="function"||typeof s.getSnapshotBeforeUpdate=="function",z=e.pendingProps!==z,zt||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(z||vt!==d)&&ih(e,s,a,d),ji=!1;var bt=e.memoizedState;s.state=bt,Xl(e,a,s,r),Gl(),vt=e.memoizedState,z||bt!==vt||ji?(typeof Dt=="function"&&(Oo(e,n,Dt,a),vt=e.memoizedState),(V=ji||ah(e,n,V,a,bt,vt,d))?(zt||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=vt),s.props=a,s.state=vt,s.context=d,a=V):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,uo(t,e),d=e.memoizedProps,zt=br(n,d),s.props=zt,Dt=e.pendingProps,bt=s.context,vt=n.contextType,V=Bn,typeof vt=="object"&&vt!==null&&(V=_n(vt)),z=n.getDerivedStateFromProps,(vt=typeof z=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(d!==Dt||bt!==V)&&ih(e,s,a,V),ji=!1,bt=e.memoizedState,s.state=bt,Xl(e,a,s,r),Gl();var _t=e.memoizedState;d!==Dt||bt!==_t||ji||t!==null&&t.dependencies!==null&&Hs(t.dependencies)?(typeof z=="function"&&(Oo(e,n,z,a),_t=e.memoizedState),(zt=ji||ah(e,n,zt,a,bt,_t,V)||t!==null&&t.dependencies!==null&&Hs(t.dependencies))?(vt||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,_t,V),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,_t,V)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||d===t.memoizedProps&&bt===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&bt===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=_t),s.props=a,s.state=_t,s.context=V,a=zt):(typeof s.componentDidUpdate!="function"||d===t.memoizedProps&&bt===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&bt===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,au(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=gr(e,t.child,null,r),e.child=gr(e,null,n,r)):wn(t,e,n,r),e.memoizedState=s.state,t=e.child):t=$a(t,e,r),t}function bh(t,e,n,a){return fr(),e.flags|=256,wn(t,e,n,a),e.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(t){return{baseLanes:t,cachePool:uf()}}function Lo(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Pn),t}function xh(t,e,n){var a=e.pendingProps,r=!1,s=(e.flags&128)!==0,d;if((d=s)||(d=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),d&&(r=!0,e.flags&=-129),d=(e.flags&32)!==0,e.flags&=-33,t===null){if(ke){if(r?zi(e):Ni(),(t=Ze)?(t=Td(t,ua),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Si!==null?{id:Na,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},n=Wc(t),n.return=e,e.child=n,xn=e,Ze=null)):t=null,t===null)throw Ci(e);return _c(t)?e.lanes=32:e.lanes=536870912,null}var z=a.children;return a=a.fallback,r?(Ni(),r=e.mode,z=iu({mode:"hidden",children:z},r),a=cr(a,r,n,null),z.return=e,a.return=e,z.sibling=a,e.child=z,a=e.child,a.memoizedState=Ho(n),a.childLanes=Lo(t,d,n),e.memoizedState=Uo,Il(null,a)):(zi(e),qo(e,z))}var V=t.memoizedState;if(V!==null&&(z=V.dehydrated,z!==null)){if(s)e.flags&256?(zi(e),e.flags&=-257,e=Ko(t,e,n)):e.memoizedState!==null?(Ni(),e.child=t.child,e.flags|=128,e=null):(Ni(),z=a.fallback,r=e.mode,a=iu({mode:"visible",children:a.children},r),z=cr(z,r,n,null),z.flags|=2,a.return=e,z.return=e,a.sibling=z,e.child=a,gr(e,t.child,null,n),a=e.child,a.memoizedState=Ho(n),a.childLanes=Lo(t,d,n),e.memoizedState=Uo,e=Il(null,a));else if(zi(e),_c(z)){if(d=z.nextSibling&&z.nextSibling.dataset,d)var vt=d.dgst;d=vt,a=Error(c(419)),a.stack="",a.digest=d,Hl({value:a,source:null,stack:null}),e=Ko(t,e,n)}else if(cn||Vr(t,e,n,!1),d=(n&t.childLanes)!==0,cn||d){if(d=Le,d!==null&&(a=Pe(d,n),a!==0&&a!==V.retryLane))throw V.retryLane=a,Xe(t,a),Kn(d,t,a),Ro;xc(z)||du(),e=Ko(t,e,n)}else xc(z)?(e.flags|=192,e.child=t.child,e=null):(t=V.treeContext,Ze=ca(z.nextSibling),xn=e,ke=!0,Ei=null,ua=!1,t!==null&&ef(e,t),e=qo(e,a.children),e.flags|=4096);return e}return r?(Ni(),z=a.fallback,r=e.mode,V=t.child,vt=V.sibling,a=Qa(V,{mode:"hidden",children:a.children}),a.subtreeFlags=V.subtreeFlags&65011712,vt!==null?z=Qa(vt,z):(z=cr(z,r,n,null),z.flags|=2),z.return=e,a.return=e,a.sibling=z,e.child=a,Il(null,a),a=e.child,z=t.child.memoizedState,z===null?z=Ho(n):(r=z.cachePool,r!==null?(V=un._currentValue,r=r.parent!==V?{parent:V,pool:V}:r):r=uf(),z={baseLanes:z.baseLanes|n,cachePool:r}),a.memoizedState=z,a.childLanes=Lo(t,d,n),e.memoizedState=Uo,Il(t.child,a)):(zi(e),n=t.child,t=n.sibling,n=Qa(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(d=e.deletions,d===null?(e.deletions=[t],e.flags|=16):d.push(t)),e.child=n,e.memoizedState=null,n)}function qo(t,e){return e=iu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function iu(t,e){return t=Qn(22,t,null,e),t.lanes=0,t}function Ko(t,e,n){return gr(e,t.child,null,n),t=qo(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _h(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),eo(t.return,e,n)}function Yo(t,e,n,a,r,s){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:s}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=r,d.treeForkCount=s)}function wh(t,e,n){var a=e.pendingProps,r=a.revealOrder,s=a.tail;a=a.children;var d=tn.current,z=(d&2)!==0;if(z?(d=d&1|2,e.flags|=128):d&=1,Et(tn,d),wn(t,e,a,n),a=ke?Ul:0,!z&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_h(t,n,e);else if(t.tag===19)_h(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vs(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Yo(e,!1,r,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vs(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Yo(e,!0,n,null,s,a);break;case"together":Yo(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function $a(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Vr(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(c(153));if(e.child!==null){for(t=e.child,n=Qa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zo(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Hs(t)))}function dp(t,e,n){switch(e.tag){case 3:se(e,e.stateNode.containerInfo),ki(e,un,t.memoizedState.cache),fr();break;case 27:case 5:xt(e);break;case 4:se(e,e.stateNode.containerInfo);break;case 10:ki(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,mo(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(zi(e),e.flags|=128,null):(n&e.child.childLanes)!==0?xh(t,e,n):(zi(e),t=$a(t,e,n),t!==null?t.sibling:null);zi(e);break;case 19:var r=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Vr(t,e,n,!1),a=(n&e.childLanes)!==0),r){if(a)return wh(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Et(tn,tn.current),a)break;return null;case 22:return e.lanes=0,mh(t,e,n,e.pendingProps);case 24:ki(e,un,t.memoizedState.cache)}return $a(t,e,n)}function Sh(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)cn=!0;else{if(!Zo(t,n)&&(e.flags&128)===0)return cn=!1,dp(t,e,n);cn=(t.flags&131072)!==0}else cn=!1,ke&&(e.flags&1048576)!==0&&tf(e,Ul,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=pr(e.elementType),e.type=t,typeof t=="function")Qu(t)?(a=br(t,a),e.tag=1,e=yh(null,e,t,a,n)):(e.tag=0,e=Bo(null,e,t,a,n));else{if(t!=null){var r=t.$$typeof;if(r===J){e.tag=11,e=fh(null,e,t,a,n);break t}else if(r===X){e.tag=14,e=hh(null,e,t,a,n);break t}}throw e=S(t)||t,Error(c(306,e,""))}}return e;case 0:return Bo(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,r=br(a,e.pendingProps),yh(t,e,a,r,n);case 3:t:{if(se(e,e.stateNode.containerInfo),t===null)throw Error(c(387));a=e.pendingProps;var s=e.memoizedState;r=s.element,uo(t,e),Xl(e,a,null,n);var d=e.memoizedState;if(a=d.cache,ki(e,un,a),a!==s.cache&&no(e,[un],n,!0),Gl(),a=d.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:d.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=bh(t,e,a,n);break t}else if(a!==r){r=ra(Error(c(424)),e),Hl(r),e=bh(t,e,a,n);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ze=ca(t.firstChild),xn=e,ke=!0,Ei=null,ua=!0,n=mf(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fr(),a===r){e=$a(t,e,n);break t}wn(t,e,a,n)}e=e.child}return e;case 26:return au(t,e),t===null?(n=Dd(e.type,null,e.pendingProps,null))?e.memoizedState=n:ke||(n=e.type,t=e.pendingProps,a=xu(te.current).createElement(n),a[qe]=e,a[We]=t,Sn(a,n,t),$e(a),e.stateNode=a):e.memoizedState=Dd(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return xt(e),t===null&&ke&&(a=e.stateNode=Nd(e.type,e.pendingProps,te.current),xn=e,ua=!0,r=Ze,Li(e.type)?(wc=r,Ze=ca(a.firstChild)):Ze=r),wn(t,e,e.pendingProps.children,n),au(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ke&&((r=a=Ze)&&(a=Zp(a,e.type,e.pendingProps,ua),a!==null?(e.stateNode=a,xn=e,Ze=ca(a.firstChild),ua=!1,r=!0):r=!1),r||Ci(e)),xt(e),r=e.type,s=e.pendingProps,d=t!==null?t.memoizedProps:null,a=s.children,gc(r,s)?a=null:d!==null&&gc(r,d)&&(e.flags|=32),e.memoizedState!==null&&(r=vo(t,e,ip,null,null,n),fs._currentValue=r),au(t,e),wn(t,e,a,n),e.child;case 6:return t===null&&ke&&((t=n=Ze)&&(n=Gp(n,e.pendingProps,ua),n!==null?(e.stateNode=n,xn=e,Ze=null,t=!0):t=!1),t||Ci(e)),null;case 13:return xh(t,e,n);case 4:return se(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=gr(e,null,a,n):wn(t,e,a,n),e.child;case 11:return fh(t,e,e.type,e.pendingProps,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,ki(e,e.type,a.value),wn(t,e,a.children,n),e.child;case 9:return r=e.type._context,a=e.pendingProps.children,dr(e),r=_n(r),a=a(r),e.flags|=1,wn(t,e,a,n),e.child;case 14:return hh(t,e,e.type,e.pendingProps,n);case 15:return dh(t,e,e.type,e.pendingProps,n);case 19:return wh(t,e,n);case 31:return hp(t,e,n);case 22:return mh(t,e,n,e.pendingProps);case 24:return dr(e),a=_n(un),t===null?(r=ro(),r===null&&(r=Le,s=ao(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:a,cache:r},so(e),ki(e,un,r)):((t.lanes&n)!==0&&(uo(t,e),Xl(e,null,null,n),Gl()),r=t.memoizedState,s=e.memoizedState,r.parent!==a?(r={parent:a,cache:a},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),ki(e,un,a)):(a=s.cache,ki(e,un,a),a!==r.cache&&no(e,[un],n,!0))),wn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(c(156,e.tag))}function ti(t){t.flags|=4}function Go(t,e,n,a,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(Ih())t.flags|=8192;else throw vr=Ys,lo}else t.flags&=-16777217}function Eh(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ld(e))if(Ih())t.flags|=8192;else throw vr=Ys,lo}function ru(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?_s():536870912,t.lanes|=e,il|=e)}function Pl(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function mp(t,e,n){var a=e.pendingProps;switch(Pu(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(e),null;case 1:return Ge(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Ia(un),Rt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xr(e)?ti(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,$u())),Ge(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(ti(e),s!==null?(Ge(e),Eh(e,s)):(Ge(e),Go(e,r,null,a,n))):s?s!==t.memoizedState?(ti(e),Ge(e),Eh(e,s)):(Ge(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&ti(e),Ge(e),Go(e,r,t,a,n)),null;case 27:if(Qt(e),n=te.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&ti(e);else{if(!a){if(e.stateNode===null)throw Error(c(166));return Ge(e),null}t=wt.current,Xr(e)?nf(e):(t=Nd(r,a,n),e.stateNode=t,ti(e))}return Ge(e),null;case 5:if(Qt(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&ti(e);else{if(!a){if(e.stateNode===null)throw Error(c(166));return Ge(e),null}if(s=wt.current,Xr(e))nf(e);else{var d=xu(te.current);switch(s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?d.createElement(r,{is:a.is}):d.createElement(r)}}s[qe]=e,s[We]=a;t:for(d=e.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}e.stateNode=s;t:switch(Sn(s,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&ti(e)}}return Ge(e),Go(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&ti(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(c(166));if(t=te.current,Xr(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,r=xn,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}t[qe]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||xd(t.nodeValue,n)),t||Ci(e,!0)}else t=xu(t).createTextNode(a),t[qe]=e,e.stateNode=t}return Ge(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Xr(e),n!==null){if(t===null){if(!a)throw Error(c(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[qe]=e}else fr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ge(e),t=!1}else n=$u(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Fn(e),e):(Fn(e),null);if((e.flags&128)!==0)throw Error(c(558))}return Ge(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Xr(e),a!==null&&a.dehydrated!==null){if(t===null){if(!r)throw Error(c(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[qe]=e}else fr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ge(e),r=!1}else r=$u(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Fn(e),e):(Fn(e),null)}return Fn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==r&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ru(e,e.updateQueue),Ge(e),null);case 4:return Rt(),t===null&&hc(e.stateNode.containerInfo),Ge(e),null;case 10:return Ia(e.type),Ge(e),null;case 19:if(L(tn),a=e.memoizedState,a===null)return Ge(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Pl(a,!1);else{if(Fe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Vs(t),s!==null){for(e.flags|=128,Pl(a,!1),t=s.updateQueue,e.updateQueue=t,ru(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Pc(n,t),n=n.sibling;return Et(tn,tn.current&1|2),ke&&Ja(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&Xt()>cu&&(e.flags|=128,r=!0,Pl(a,!1),e.lanes=4194304)}else{if(!r)if(t=Vs(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,ru(e,t),Pl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ke)return Ge(e),null}else 2*Xt()-a.renderingStartTime>cu&&n!==536870912&&(e.flags|=128,r=!0,Pl(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xt(),t.sibling=null,n=tn.current,Et(tn,r?n&1|2:n&1),ke&&Ja(e,a.treeForkCount),t):(Ge(e),null);case 22:case 23:return Fn(e),ho(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(Ge(e),e.subtreeFlags&6&&(e.flags|=8192)):Ge(e),n=e.updateQueue,n!==null&&ru(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&L(mr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ia(un),Ge(e),null;case 25:return null;case 30:return null}throw Error(c(156,e.tag))}function pp(t,e){switch(Pu(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(un),Rt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Qt(e),null;case 31:if(e.memoizedState!==null){if(Fn(e),e.alternate===null)throw Error(c(340));fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Fn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(c(340));fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return L(tn),null;case 4:return Rt(),null;case 10:return Ia(e.type),null;case 22:case 23:return Fn(e),ho(),t!==null&&L(mr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ia(un),null;case 25:return null;default:return null}}function Ch(t,e){switch(Pu(e),e.tag){case 3:Ia(un),Rt();break;case 26:case 27:case 5:Qt(e);break;case 4:Rt();break;case 31:e.memoizedState!==null&&Fn(e);break;case 13:Fn(e);break;case 19:L(tn);break;case 10:Ia(e.type);break;case 22:case 23:Fn(e),ho(),t!==null&&L(mr);break;case 24:Ia(un)}}function Wl(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&t)===t){a=void 0;var s=n.create,d=n.inst;a=s(),d.destroy=a}n=n.next}while(n!==r)}}catch(z){Me(e,e.return,z)}}function Oi(t,e,n){try{var a=e.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var s=r.next;a=s;do{if((a.tag&t)===t){var d=a.inst,z=d.destroy;if(z!==void 0){d.destroy=void 0,r=e;var V=n,vt=z;try{vt()}catch(zt){Me(r,V,zt)}}}a=a.next}while(a!==s)}}catch(zt){Me(e,e.return,zt)}}function kh(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{vf(e,n)}catch(a){Me(t,t.return,a)}}}function jh(t,e,n){n.props=br(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Me(t,e,a)}}function $l(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(r){Me(t,e,r)}}function Ma(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){Me(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function Th(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){Me(t,t.return,r)}}function Xo(t,e,n){try{var a=t.stateNode;Up(a,t.type,n,e),a[We]=e}catch(r){Me(t,t.return,r)}}function Ah(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Li(t.type)||t.tag===4}function Vo(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ah(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Li(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qo(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rn));else if(a!==4&&(a===27&&Li(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Qo(t,e,n),t=t.sibling;t!==null;)Qo(t,e,n),t=t.sibling}function lu(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Li(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(lu(t,e,n),t=t.sibling;t!==null;)lu(t,e,n),t=t.sibling}function zh(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Sn(e,a,n),e[qe]=t,e[We]=n}catch(s){Me(t,t.return,s)}}var ei=!1,fn=!1,Jo=!1,Nh=typeof WeakSet=="function"?WeakSet:Set,gn=null;function vp(t,e){if(t=t.containerInfo,pc=ju,t=_(t),j(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var d=0,z=-1,V=-1,vt=0,zt=0,Dt=t,bt=null;e:for(;;){for(var _t;Dt!==n||r!==0&&Dt.nodeType!==3||(z=d+r),Dt!==s||a!==0&&Dt.nodeType!==3||(V=d+a),Dt.nodeType===3&&(d+=Dt.nodeValue.length),(_t=Dt.firstChild)!==null;)bt=Dt,Dt=_t;for(;;){if(Dt===t)break e;if(bt===n&&++vt===r&&(z=d),bt===s&&++zt===a&&(V=d),(_t=Dt.nextSibling)!==null)break;Dt=bt,bt=Dt.parentNode}Dt=_t}n=z===-1||V===-1?null:{start:z,end:V}}else n=null}n=n||{start:0,end:0}}else n=null;for(vc={focusedElem:t,selectionRange:n},ju=!1,gn=e;gn!==null;)if(e=gn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,gn=t;else for(;gn!==null;){switch(e=gn,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var ne=br(n.type,r);t=a.getSnapshotBeforeUpdate(ne,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(ce){Me(n,n.return,ce)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)bc(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=e.sibling,t!==null){t.return=e.return,gn=t;break}gn=e.return}}function Oh(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ai(t,n),a&4&&Wl(5,n);break;case 1:if(ai(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(d){Me(n,n.return,d)}else{var r=br(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(d){Me(n,n.return,d)}}a&64&&kh(n),a&512&&$l(n,n.return);break;case 3:if(ai(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{vf(t,e)}catch(d){Me(n,n.return,d)}}break;case 27:e===null&&a&4&&zh(n);case 26:case 5:ai(t,n),e===null&&a&4&&Th(n),a&512&&$l(n,n.return);break;case 12:ai(t,n);break;case 31:ai(t,n),a&4&&Rh(t,n);break;case 13:ai(t,n),a&4&&Bh(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Cp.bind(null,n),Xp(t,n))));break;case 22:if(a=n.memoizedState!==null||ei,!a){e=e!==null&&e.memoizedState!==null||fn,r=ei;var s=fn;ei=a,(fn=e)&&!s?ii(t,n,(n.subtreeFlags&8772)!==0):ai(t,n),ei=r,fn=s}break;case 30:break;default:ai(t,n)}}function Mh(t){var e=t.alternate;e!==null&&(t.alternate=null,Mh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Sr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,Un=!1;function ni(t,e,n){for(n=n.child;n!==null;)Dh(t,e,n),n=n.sibling}function Dh(t,e,n){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(je,n)}catch{}switch(n.tag){case 26:fn||Ma(n,e),ni(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fn||Ma(n,e);var a=Ve,r=Un;Li(n.type)&&(Ve=n.stateNode,Un=!1),ni(t,e,n),us(n.stateNode),Ve=a,Un=r;break;case 5:fn||Ma(n,e);case 6:if(a=Ve,r=Un,Ve=null,ni(t,e,n),Ve=a,Un=r,Ve!==null)if(Un)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(n.stateNode)}catch(s){Me(n,e,s)}else try{Ve.removeChild(n.stateNode)}catch(s){Me(n,e,s)}break;case 18:Ve!==null&&(Un?(t=Ve,kd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),hl(t)):kd(Ve,n.stateNode));break;case 4:a=Ve,r=Un,Ve=n.stateNode.containerInfo,Un=!0,ni(t,e,n),Ve=a,Un=r;break;case 0:case 11:case 14:case 15:Oi(2,n,e),fn||Oi(4,n,e),ni(t,e,n);break;case 1:fn||(Ma(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&jh(n,e,a)),ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:fn=(a=fn)||n.memoizedState!==null,ni(t,e,n),fn=a;break;default:ni(t,e,n)}}function Rh(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hl(t)}catch(n){Me(e,e.return,n)}}}function Bh(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hl(t)}catch(n){Me(e,e.return,n)}}function gp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Nh),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Nh),e;default:throw Error(c(435,t.tag))}}function su(t,e){var n=gp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var r=kp.bind(null,t,a);a.then(r,r)}})}function Hn(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],s=t,d=e,z=d;t:for(;z!==null;){switch(z.tag){case 27:if(Li(z.type)){Ve=z.stateNode,Un=!1;break t}break;case 5:Ve=z.stateNode,Un=!1;break t;case 3:case 4:Ve=z.stateNode.containerInfo,Un=!0;break t}z=z.return}if(Ve===null)throw Error(c(160));Dh(s,d,r),Ve=null,Un=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Uh(e,t),e=e.sibling}var ya=null;function Uh(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(e,t),Ln(t),a&4&&(Oi(3,t,t.return),Wl(3,t),Oi(5,t,t.return));break;case 1:Hn(e,t),Ln(t),a&512&&(fn||n===null||Ma(n,n.return)),a&64&&ei&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=ya;if(Hn(e,t),Ln(t),a&512&&(fn||n===null||Ma(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,r=r.ownerDocument||r;e:switch(a){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Gn]||s[qe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(a),r.head.insertBefore(s,r.querySelector("head > title"))),Sn(s,a,n),s[qe]=t,$e(s),a=s;break t;case"link":var d=Ud("link","href",r).get(a+(n.href||""));if(d){for(var z=0;z<d.length;z++)if(s=d[z],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(z,1);break e}}s=r.createElement(a),Sn(s,a,n),r.head.appendChild(s);break;case"meta":if(d=Ud("meta","content",r).get(a+(n.content||""))){for(z=0;z<d.length;z++)if(s=d[z],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(z,1);break e}}s=r.createElement(a),Sn(s,a,n),r.head.appendChild(s);break;default:throw Error(c(468,a))}s[qe]=t,$e(s),a=s}t.stateNode=a}else Hd(r,t.type,t.stateNode);else t.stateNode=Bd(r,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Hd(r,t.type,t.stateNode):Bd(r,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Xo(t,t.memoizedProps,n.memoizedProps)}break;case 27:Hn(e,t),Ln(t),a&512&&(fn||n===null||Ma(n,n.return)),n!==null&&a&4&&Xo(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Hn(e,t),Ln(t),a&512&&(fn||n===null||Ma(n,n.return)),t.flags&32){r=t.stateNode;try{Ha(r,"")}catch(ne){Me(t,t.return,ne)}}a&4&&t.stateNode!=null&&(r=t.memoizedProps,Xo(t,r,n!==null?n.memoizedProps:r)),a&1024&&(Jo=!0);break;case 6:if(Hn(e,t),Ln(t),a&4){if(t.stateNode===null)throw Error(c(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(ne){Me(t,t.return,ne)}}break;case 3:if(Su=null,r=ya,ya=_u(e.containerInfo),Hn(e,t),ya=r,Ln(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(ne){Me(t,t.return,ne)}Jo&&(Jo=!1,Hh(t));break;case 4:a=ya,ya=_u(t.stateNode.containerInfo),Hn(e,t),Ln(t),ya=a;break;case 12:Hn(e,t),Ln(t);break;case 31:Hn(e,t),Ln(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,su(t,a)));break;case 13:Hn(e,t),Ln(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ou=Xt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,su(t,a)));break;case 22:r=t.memoizedState!==null;var V=n!==null&&n.memoizedState!==null,vt=ei,zt=fn;if(ei=vt||r,fn=zt||V,Hn(e,t),fn=zt,ei=vt,Ln(t),a&8192)t:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||V||ei||fn||xr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){V=n=e;try{if(s=V.stateNode,r)d=s.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{z=V.stateNode;var Dt=V.memoizedProps.style,bt=Dt!=null&&Dt.hasOwnProperty("display")?Dt.display:null;z.style.display=bt==null||typeof bt=="boolean"?"":(""+bt).trim()}}catch(ne){Me(V,V.return,ne)}}}else if(e.tag===6){if(n===null){V=e;try{V.stateNode.nodeValue=r?"":V.memoizedProps}catch(ne){Me(V,V.return,ne)}}}else if(e.tag===18){if(n===null){V=e;try{var _t=V.stateNode;r?jd(_t,!0):jd(V.stateNode,!1)}catch(ne){Me(V,V.return,ne)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,su(t,n))));break;case 19:Hn(e,t),Ln(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,su(t,a)));break;case 30:break;case 21:break;default:Hn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Ah(a)){n=a;break}a=a.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var r=n.stateNode,s=Vo(t);lu(t,s,r);break;case 5:var d=n.stateNode;n.flags&32&&(Ha(d,""),n.flags&=-33);var z=Vo(t);lu(t,z,d);break;case 3:case 4:var V=n.stateNode.containerInfo,vt=Vo(t);Qo(t,vt,V);break;default:throw Error(c(161))}}catch(zt){Me(t,t.return,zt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Hh(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ai(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Oh(t,e.alternate,e),e=e.sibling}function xr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Oi(4,e,e.return),xr(e);break;case 1:Ma(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&jh(e,e.return,n),xr(e);break;case 27:us(e.stateNode);case 26:case 5:Ma(e,e.return),xr(e);break;case 22:e.memoizedState===null&&xr(e);break;case 30:xr(e);break;default:xr(e)}t=t.sibling}}function ii(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,r=t,s=e,d=s.flags;switch(s.tag){case 0:case 11:case 15:ii(r,s,n),Wl(4,s);break;case 1:if(ii(r,s,n),a=s,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(vt){Me(a,a.return,vt)}if(a=s,r=a.updateQueue,r!==null){var z=a.stateNode;try{var V=r.shared.hiddenCallbacks;if(V!==null)for(r.shared.hiddenCallbacks=null,r=0;r<V.length;r++)pf(V[r],z)}catch(vt){Me(a,a.return,vt)}}n&&d&64&&kh(s),$l(s,s.return);break;case 27:zh(s);case 26:case 5:ii(r,s,n),n&&a===null&&d&4&&Th(s),$l(s,s.return);break;case 12:ii(r,s,n);break;case 31:ii(r,s,n),n&&d&4&&Rh(r,s);break;case 13:ii(r,s,n),n&&d&4&&Bh(r,s);break;case 22:s.memoizedState===null&&ii(r,s,n),$l(s,s.return);break;case 30:break;default:ii(r,s,n)}e=e.sibling}}function Fo(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ll(n))}function Io(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ll(t))}function ba(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lh(t,e,n,a),e=e.sibling}function Lh(t,e,n,a){var r=e.flags;switch(e.tag){case 0:case 11:case 15:ba(t,e,n,a),r&2048&&Wl(9,e);break;case 1:ba(t,e,n,a);break;case 3:ba(t,e,n,a),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ll(t)));break;case 12:if(r&2048){ba(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,d=s.id,z=s.onPostCommit;typeof z=="function"&&z(d,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Me(e,e.return,V)}}else ba(t,e,n,a);break;case 31:ba(t,e,n,a);break;case 13:ba(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,d=e.alternate,e.memoizedState!==null?s._visibility&2?ba(t,e,n,a):ts(t,e):s._visibility&2?ba(t,e,n,a):(s._visibility|=2,el(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),r&2048&&Fo(d,e);break;case 24:ba(t,e,n,a),r&2048&&Io(e.alternate,e);break;default:ba(t,e,n,a)}}function el(t,e,n,a,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,d=e,z=n,V=a,vt=d.flags;switch(d.tag){case 0:case 11:case 15:el(s,d,z,V,r),Wl(8,d);break;case 23:break;case 22:var zt=d.stateNode;d.memoizedState!==null?zt._visibility&2?el(s,d,z,V,r):ts(s,d):(zt._visibility|=2,el(s,d,z,V,r)),r&&vt&2048&&Fo(d.alternate,d);break;case 24:el(s,d,z,V,r),r&&vt&2048&&Io(d.alternate,d);break;default:el(s,d,z,V,r)}e=e.sibling}}function ts(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,r=a.flags;switch(a.tag){case 22:ts(n,a),r&2048&&Fo(a.alternate,a);break;case 24:ts(n,a),r&2048&&Io(a.alternate,a);break;default:ts(n,a)}e=e.sibling}}var es=8192;function nl(t,e,n){if(t.subtreeFlags&es)for(t=t.child;t!==null;)qh(t,e,n),t=t.sibling}function qh(t,e,n){switch(t.tag){case 26:nl(t,e,n),t.flags&es&&t.memoizedState!==null&&a0(n,ya,t.memoizedState,t.memoizedProps);break;case 5:nl(t,e,n);break;case 3:case 4:var a=ya;ya=_u(t.stateNode.containerInfo),nl(t,e,n),ya=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=es,es=16777216,nl(t,e,n),es=a):nl(t,e,n));break;default:nl(t,e,n)}}function Kh(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ns(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];gn=a,Zh(a,t)}Kh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yh(t),t=t.sibling}function Yh(t){switch(t.tag){case 0:case 11:case 15:ns(t),t.flags&2048&&Oi(9,t,t.return);break;case 3:ns(t);break;case 12:ns(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,uu(t)):ns(t);break;default:ns(t)}}function uu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];gn=a,Zh(a,t)}Kh(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Oi(8,e,e.return),uu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,uu(e));break;default:uu(e)}t=t.sibling}}function Zh(t,e){for(;gn!==null;){var n=gn;switch(n.tag){case 0:case 11:case 15:Oi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ll(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,gn=a;else t:for(n=t;gn!==null;){a=gn;var r=a.sibling,s=a.return;if(Mh(a),a===n){gn=null;break t}if(r!==null){r.return=s,gn=r;break t}gn=s}}}var yp={getCacheForType:function(t){var e=_n(un),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return _n(un).controller.signal}},bp=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Le=null,_e=null,Se=0,Oe=0,In=null,Mi=!1,al=!1,Po=!1,ri=0,Fe=0,Di=0,_r=0,Wo=0,Pn=0,il=0,as=null,qn=null,$o=!1,ou=0,Gh=0,cu=1/0,fu=null,Ri=null,hn=0,Bi=null,rl=null,li=0,tc=0,ec=null,Xh=null,is=0,nc=null;function Wn(){return(Ne&2)!==0&&Se!==0?Se&-Se:ut.T!==null?uc():Ji()}function Vh(){if(Pn===0)if((Se&536870912)===0||ke){var t=ma;ma<<=1,(ma&3932160)===0&&(ma=262144),Pn=t}else Pn=536870912;return t=Jn.current,t!==null&&(t.flags|=32),Pn}function Kn(t,e,n){(t===Le&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(ll(t,0),Ui(t,Se,Pn,!1)),ta(t,n),((Ne&2)===0||t!==Le)&&(t===Le&&((Ne&2)===0&&(_r|=n),Fe===4&&Ui(t,Se,Pn,!1)),Da(t))}function Qh(t,e,n){if((Ne&6)!==0)throw Error(c(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ra(t,e),r=a?wp(t,e):ic(t,e,!0),s=a;do{if(r===0){al&&!a&&Ui(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!xp(n)){r=ic(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var d=0;else d=t.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){e=d;t:{var z=t;r=as;var V=z.current.memoizedState.isDehydrated;if(V&&(ll(z,d).flags|=256),d=ic(z,d,!1),d!==2){if(Po&&!V){z.errorRecoveryDisabledLanes|=s,_r|=s,r=4;break t}s=qn,qn=r,s!==null&&(qn===null?qn=s:qn.push.apply(qn,s))}r=d}if(s=!1,r!==2)continue}}if(r===1){ll(t,0),Ui(t,e,0,!0);break}t:{switch(a=t,s=r,s){case 0:case 1:throw Error(c(345));case 4:if((e&4194048)!==e)break;case 6:Ui(a,e,Pn,!Mi);break t;case 2:qn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((e&62914560)===e&&(r=ou+300-Xt(),10<r)){if(Ui(a,e,Pn,!Mi),Vi(a,0,!0)!==0)break t;li=e,a.timeoutHandle=Ed(Jh.bind(null,a,n,qn,fu,$o,e,Pn,_r,il,Mi,s,"Throttled",-0,0),r);break t}Jh(a,n,qn,fu,$o,e,Pn,_r,il,Mi,s,null,-0,0)}}break}while(!0);Da(t)}function Jh(t,e,n,a,r,s,d,z,V,vt,zt,Dt,bt,_t){if(t.timeoutHandle=-1,Dt=e.subtreeFlags,Dt&8192||(Dt&16785408)===16785408){Dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},qh(e,s,Dt);var ne=(s&62914560)===s?ou-Xt():(s&4194048)===s?Gh-Xt():0;if(ne=i0(Dt,ne),ne!==null){li=s,t.cancelPendingCommit=ne(nd.bind(null,t,e,s,n,a,r,d,z,V,zt,Dt,null,bt,_t)),Ui(t,s,d,!vt);return}}nd(t,e,s,n,a,r,d,z,V)}function xp(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!jn(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e,n,a){e&=~Wo,e&=~_r,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var r=e;0<r;){var s=31-Jt(r),d=1<<s;a[s]=-1,r&=~d}n!==0&&Qi(t,n,e)}function hu(){return(Ne&6)===0?(rs(0),!1):!0}function ac(){if(_e!==null){if(Oe===0)var t=_e.return;else t=_e,Fa=hr=null,bo(t),Ir=null,Kl=0,t=_e;for(;t!==null;)Ch(t.alternate,t),t=t.return;_e=null}}function ll(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,qp(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),li=0,ac(),Le=t,_e=n=Qa(t.current,null),Se=e,Oe=0,In=null,Mi=!1,al=Ra(t,e),Po=!1,il=Pn=Wo=_r=Di=Fe=0,qn=as=null,$o=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var r=31-Jt(a),s=1<<r;e|=t[r],a&=~s}return ri=e,vn(),n}function Fh(t,e){ve=null,ut.H=Fl,e===Fr||e===Ks?(e=ff(),Oe=3):e===lo?(e=ff(),Oe=4):Oe=e===Ro?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,In=e,_e===null&&(Fe=1,eu(t,ra(e,t.current)))}function Ih(){var t=Jn.current;return t===null?!0:(Se&4194048)===Se?oa===null:(Se&62914560)===Se||(Se&536870912)!==0?t===oa:!1}function Ph(){var t=ut.H;return ut.H=Fl,t===null?Fl:t}function Wh(){var t=ut.A;return ut.A=yp,t}function du(){Fe=4,Mi||(Se&4194048)!==Se&&Jn.current!==null||(al=!0),(Di&134217727)===0&&(_r&134217727)===0||Le===null||Ui(Le,Se,Pn,!1)}function ic(t,e,n){var a=Ne;Ne|=2;var r=Ph(),s=Wh();(Le!==t||Se!==e)&&(fu=null,ll(t,e)),e=!1;var d=Fe;t:do try{if(Oe!==0&&_e!==null){var z=_e,V=In;switch(Oe){case 8:ac(),d=6;break t;case 3:case 2:case 9:case 6:Jn.current===null&&(e=!0);var vt=Oe;if(Oe=0,In=null,sl(t,z,V,vt),n&&al){d=0;break t}break;default:vt=Oe,Oe=0,In=null,sl(t,z,V,vt)}}_p(),d=Fe;break}catch(zt){Fh(t,zt)}while(!0);return e&&t.shellSuspendCounter++,Fa=hr=null,Ne=a,ut.H=r,ut.A=s,_e===null&&(Le=null,Se=0,vn()),d}function _p(){for(;_e!==null;)$h(_e)}function wp(t,e){var n=Ne;Ne|=2;var a=Ph(),r=Wh();Le!==t||Se!==e?(fu=null,cu=Xt()+500,ll(t,e)):al=Ra(t,e);t:do try{if(Oe!==0&&_e!==null){e=_e;var s=In;e:switch(Oe){case 1:Oe=0,In=null,sl(t,e,s,1);break;case 2:case 9:if(of(s)){Oe=0,In=null,td(e);break}e=function(){Oe!==2&&Oe!==9||Le!==t||(Oe=7),Da(t)},s.then(e,e);break t;case 3:Oe=7;break t;case 4:Oe=5;break t;case 7:of(s)?(Oe=0,In=null,td(e)):(Oe=0,In=null,sl(t,e,s,7));break;case 5:var d=null;switch(_e.tag){case 26:d=_e.memoizedState;case 5:case 27:var z=_e;if(d?Ld(d):z.stateNode.complete){Oe=0,In=null;var V=z.sibling;if(V!==null)_e=V;else{var vt=z.return;vt!==null?(_e=vt,mu(vt)):_e=null}break e}}Oe=0,In=null,sl(t,e,s,5);break;case 6:Oe=0,In=null,sl(t,e,s,6);break;case 8:ac(),Fe=6;break t;default:throw Error(c(462))}}Sp();break}catch(zt){Fh(t,zt)}while(!0);return Fa=hr=null,ut.H=a,ut.A=r,Ne=n,_e!==null?0:(Le=null,Se=0,vn(),Fe)}function Sp(){for(;_e!==null&&!ft();)$h(_e)}function $h(t){var e=Sh(t.alternate,t,ri);t.memoizedProps=t.pendingProps,e===null?mu(t):_e=e}function td(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=gh(n,e,e.pendingProps,e.type,void 0,Se);break;case 11:e=gh(n,e,e.pendingProps,e.type.render,e.ref,Se);break;case 5:bo(e);default:Ch(n,e),e=_e=Pc(e,ri),e=Sh(n,e,ri)}t.memoizedProps=t.pendingProps,e===null?mu(t):_e=e}function sl(t,e,n,a){Fa=hr=null,bo(e),Ir=null,Kl=0;var r=e.return;try{if(fp(t,r,e,n,Se)){Fe=1,eu(t,ra(n,t.current)),_e=null;return}}catch(s){if(r!==null)throw _e=r,s;Fe=1,eu(t,ra(n,t.current)),_e=null;return}e.flags&32768?(ke||a===1?t=!0:al||(Se&536870912)!==0?t=!1:(Mi=t=!0,(a===2||a===9||a===3||a===6)&&(a=Jn.current,a!==null&&a.tag===13&&(a.flags|=16384))),ed(e,t)):mu(e)}function mu(t){var e=t;do{if((e.flags&32768)!==0){ed(e,Mi);return}t=e.return;var n=mp(e.alternate,e,ri);if(n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Fe===0&&(Fe=5)}function ed(t,e){do{var n=pp(t.alternate,t);if(n!==null){n.flags&=32767,_e=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){_e=t;return}_e=t=n}while(t!==null);Fe=6,_e=null}function nd(t,e,n,a,r,s,d,z,V){t.cancelPendingCommit=null;do pu();while(hn!==0);if((Ne&6)!==0)throw Error(c(327));if(e!==null){if(e===t.current)throw Error(c(177));if(s=e.lanes|e.childLanes,s|=pe,ml(t,n,s,d,z,V),t===Le&&(_e=Le=null,Se=0),rl=e,Bi=t,li=n,tc=s,ec=r,Xh=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jp(me,function(){return sd(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=ut.T,ut.T=null,r=ot.p,ot.p=2,d=Ne,Ne|=4;try{vp(t,e,n)}finally{Ne=d,ot.p=r,ut.T=a}}hn=1,ad(),id(),rd()}}function ad(){if(hn===1){hn=0;var t=Bi,e=rl,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=ut.T,ut.T=null;var a=ot.p;ot.p=2;var r=Ne;Ne|=4;try{Uh(e,t);var s=vc,d=_(t.containerInfo),z=s.focusedElem,V=s.selectionRange;if(d!==z&&z&&z.ownerDocument&&h(z.ownerDocument.documentElement,z)){if(V!==null&&j(z)){var vt=V.start,zt=V.end;if(zt===void 0&&(zt=vt),"selectionStart"in z)z.selectionStart=vt,z.selectionEnd=Math.min(zt,z.value.length);else{var Dt=z.ownerDocument||document,bt=Dt&&Dt.defaultView||window;if(bt.getSelection){var _t=bt.getSelection(),ne=z.textContent.length,ce=Math.min(V.start,ne),Ue=V.end===void 0?ce:Math.min(V.end,ne);!_t.extend&&ce>Ue&&(d=Ue,Ue=ce,ce=d);var st=u(z,ce),$=u(z,Ue);if(st&&$&&(_t.rangeCount!==1||_t.anchorNode!==st.node||_t.anchorOffset!==st.offset||_t.focusNode!==$.node||_t.focusOffset!==$.offset)){var pt=Dt.createRange();pt.setStart(st.node,st.offset),_t.removeAllRanges(),ce>Ue?(_t.addRange(pt),_t.extend($.node,$.offset)):(pt.setEnd($.node,$.offset),_t.addRange(pt))}}}}for(Dt=[],_t=z;_t=_t.parentNode;)_t.nodeType===1&&Dt.push({element:_t,left:_t.scrollLeft,top:_t.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Dt.length;z++){var Ot=Dt[z];Ot.element.scrollLeft=Ot.left,Ot.element.scrollTop=Ot.top}}ju=!!pc,vc=pc=null}finally{Ne=r,ot.p=a,ut.T=n}}t.current=e,hn=2}}function id(){if(hn===2){hn=0;var t=Bi,e=rl,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=ut.T,ut.T=null;var a=ot.p;ot.p=2;var r=Ne;Ne|=4;try{Oh(t,e.alternate,e)}finally{Ne=r,ot.p=a,ut.T=n}}hn=3}}function rd(){if(hn===4||hn===3){hn=0,Bt();var t=Bi,e=rl,n=li,a=Xh;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?hn=5:(hn=0,rl=Bi=null,ld(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ri=null),fi(n),e=e.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(je,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=ut.T,r=ot.p,ot.p=2,ut.T=null;try{for(var s=t.onRecoverableError,d=0;d<a.length;d++){var z=a[d];s(z.value,{componentStack:z.stack})}}finally{ut.T=e,ot.p=r}}(li&3)!==0&&pu(),Da(t),r=t.pendingLanes,(n&261930)!==0&&(r&42)!==0?t===nc?is++:(is=0,nc=t):is=0,rs(0)}}function ld(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ll(e)))}function pu(){return ad(),id(),rd(),sd()}function sd(){if(hn!==5)return!1;var t=Bi,e=tc;tc=0;var n=fi(li),a=ut.T,r=ot.p;try{ot.p=32>n?32:n,ut.T=null,n=ec,ec=null;var s=Bi,d=li;if(hn=0,rl=Bi=null,li=0,(Ne&6)!==0)throw Error(c(331));var z=Ne;if(Ne|=4,Yh(s.current),Lh(s,s.current,d,n),Ne=z,rs(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(je,s)}catch{}return!0}finally{ot.p=r,ut.T=a,ld(t,e)}}function ud(t,e,n){e=ra(n,e),e=Do(t.stateNode,e,2),t=Ai(t,e,2),t!==null&&(ta(t,2),Da(t))}function Me(t,e,n){if(t.tag===3)ud(t,t,n);else for(;e!==null;){if(e.tag===3){ud(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){t=ra(n,t),n=oh(2),a=Ai(e,n,2),a!==null&&(ch(n,a,e,t),ta(a,2),Da(a));break}}e=e.return}}function rc(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new bp;var r=new Set;a.set(e,r)}else r=a.get(e),r===void 0&&(r=new Set,a.set(e,r));r.has(n)||(Po=!0,r.add(n),t=Ep.bind(null,t,e,n),e.then(t,t))}function Ep(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Le===t&&(Se&n)===n&&(Fe===4||Fe===3&&(Se&62914560)===Se&&300>Xt()-ou?(Ne&2)===0&&ll(t,0):Wo|=n,il===Se&&(il=0)),Da(t)}function od(t,e){e===0&&(e=_s()),t=Xe(t,e),t!==null&&(ta(t,e),Da(t))}function Cp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),od(t,n)}function kp(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(e),od(t,n)}function jp(t,e){return Nt(t,e)}var vu=null,ul=null,lc=!1,gu=!1,sc=!1,Hi=0;function Da(t){t!==ul&&t.next===null&&(ul===null?vu=ul=t:ul=ul.next=t),gu=!0,lc||(lc=!0,Ap())}function rs(t,e){if(!sc&&gu){sc=!0;do for(var n=!1,a=vu;a!==null;){if(t!==0){var r=a.pendingLanes;if(r===0)var s=0;else{var d=a.suspendedLanes,z=a.pingedLanes;s=(1<<31-Jt(42|t)+1)-1,s&=r&~(d&~z),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,dd(a,s))}else s=Se,s=Vi(a,a===Le?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||Ra(a,s)||(n=!0,dd(a,s));a=a.next}while(n);sc=!1}}function Tp(){cd()}function cd(){gu=lc=!1;var t=0;Hi!==0&&Lp()&&(t=Hi);for(var e=Xt(),n=null,a=vu;a!==null;){var r=a.next,s=fd(a,e);s===0?(a.next=null,n===null?vu=r:n.next=r,r===null&&(ul=n)):(n=a,(t!==0||(s&3)!==0)&&(gu=!0)),a=r}hn!==0&&hn!==5||rs(t),Hi!==0&&(Hi=0)}function fd(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var d=31-Jt(s),z=1<<d,V=r[d];V===-1?((z&n)===0||(z&a)!==0)&&(r[d]=Hu(z,e)):V<=e&&(t.expiredLanes|=z),s&=~z}if(e=Le,n=Se,n=Vi(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Tt(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Ra(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&Tt(a),fi(n)){case 2:case 8:n=xe;break;case 32:n=me;break;case 268435456:n=$n;break;default:n=me}return a=hd.bind(null,t),n=Nt(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&Tt(a),t.callbackPriority=2,t.callbackNode=null,2}function hd(t,e){if(hn!==0&&hn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(pu()&&t.callbackNode!==n)return null;var a=Se;return a=Vi(t,t===Le?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Qh(t,a,e),fd(t,Xt()),t.callbackNode!=null&&t.callbackNode===n?hd.bind(null,t):null)}function dd(t,e){if(pu())return null;Qh(t,e,!0)}function Ap(){Kp(function(){(Ne&6)!==0?Nt(ae,Tp):cd()})}function uc(){if(Hi===0){var t=Qr;t===0&&(t=It,It<<=1,(It&261888)===0&&(It=256)),Hi=t}return Hi}function md(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function pd(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function zp(t,e,n,a,r){if(e==="submit"&&n&&n.stateNode===r){var s=md((r[We]||null).action),d=a.submitter;d&&(e=(e=d[We]||null)?md(e.formAction):d.getAttribute("formAction"),e!==null&&(s=e,d=null));var z=new Tr("action","action",null,a,r);t.push({event:z,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Hi!==0){var V=d?pd(r,d):new FormData(r);To(n,{pending:!0,data:V,method:r.method,action:s},null,V)}}else typeof s=="function"&&(z.preventDefault(),V=d?pd(r,d):new FormData(r),To(n,{pending:!0,data:V,method:r.method,action:s},s,V))},currentTarget:r}]})}}for(var oc=0;oc<Ft.length;oc++){var cc=Ft[oc],Np=cc.toLowerCase(),Op=cc[0].toUpperCase()+cc.slice(1);qt(Np,"on"+Op)}qt(ht,"onAnimationEnd"),qt(gt,"onAnimationIteration"),qt(kt,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(Mt,"onTransitionRun"),qt(Yt,"onTransitionStart"),qt(Pt,"onTransitionCancel"),qt(Lt,"onTransitionEnd"),ka("onMouseEnter",["mouseout","mouseover"]),ka("onMouseLeave",["mouseout","mouseover"]),ka("onPointerEnter",["pointerout","pointerover"]),ka("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ls));function vd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],r=a.event;a=a.listeners;t:{var s=void 0;if(e)for(var d=a.length-1;0<=d;d--){var z=a[d],V=z.instance,vt=z.currentTarget;if(z=z.listener,V!==s&&r.isPropagationStopped())break t;s=z,r.currentTarget=vt;try{s(r)}catch(zt){$t(zt)}r.currentTarget=null,s=V}else for(d=0;d<a.length;d++){if(z=a[d],V=z.instance,vt=z.currentTarget,z=z.listener,V!==s&&r.isPropagationStopped())break t;s=z,r.currentTarget=vt;try{s(r)}catch(zt){$t(zt)}r.currentTarget=null,s=V}}}}function we(t,e){var n=e[hi];n===void 0&&(n=e[hi]=new Set);var a=t+"__bubble";n.has(a)||(gd(e,t,2,!1),n.add(a))}function fc(t,e,n){var a=0;e&&(a|=4),gd(n,t,a,e)}var yu="_reactListening"+Math.random().toString(36).slice(2);function hc(t){if(!t[yu]){t[yu]=!0,Ba.forEach(function(n){n!=="selectionchange"&&(Mp.has(n)||fc(n,!1,t),fc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yu]||(e[yu]=!0,fc("selectionchange",!1,e))}}function gd(t,e,n,a){switch(Vd(e)){case 2:var r=s0;break;case 8:r=u0;break;default:r=jc}n=r.bind(null,e,n,t),r=void 0,!wl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),a?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function dc(t,e,n,a,r){var s=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var z=a.stateNode.containerInfo;if(z===r)break;if(d===4)for(d=a.return;d!==null;){var V=d.tag;if((V===3||V===4)&&d.stateNode.containerInfo===r)return;d=d.return}for(;z!==null;){if(d=Ca(z),d===null)return;if(V=d.tag,V===5||V===6||V===26||V===27){a=s=d;continue t}z=z.parentNode}}a=a.return}mi(function(){var vt=s,zt=kr(n),Dt=[];t:{var bt=Gt.get(t);if(bt!==void 0){var _t=Tr,ne=t;switch(t){case"keypress":if(gi(n)===0)break t;case"keydown":case"keyup":_t=Rr;break;case"focusin":ne="focus",_t=yi;break;case"focusout":ne="blur",_t=yi;break;case"beforeblur":case"afterblur":_t=yi;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Cs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=Al;break;case ht:case gt:case kt:_t=ks;break;case Lt:_t=zl;break;case"scroll":case"scrollend":_t=Ar;break;case"wheel":_t=Ur;break;case"copy":case"cut":case"paste":_t=bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=Tl;break;case"toggle":case"beforetoggle":_t=As}var ce=(e&4)!==0,Ue=!ce&&(t==="scroll"||t==="scrollend"),st=ce?bt!==null?bt+"Capture":null:bt;ce=[];for(var $=vt,pt;$!==null;){var Ot=$;if(pt=Ot.stateNode,Ot=Ot.tag,Ot!==5&&Ot!==26&&Ot!==27||pt===null||st===null||(Ot=Ka($,st),Ot!=null&&ce.push(ss($,Ot,pt))),Ue)break;$=$.return}0<ce.length&&(bt=new _t(bt,ne,null,n,zt),Dt.push({event:bt,listeners:ce}))}}if((e&7)===0){t:{if(bt=t==="mouseover"||t==="pointerover",_t=t==="mouseout"||t==="pointerout",bt&&n!==na&&(ne=n.relatedTarget||n.fromElement)&&(Ca(ne)||ne[zn]))break t;if((_t||bt)&&(bt=zt.window===zt?zt:(bt=zt.ownerDocument)?bt.defaultView||bt.parentWindow:window,_t?(ne=n.relatedTarget||n.toElement,_t=vt,ne=ne?Ca(ne):null,ne!==null&&(Ue=m(ne),ce=ne.tag,ne!==Ue||ce!==5&&ce!==27&&ce!==6)&&(ne=null)):(_t=null,ne=vt),_t!==ne)){if(ce=Nr,Ot="onMouseLeave",st="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(ce=Tl,Ot="onPointerLeave",st="onPointerEnter",$="pointer"),Ue=_t==null?bt:Xn(_t),pt=ne==null?bt:Xn(ne),bt=new ce(Ot,$+"leave",_t,n,zt),bt.target=Ue,bt.relatedTarget=pt,Ot=null,Ca(zt)===vt&&(ce=new ce(st,$+"enter",ne,n,zt),ce.target=pt,ce.relatedTarget=Ue,Ot=ce),Ue=Ot,_t&&ne)e:{for(ce=Dp,st=_t,$=ne,pt=0,Ot=st;Ot;Ot=ce(Ot))pt++;Ot=0;for(var le=$;le;le=ce(le))Ot++;for(;0<pt-Ot;)st=ce(st),pt--;for(;0<Ot-pt;)$=ce($),Ot--;for(;pt--;){if(st===$||$!==null&&st===$.alternate){ce=st;break e}st=ce(st),$=ce($)}ce=null}else ce=null;_t!==null&&yd(Dt,bt,_t,ce,!1),ne!==null&&Ue!==null&&yd(Dt,Ue,ne,ce,!0)}}t:{if(bt=vt?Xn(vt):window,_t=bt.nodeName&&bt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&bt.type==="file")var Te=ur;else if(qr(bt))if(ia)Te=wi;else{Te=Va;var ie=Rs}else _t=bt.nodeName,!_t||_t.toLowerCase()!=="input"||bt.type!=="checkbox"&&bt.type!=="radio"?vt&&_l(vt.elementType)&&(Te=ur):Te=Rl;if(Te&&(Te=Te(t,vt))){Dl(Dt,Te,n,zt);break t}ie&&ie(t,bt,vt),t==="focusout"&&vt&&bt.type==="number"&&vt.memoizedProps.value!=null&&tr(bt,"number",bt.value)}switch(ie=vt?Xn(vt):window,t){case"focusin":(qr(ie)||ie.contentEditable==="true")&&(K=ie,F=vt,P=null);break;case"focusout":P=F=K=null;break;case"mousedown":it=!0;break;case"contextmenu":case"mouseup":case"dragend":it=!1,Q(Dt,n,zt);break;case"selectionchange":if(B)break;case"keydown":case"keyup":Q(Dt,n,zt)}var ge;if(lr)t:{switch(t){case"compositionstart":var Ee="onCompositionStart";break t;case"compositionend":Ee="onCompositionEnd";break t;case"compositionupdate":Ee="onCompositionUpdate";break t}Ee=void 0}else Xa?Ml(t,n)&&(Ee="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Ee="onCompositionStart");Ee&&(Hr&&n.locale!=="ko"&&(Xa||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Xa&&(ge=vi()):(aa=zt,jr="value"in aa?aa.value:aa.textContent,Xa=!0)),ie=bu(vt,Ee),0<ie.length&&(Ee=new Dr(Ee,t,null,n,zt),Dt.push({event:Ee,listeners:ie}),ge?Ee.data=ge:(ge=Ns(n),ge!==null&&(Ee.data=ge)))),(ge=Gu?Os(t,n):Xu(t,n))&&(Ee=bu(vt,"onBeforeInput"),0<Ee.length&&(ie=new Dr("onBeforeInput","beforeinput",null,n,zt),Dt.push({event:ie,listeners:Ee}),ie.data=ge)),zp(Dt,t,vt,n,zt)}vd(Dt,e)})}function ss(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bu(t,e){for(var n=e+"Capture",a=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Ka(t,n),r!=null&&a.unshift(ss(t,r,s)),r=Ka(t,e),r!=null&&a.push(ss(t,r,s))),t.tag===3)return a;t=t.return}return[]}function Dp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yd(t,e,n,a,r){for(var s=e._reactName,d=[];n!==null&&n!==a;){var z=n,V=z.alternate,vt=z.stateNode;if(z=z.tag,V!==null&&V===a)break;z!==5&&z!==26&&z!==27||vt===null||(V=vt,r?(vt=Ka(n,s),vt!=null&&d.unshift(ss(n,vt,V))):r||(vt=Ka(n,s),vt!=null&&d.push(ss(n,vt,V)))),n=n.return}d.length!==0&&t.push({event:e,listeners:d})}var Rp=/\r\n?/g,Bp=/\u0000|\uFFFD/g;function bd(t){return(typeof t=="string"?t:""+t).replace(Rp,`
`).replace(Bp,"")}function xd(t,e){return e=bd(e),bd(t)===e}function Be(t,e,n,a,r,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Ha(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Ha(t,""+a);break;case"className":Wi(t,"class",a);break;case"tabIndex":Wi(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(t,n,a);break;case"style":xl(t,a,s);break;case"data":if(e!=="object"){Wi(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=ga(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Be(t,e,"name",r.name,r,null),Be(t,e,"formEncType",r.formEncType,r,null),Be(t,e,"formMethod",r.formMethod,r,null),Be(t,e,"formTarget",r.formTarget,r,null)):(Be(t,e,"encType",r.encType,r,null),Be(t,e,"method",r.method,r,null),Be(t,e,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=ga(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=Rn);break;case"onScroll":a!=null&&we("scroll",t);break;case"onScrollEnd":a!=null&&we("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(c(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=ga(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":we("beforetoggle",t),we("toggle",t),ye(t,"popover",a);break;case"xlinkActuate":ea(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ea(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ea(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ea(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ea(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ea(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ea(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ea(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ea(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ye(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ku.get(n)||n,ye(t,n,a))}}function mc(t,e,n,a,r,s){switch(n){case"style":xl(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(c(60));t.innerHTML=n}}break;case"children":typeof a=="string"?Ha(t,a):(typeof a=="number"||typeof a=="bigint")&&Ha(t,""+a);break;case"onScroll":a!=null&&we("scroll",t);break;case"onScrollEnd":a!=null&&we("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ii.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[We]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,r);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):ye(t,n,a)}}}function Sn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",t),we("load",t);var a=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:Be(t,e,s,d,n,null)}}r&&Be(t,e,"srcSet",n.srcSet,n,null),a&&Be(t,e,"src",n.src,n,null);return;case"input":we("invalid",t);var z=s=d=r=null,V=null,vt=null;for(a in n)if(n.hasOwnProperty(a)){var zt=n[a];if(zt!=null)switch(a){case"name":r=zt;break;case"type":d=zt;break;case"checked":V=zt;break;case"defaultChecked":vt=zt;break;case"value":s=zt;break;case"defaultValue":z=zt;break;case"children":case"dangerouslySetInnerHTML":if(zt!=null)throw Error(c(137,e));break;default:Be(t,e,a,zt,n,null)}}Cr(t,s,z,V,vt,d,r,!1);return;case"select":we("invalid",t),a=d=s=null;for(r in n)if(n.hasOwnProperty(r)&&(z=n[r],z!=null))switch(r){case"value":s=z;break;case"defaultValue":d=z;break;case"multiple":a=z;default:Be(t,e,r,z,n,null)}e=s,n=d,t.multiple=!!a,e!=null?va(t,!!a,e,!1):n!=null&&va(t,!!a,n,!0);return;case"textarea":we("invalid",t),s=r=a=null;for(d in n)if(n.hasOwnProperty(d)&&(z=n[d],z!=null))switch(d){case"value":a=z;break;case"defaultValue":r=z;break;case"children":s=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(c(91));break;default:Be(t,e,d,z,n,null)}er(t,a,r,s);return;case"option":for(V in n)n.hasOwnProperty(V)&&(a=n[V],a!=null)&&(V==="selected"?t.selected=a&&typeof a!="function"&&typeof a!="symbol":Be(t,e,V,a,n,null));return;case"dialog":we("beforetoggle",t),we("toggle",t),we("cancel",t),we("close",t);break;case"iframe":case"object":we("load",t);break;case"video":case"audio":for(a=0;a<ls.length;a++)we(ls[a],t);break;case"image":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"embed":case"source":case"link":we("error",t),we("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in n)if(n.hasOwnProperty(vt)&&(a=n[vt],a!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:Be(t,e,vt,a,n,null)}return;default:if(_l(e)){for(zt in n)n.hasOwnProperty(zt)&&(a=n[zt],a!==void 0&&mc(t,e,zt,a,n,void 0));return}}for(z in n)n.hasOwnProperty(z)&&(a=n[z],a!=null&&Be(t,e,z,a,n,null))}function Up(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,d=null,z=null,V=null,vt=null,zt=null;for(_t in n){var Dt=n[_t];if(n.hasOwnProperty(_t)&&Dt!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":V=Dt;default:a.hasOwnProperty(_t)||Be(t,e,_t,null,a,Dt)}}for(var bt in a){var _t=a[bt];if(Dt=n[bt],a.hasOwnProperty(bt)&&(_t!=null||Dt!=null))switch(bt){case"type":s=_t;break;case"name":r=_t;break;case"checked":vt=_t;break;case"defaultChecked":zt=_t;break;case"value":d=_t;break;case"defaultValue":z=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(c(137,e));break;default:_t!==Dt&&Be(t,e,bt,_t,a,Dt)}}ja(t,d,z,V,vt,zt,s,r);return;case"select":_t=d=z=bt=null;for(s in n)if(V=n[s],n.hasOwnProperty(s)&&V!=null)switch(s){case"value":break;case"multiple":_t=V;default:a.hasOwnProperty(s)||Be(t,e,s,null,a,V)}for(r in a)if(s=a[r],V=n[r],a.hasOwnProperty(r)&&(s!=null||V!=null))switch(r){case"value":bt=s;break;case"defaultValue":z=s;break;case"multiple":d=s;default:s!==V&&Be(t,e,r,s,a,V)}e=z,n=d,a=_t,bt!=null?va(t,!!n,bt,!1):!!a!=!!n&&(e!=null?va(t,!!n,e,!0):va(t,!!n,n?[]:"",!1));return;case"textarea":_t=bt=null;for(z in n)if(r=n[z],n.hasOwnProperty(z)&&r!=null&&!a.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Be(t,e,z,null,a,r)}for(d in a)if(r=a[d],s=n[d],a.hasOwnProperty(d)&&(r!=null||s!=null))switch(d){case"value":bt=r;break;case"defaultValue":_t=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==s&&Be(t,e,d,r,a,s)}bl(t,bt,_t);return;case"option":for(var ne in n)bt=n[ne],n.hasOwnProperty(ne)&&bt!=null&&!a.hasOwnProperty(ne)&&(ne==="selected"?t.selected=!1:Be(t,e,ne,null,a,bt));for(V in a)bt=a[V],_t=n[V],a.hasOwnProperty(V)&&bt!==_t&&(bt!=null||_t!=null)&&(V==="selected"?t.selected=bt&&typeof bt!="function"&&typeof bt!="symbol":Be(t,e,V,bt,a,_t));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in n)bt=n[ce],n.hasOwnProperty(ce)&&bt!=null&&!a.hasOwnProperty(ce)&&Be(t,e,ce,null,a,bt);for(vt in a)if(bt=a[vt],_t=n[vt],a.hasOwnProperty(vt)&&bt!==_t&&(bt!=null||_t!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(c(137,e));break;default:Be(t,e,vt,bt,a,_t)}return;default:if(_l(e)){for(var Ue in n)bt=n[Ue],n.hasOwnProperty(Ue)&&bt!==void 0&&!a.hasOwnProperty(Ue)&&mc(t,e,Ue,void 0,a,bt);for(zt in a)bt=a[zt],_t=n[zt],!a.hasOwnProperty(zt)||bt===_t||bt===void 0&&_t===void 0||mc(t,e,zt,bt,a,_t);return}}for(var st in n)bt=n[st],n.hasOwnProperty(st)&&bt!=null&&!a.hasOwnProperty(st)&&Be(t,e,st,null,a,bt);for(Dt in a)bt=a[Dt],_t=n[Dt],!a.hasOwnProperty(Dt)||bt===_t||bt==null&&_t==null||Be(t,e,Dt,bt,a,_t)}function _d(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],s=r.transferSize,d=r.initiatorType,z=r.duration;if(s&&z&&_d(d)){for(d=0,z=r.responseEnd,a+=1;a<n.length;a++){var V=n[a],vt=V.startTime;if(vt>z)break;var zt=V.transferSize,Dt=V.initiatorType;zt&&_d(Dt)&&(V=V.responseEnd,d+=zt*(V<z?1:(z-vt)/(V-vt)))}if(--a,e+=8*(s+d)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pc=null,vc=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function wd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sd(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function gc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yc=null;function Lp(){var t=window.event;return t&&t.type==="popstate"?t===yc?!1:(yc=t,!0):(yc=null,!1)}var Ed=typeof setTimeout=="function"?setTimeout:void 0,qp=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,Kp=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(t){return Cd.resolve(null).then(t).catch(Yp)}:Ed;function Yp(t){setTimeout(function(){throw t})}function Li(t){return t==="head"}function kd(t,e){var n=e,a=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(r),hl(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")us(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,us(n);for(var s=n.firstChild;s;){var d=s.nextSibling,z=s.nodeName;s[Gn]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=d}}else n==="body"&&us(t.ownerDocument.body);n=r}while(n);hl(e)}function jd(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function bc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bc(n),Sr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Zp(t,e,n,a){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Gn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=ca(t.nextSibling),t===null)break}return null}function Gp(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ca(t.nextSibling),t===null))return null;return t}function Td(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=ca(t.nextSibling),t===null))return null;return t}function xc(t){return t.data==="$?"||t.data==="$~"}function _c(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Xp(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function ca(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var wc=null;function Ad(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return ca(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function zd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Nd(t,e,n){switch(e=xu(n),t){case"html":if(t=e.documentElement,!t)throw Error(c(452));return t;case"head":if(t=e.head,!t)throw Error(c(453));return t;case"body":if(t=e.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function us(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Sr(t)}var fa=new Map,Od=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var si=ot.d;ot.d={f:Vp,r:Qp,D:Jp,C:Fp,L:Ip,m:Pp,X:$p,S:Wp,M:t0};function Vp(){var t=si.f(),e=hu();return t||e}function Qp(t){var e=De(t);e!==null&&e.tag===5&&e.type==="form"?Ff(e):si.r(t)}var ol=typeof document>"u"?null:document;function Md(t,e,n){var a=ol;if(a&&typeof e=="string"&&e){var r=dn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Od.has(r)||(Od.add(r),t={rel:t,crossOrigin:n,href:e},a.querySelector(r)===null&&(e=a.createElement("link"),Sn(e,"link",t),$e(e),a.head.appendChild(e)))}}function Jp(t){si.D(t),Md("dns-prefetch",t,null)}function Fp(t,e){si.C(t,e),Md("preconnect",t,e)}function Ip(t,e,n){si.L(t,e,n);var a=ol;if(a&&t&&e){var r='link[rel="preload"][as="'+dn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+dn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+dn(n.imageSizes)+'"]')):r+='[href="'+dn(t)+'"]';var s=r;switch(e){case"style":s=cl(t);break;case"script":s=fl(t)}fa.has(s)||(t=C({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),fa.set(s,t),a.querySelector(r)!==null||e==="style"&&a.querySelector(os(s))||e==="script"&&a.querySelector(cs(s))||(e=a.createElement("link"),Sn(e,"link",t),$e(e),a.head.appendChild(e)))}}function Pp(t,e){si.m(t,e);var n=ol;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+dn(a)+'"][href="'+dn(t)+'"]',s=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=fl(t)}if(!fa.has(s)&&(t=C({rel:"modulepreload",href:t},e),fa.set(s,t),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cs(s)))return}a=n.createElement("link"),Sn(a,"link",t),$e(a),n.head.appendChild(a)}}}function Wp(t,e,n){si.S(t,e,n);var a=ol;if(a&&t){var r=Cn(a).hoistableStyles,s=cl(t);e=e||"default";var d=r.get(s);if(!d){var z={loading:0,preload:null};if(d=a.querySelector(os(s)))z.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":e},n),(n=fa.get(s))&&Sc(t,n);var V=d=a.createElement("link");$e(V),Sn(V,"link",t),V._p=new Promise(function(vt,zt){V.onload=vt,V.onerror=zt}),V.addEventListener("load",function(){z.loading|=1}),V.addEventListener("error",function(){z.loading|=2}),z.loading|=4,wu(d,e,a)}d={type:"stylesheet",instance:d,count:1,state:z},r.set(s,d)}}}function $p(t,e){si.X(t,e);var n=ol;if(n&&t){var a=Cn(n).hoistableScripts,r=fl(t),s=a.get(r);s||(s=n.querySelector(cs(r)),s||(t=C({src:t,async:!0},e),(e=fa.get(r))&&Ec(t,e),s=n.createElement("script"),$e(s),Sn(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}function t0(t,e){si.M(t,e);var n=ol;if(n&&t){var a=Cn(n).hoistableScripts,r=fl(t),s=a.get(r);s||(s=n.querySelector(cs(r)),s||(t=C({src:t,async:!0,type:"module"},e),(e=fa.get(r))&&Ec(t,e),s=n.createElement("script"),$e(s),Sn(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}function Dd(t,e,n,a){var r=(r=te.current)?_u(r):null;if(!r)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=cl(n.href),n=Cn(r).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=cl(n.href);var s=Cn(r).hoistableStyles,d=s.get(t);if(d||(r=r.ownerDocument||r,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,d),(s=r.querySelector(os(t)))&&!s._p&&(d.instance=s,d.state.loading=5),fa.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fa.set(t,n),s||e0(r,t,n,d.state))),e&&a===null)throw Error(c(528,""));return d}if(e&&a!==null)throw Error(c(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=fl(n),n=Cn(r).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function cl(t){return'href="'+dn(t)+'"'}function os(t){return'link[rel="stylesheet"]['+t+"]"}function Rd(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function e0(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Sn(e,"link",n),$e(e),t.head.appendChild(e))}function fl(t){return'[src="'+dn(t)+'"]'}function cs(t){return"script[async]"+t}function Bd(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+dn(n.href)+'"]');if(a)return e.instance=a,$e(a),a;var r=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),$e(a),Sn(a,"style",r),wu(a,n.precedence,t),e.instance=a;case"stylesheet":r=cl(n.href);var s=t.querySelector(os(r));if(s)return e.state.loading|=4,e.instance=s,$e(s),s;a=Rd(n),(r=fa.get(r))&&Sc(a,r),s=(t.ownerDocument||t).createElement("link"),$e(s);var d=s;return d._p=new Promise(function(z,V){d.onload=z,d.onerror=V}),Sn(s,"link",a),e.state.loading|=4,wu(s,n.precedence,t),e.instance=s;case"script":return s=fl(n.src),(r=t.querySelector(cs(s)))?(e.instance=r,$e(r),r):(a=n,(r=fa.get(s))&&(a=C({},n),Ec(a,r)),t=t.ownerDocument||t,r=t.createElement("script"),$e(r),Sn(r,"link",a),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(c(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,wu(a,n.precedence,t));return e.instance}function wu(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,s=r,d=0;d<a.length;d++){var z=a[d];if(z.dataset.precedence===e)s=z;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Sc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ec(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Su=null;function Ud(t,e,n){if(Su===null){var a=new Map,r=Su=new Map;r.set(n,a)}else r=Su,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[Gn]||s[qe]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var d=s.getAttribute(e)||"";d=t+d;var z=a.get(d);z?z.push(s):a.set(d,[s])}}return a}function Hd(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function n0(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ld(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function a0(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var r=cl(a.href),s=e.querySelector(os(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Eu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,$e(s);return}s=e.ownerDocument||e,a=Rd(a),(r=fa.get(r))&&Sc(a,r),s=s.createElement("link"),$e(s);var d=s;d._p=new Promise(function(z,V){d.onload=z,d.onerror=V}),Sn(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Eu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Cc=0;function i0(t,e){return t.stylesheets&&t.count===0&&ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Cc===0&&(Cc=62500*Hp());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Cc?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function Eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cu=null;function ku(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cu=new Map,e.forEach(r0,t),Cu=null,Eu.call(t))}function r0(t,e){if(!(e.state.loading&4)){var n=Cu.get(t);if(n)var a=n.get(null);else{n=new Map,Cu.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var d=r[s];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),a=d)}a&&n.set(null,a)}r=e.instance,d=r.getAttribute("data-precedence"),s=n.get(d)||a,s===a&&n.set(null,r),n.set(d,r),this.count++,a=Eu.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var fs={$$typeof:Y,Provider:null,Consumer:null,_currentValue:Ut,_currentValue2:Ut,_threadCount:0};function l0(t,e,n,a,r,s,d,z,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function qd(t,e,n,a,r,s,d,z,V,vt,zt,Dt){return t=new l0(t,e,n,d,V,vt,zt,Dt,z),e=1,s===!0&&(e|=24),s=Qn(3,null,null,e),t.current=s,s.stateNode=t,e=ao(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},so(s),t}function Kd(t){return t?(t=Bn,t):Bn}function Yd(t,e,n,a,r,s){r=Kd(r),a.context===null?a.context=r:a.pendingContext=r,a=Ti(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Ai(t,a,e),n!==null&&(Kn(n,t,e),Zl(n,t,e))}function Zd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kc(t,e){Zd(t,e),(t=t.alternate)&&Zd(t,e)}function Gd(t){if(t.tag===13||t.tag===31){var e=Xe(t,67108864);e!==null&&Kn(e,t,67108864),kc(t,67108864)}}function Xd(t){if(t.tag===13||t.tag===31){var e=Wn();e=pl(e);var n=Xe(t,e);n!==null&&Kn(n,t,e),kc(t,e)}}var ju=!0;function s0(t,e,n,a){var r=ut.T;ut.T=null;var s=ot.p;try{ot.p=2,jc(t,e,n,a)}finally{ot.p=s,ut.T=r}}function u0(t,e,n,a){var r=ut.T;ut.T=null;var s=ot.p;try{ot.p=8,jc(t,e,n,a)}finally{ot.p=s,ut.T=r}}function jc(t,e,n,a){if(ju){var r=Tc(a);if(r===null)dc(t,e,a,Tu,n),Qd(t,a);else if(c0(r,t,e,n,a))a.stopPropagation();else if(Qd(t,a),e&4&&-1<o0.indexOf(t)){for(;r!==null;){var s=De(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var d=En(s.pendingLanes);if(d!==0){var z=s;for(z.pendingLanes|=2,z.entangledLanes|=2;d;){var V=1<<31-Jt(d);z.entanglements[1]|=V,d&=~V}Da(s),(Ne&6)===0&&(cu=Xt()+500,rs(0))}}break;case 31:case 13:z=Xe(s,2),z!==null&&Kn(z,s,2),hu(),kc(s,2)}if(s=Tc(a),s===null&&dc(t,e,a,Tu,n),s===r)break;r=s}r!==null&&a.stopPropagation()}else dc(t,e,a,null,n)}}function Tc(t){return t=kr(t),Ac(t)}var Tu=null;function Ac(t){if(Tu=null,t=Ca(t),t!==null){var e=m(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=x(e),t!==null)return t;t=null}else if(n===31){if(t=p(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Tu=t,null}function Vd(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case ae:return 2;case xe:return 8;case me:case an:return 32;case $n:return 268435456;default:return 32}default:return 32}}var zc=!1,qi=null,Ki=null,Yi=null,hs=new Map,ds=new Map,Zi=[],o0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qd(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":hs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(e.pointerId)}}function ms(t,e,n,a,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},e!==null&&(e=De(e),e!==null&&Gd(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function c0(t,e,n,a,r){switch(e){case"focusin":return qi=ms(qi,t,e,n,a,r),!0;case"dragenter":return Ki=ms(Ki,t,e,n,a,r),!0;case"mouseover":return Yi=ms(Yi,t,e,n,a,r),!0;case"pointerover":var s=r.pointerId;return hs.set(s,ms(hs.get(s)||null,t,e,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,ds.set(s,ms(ds.get(s)||null,t,e,n,a,r)),!0}return!1}function Jd(t){var e=Ca(t.target);if(e!==null){var n=m(e);if(n!==null){if(e=n.tag,e===13){if(e=x(n),e!==null){t.blockedOn=e,Fi(t.priority,function(){Xd(n)});return}}else if(e===31){if(e=p(n),e!==null){t.blockedOn=e,Fi(t.priority,function(){Xd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tc(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);na=a,n.target.dispatchEvent(a),na=null}else return e=De(n),e!==null&&Gd(e),t.blockedOn=n,!1;e.shift()}return!0}function Fd(t,e,n){Au(t)&&n.delete(e)}function f0(){zc=!1,qi!==null&&Au(qi)&&(qi=null),Ki!==null&&Au(Ki)&&(Ki=null),Yi!==null&&Au(Yi)&&(Yi=null),hs.forEach(Fd),ds.forEach(Fd)}function zu(t,e){t.blockedOn===e&&(t.blockedOn=null,zc||(zc=!0,M.unstable_scheduleCallback(M.unstable_NormalPriority,f0)))}var Nu=null;function Id(t){Nu!==t&&(Nu=t,M.unstable_scheduleCallback(M.unstable_NormalPriority,function(){Nu===t&&(Nu=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],r=t[e+2];if(typeof a!="function"){if(Ac(a||n)===null)continue;break}var s=De(n);s!==null&&(t.splice(e,3),e-=3,To(s,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function hl(t){function e(V){return zu(V,t)}qi!==null&&zu(qi,t),Ki!==null&&zu(Ki,t),Yi!==null&&zu(Yi,t),hs.forEach(e),ds.forEach(e);for(var n=0;n<Zi.length;n++){var a=Zi[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)Jd(n),n.blockedOn===null&&Zi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],s=n[a+1],d=r[We]||null;if(typeof s=="function")d||Id(n);else if(d){var z=null;if(s&&s.hasAttribute("formAction")){if(r=s,d=s[We]||null)z=d.formAction;else if(Ac(r)!==null)continue}else z=d.action;typeof z=="function"?n[a+1]=z:(n.splice(a,3),a-=3),Id(n)}}}function Pd(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(d){return r=d})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function Nc(t){this._internalRoot=t}Ou.prototype.render=Nc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(c(409));var n=e.current,a=Wn();Yd(n,a,t,e,null,null)},Ou.prototype.unmount=Nc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yd(t.current,2,null,t,null,null),hu(),e[zn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ji();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&Jd(t)}};var Wd=f.version;if(Wd!=="19.2.3")throw Error(c(527,Wd,"19.2.3"));ot.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=g(e),t=t!==null?k(t):null,t=t===null?null:t.stateNode,t};var h0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ut,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{je=Mu.inject(h0),Qe=Mu}catch{}}return vs.createRoot=function(t,e){if(!y(t))throw Error(c(299));var n=!1,a="",r=rh,s=lh,d=sh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),e=qd(t,1,!1,null,null,n,a,null,r,s,d,Pd),t[zn]=e.current,hc(t),new Nc(e)},vs.hydrateRoot=function(t,e,n){if(!y(t))throw Error(c(299));var a=!1,r="",s=rh,d=lh,z=sh,V=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(z=n.onRecoverableError),n.formState!==void 0&&(V=n.formState)),e=qd(t,1,!0,e,n??null,a,r,V,s,d,z,Pd),e.context=Kd(null),n=e.current,a=Wn(),a=pl(a),r=Ti(a),r.callback=null,Ai(n,r,a),n=a,e.current.lanes=n,ta(e,n),Da(e),t[zn]=e.current,hc(t),new Ou(e)},vs.version="19.2.3",vs}var um;function w0(){if(um)return Dc.exports;um=1;function M(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M)}catch(f){console.error(f)}}return M(),Dc.exports=_0(),Dc.exports}var S0=w0();const om=M=>{let f;const o=new Set,c=(g,k)=>{const C=typeof g=="function"?g(f):g;if(!Object.is(C,f)){const O=f;f=k??(typeof C!="object"||C===null)?C:Object.assign({},f,C),o.forEach(T=>T(f,O))}},y=()=>f,p={setState:c,getState:y,getInitialState:()=>v,subscribe:g=>(o.add(g),()=>o.delete(g))},v=f=M(c,y,p);return p},E0=(M=>M?om(M):om),C0=M=>M;function k0(M,f=C0){const o=ui.useSyncExternalStore(M.subscribe,ui.useCallback(()=>f(M.getState()),[M,f]),ui.useCallback(()=>f(M.getInitialState()),[M,f]));return ui.useDebugValue(o),o}const cm=M=>{const f=E0(M),o=c=>k0(f,c);return Object.assign(o,f),o},j0=(M=>M?cm(M):cm),T0=["Golden hour","Blue hour","Neon lights","Natural daylight","Overcast","Dramatic shadows","Studio lighting","Candlelight","Moonlight","Silhouette"],A0=["Static","Slow zoom in","Slow zoom out","Dolly forward","Dolly back","Pan left","Pan right","Tilt up","Tilt down","Tracking shot","Drone aerial","Handheld","360 orbit"],z0=["Cinematic","35mm film","Music video","Documentary","Anime","VHS retro","Dreamy soft focus","High contrast","Desaturated","Neon cyberpunk","Vintage 70s","Modern clean"],fm=30,Yn=[{hero:"#8b5cf6",fill:"#4c2889"},{hero:"#3b82f6",fill:"#1e3a5f"},{hero:"#f97316",fill:"#7c3a0a"},{hero:"#22c55e",fill:"#14532d"},{hero:"#ec4899",fill:"#831843"},{hero:"#eab308",fill:"#713f12"},{hero:"#6366f1",fill:"#312e81"},{hero:"#f8fafc",fill:"#94a3b8"},{hero:"#ef4444",fill:"#7f1d1d"},{hero:"#06b6d4",fill:"#164e63"}],ha=M=>{const f=[...M.segmentsHistory,M.segments.map(o=>({...o}))];return f.length>fm?f.slice(-fm):f},ee=j0((M,f)=>({videoUrl:null,isPlaying:!1,currentTime:0,duration:0,zoom:10,segments:[],segmentsHistory:[],bpm:0,activeSegmentId:null,toastMessage:null,setVideoUrl:o=>M({videoUrl:o}),setIsPlaying:o=>M({isPlaying:o}),setCurrentTime:o=>M({currentTime:o}),setDuration:o=>M({duration:o}),setZoom:o=>M({zoom:o}),setBpm:o=>M({bpm:o}),cutAtPosition:o=>{const c=f(),{segments:y,duration:m}=c;if(o<.1||o>m-.1)return null;if(y.length===0){const v={id:crypto.randomUUID(),start:0,end:o,note:"",color:Yn[0].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate(40),M(g=>({segmentsHistory:ha(g),segments:[v]})),v}const x=y.find(v=>o>v.start+.1&&o<v.end-.1);if(x){const v=y.length%Yn.length,g={id:crypto.randomUUID(),start:o,end:x.end,note:"",color:Yn[v].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate(40),M(k=>({segmentsHistory:ha(k),segments:k.segments.map(C=>C.id===x.id?{...C,end:o}:C).concat(g).sort((C,O)=>C.start-O.start)})),g}const p=y[y.length-1];if(o>p.end){const v=y.length%Yn.length,g={id:crypto.randomUUID(),start:p.end,end:o,note:"",color:Yn[v].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate(40),M(k=>({segmentsHistory:ha(k),segments:[...k.segments,g].sort((C,O)=>C.start-O.start)})),g}return null},closeToEnd:()=>{const o=f(),{segments:c,duration:y}=o;if(y<=0)return null;if(c.length===0){const v={id:crypto.randomUUID(),start:0,end:y,note:"",color:Yn[0].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate([40,50,40]),M(g=>({segmentsHistory:ha(g),segments:[v]})),v}const m=c[c.length-1];if(m.end>=y-.1)return null;const x=c.length%Yn.length,p={id:crypto.randomUUID(),start:m.end,end:y,note:"",color:Yn[x].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate([40,50,40]),M(v=>({segmentsHistory:ha(v),segments:[...v.segments,p].sort((g,k)=>g.start-k.start)})),p},addSegment:o=>M(c=>({segmentsHistory:ha(c),segments:[...c.segments,o].sort((y,m)=>y.start-m.start)})),updateSegment:(o,c)=>M(y=>({segmentsHistory:ha(y),segments:y.segments.map(m=>m.id===o?{...m,...c}:m)})),deleteSegment:o=>M(c=>({segmentsHistory:ha(c),segments:c.segments.filter(y=>y.id!==o)})),loadSegments:o=>M(c=>({segmentsHistory:ha(c),segments:o.sort((y,m)=>y.start-m.start)})),clearSegments:()=>M(o=>({segmentsHistory:ha(o),segments:[]})),undo:()=>{const o=f();if(o.segmentsHistory.length===0)return!1;const c=o.segmentsHistory[o.segmentsHistory.length-1];return M({segments:c,segmentsHistory:o.segmentsHistory.slice(0,-1)}),!0},canUndo:()=>f().segmentsHistory.length>0,setActiveSegmentId:o=>M({activeSegmentId:o}),showToast:o=>{M({toastMessage:o}),setTimeout(()=>M({toastMessage:null}),2500)},clearToast:()=>M({toastMessage:null}),getSegmentAtTime:o=>{const{segments:c}=f();return c.find(y=>o>=y.start&&o<y.end)||null},getSegmentNumber:o=>{const{segments:c}=f(),y=c.findIndex(m=>m.id===o);return y>=0?y+1:0},autoSplitByBpm:(o=4)=>{const c=f(),{bpm:y,duration:m}=c;if(y<=0||m<=0)return;const p=60/y*o;if(p<.5)return;const v=[];let g=0,k=0;for(;g<m;){const C=Math.min(g+p,m);if(C-g<.1)break;const O=k%Yn.length;v.push({id:crypto.randomUUID(),start:g,end:C,note:"",color:Yn[O].hero,colorName:"",isHero:!0}),g=C,k++}M(C=>({segmentsHistory:ha(C),segments:v,toastMessage:`${v.length} Kues generados automticamente`})),setTimeout(()=>M({toastMessage:null}),2e3)},assignLyricsToKues:o=>{const c=f(),{segments:y}=c;if(y.length===0)return;const m=o.split(`
`).map(p=>p.trim()).filter(p=>p.length>0);if(m.length===0)return;const x=y.map((p,v)=>v<m.length?{...p,note:m[v],prompt:{...p.prompt,subject:p.prompt?.subject||"",action:p.prompt?.action||"",lighting:p.prompt?.lighting||"",camera:p.prompt?.camera||"",style:p.prompt?.style||""}}:p);M(p=>({segmentsHistory:ha(p),segments:x,toastMessage:`Lyrics asignados a ${Math.min(y.length,m.length)} Kues`})),setTimeout(()=>M({toastMessage:null}),2e3)}}));var Bu={exports:{}},N0=Bu.exports,hm;function O0(){return hm||(hm=1,(function(M,f){(function(o,c){M.exports=c()})(N0,function(){var o=function(i,l){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(u[_]=h[_])})(i,l)},c=function(){return(c=Object.assign||function(i){for(var l,u=1,h=arguments.length;u<h;u++)for(var _ in l=arguments[u])Object.prototype.hasOwnProperty.call(l,_)&&(i[_]=l[_]);return i}).apply(this,arguments)};function y(i,l,u){for(var h,_=0,j=l.length;_<j;_++)!h&&_ in l||((h=h||Array.prototype.slice.call(l,0,_))[_]=l[_]);return i.concat(h||Array.prototype.slice.call(l))}var m=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:gs,x=Object.keys,p=Array.isArray;function v(i,l){return typeof l!="object"||x(l).forEach(function(u){i[u]=l[u]}),i}typeof Promise>"u"||m.Promise||(m.Promise=Promise);var g=Object.getPrototypeOf,k={}.hasOwnProperty;function C(i,l){return k.call(i,l)}function O(i,l){typeof l=="function"&&(l=l(g(i))),(typeof Reflect>"u"?x:Reflect.ownKeys)(l).forEach(function(u){A(i,u,l[u])})}var T=Object.defineProperty;function A(i,l,u,h){T(i,l,v(u&&C(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},h))}function w(i){return{from:function(l){return i.prototype=Object.create(l.prototype),A(i.prototype,"constructor",i),{extend:O.bind(null,i.prototype)}}}}var R=Object.getOwnPropertyDescriptor,D=[].slice;function H(i,l,u){return D.call(i,l,u)}function Y(i,l){return l(i)}function J(i){if(!i)throw new Error("Assertion Failed")}function I(i){m.setImmediate?setImmediate(i):setTimeout(i,0)}function Z(i,l){if(typeof l=="string"&&C(i,l))return i[l];if(!l)return i;if(typeof l!="string"){for(var u=[],h=0,_=l.length;h<_;++h){var j=Z(i,l[h]);u.push(j)}return u}var B=l.indexOf(".");if(B!==-1){var K=i[l.substr(0,B)];return K==null?void 0:Z(K,l.substr(B+1))}}function X(i,l,u){if(i&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof l!="string"&&"length"in l){J(typeof u!="string"&&"length"in u);for(var h=0,_=l.length;h<_;++h)X(i,l[h],u[h])}else{var j,B,K=l.indexOf(".");K!==-1?(j=l.substr(0,K),(B=l.substr(K+1))===""?u===void 0?p(i)&&!isNaN(parseInt(j))?i.splice(j,1):delete i[j]:i[j]=u:X(K=!(K=i[j])||!C(i,j)?i[j]={}:K,B,u)):u===void 0?p(i)&&!isNaN(parseInt(l))?i.splice(l,1):delete i[l]:i[l]=u}}function mt(i){var l,u={};for(l in i)C(i,l)&&(u[l]=i[l]);return u}var tt=[].concat;function Ct(i){return tt.apply([],i)}var ae="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ct([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(l){return l+i+"Array"})}))).filter(function(i){return m[i]}),Vt=new Set(ae.map(function(i){return m[i]})),G=null;function yt(i){return G=new WeakMap,i=(function l(u){if(!u||typeof u!="object")return u;var h=G.get(u);if(h)return h;if(p(u)){h=[],G.set(u,h);for(var _=0,j=u.length;_<j;++_)h.push(l(u[_]))}else if(Vt.has(u.constructor))h=u;else{var B,K=g(u);for(B in h=K===Object.prototype?{}:Object.create(K),G.set(u,h),u)C(u,B)&&(h[B]=l(u[B]))}return h})(i),G=null,i}var S={}.toString;function St(i){return S.call(i).slice(8,-1)}var ut=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ot=typeof ut=="symbol"?function(i){var l;return i!=null&&(l=i[ut])&&l.apply(i)}:function(){return null};function Ut(i,l){return l=i.indexOf(l),0<=l&&i.splice(l,1),0<=l}var jt={};function Ht(i){var l,u,h,_;if(arguments.length===1){if(p(i))return i.slice();if(this===jt&&typeof i=="string")return[i];if(_=ot(i)){for(u=[];!(h=_.next()).done;)u.push(h.value);return u}if(i==null)return[i];if(typeof(l=i.length)!="number")return[i];for(u=new Array(l);l--;)u[l]=i[l];return u}for(l=arguments.length,u=new Array(l);l--;)u[l]=arguments[l];return u}var N=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Kt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],On=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Kt),L={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Et(i,l){this.name=i,this.message=l}function wt(i,l){return i+". Errors: "+Object.keys(l).map(function(u){return l[u].toString()}).filter(function(u,h,_){return _.indexOf(u)===h}).join(`
`)}function At(i,l,u,h){this.failures=l,this.failedKeys=h,this.successCount=u,this.message=wt(i,l)}function te(i,l){this.name="BulkError",this.failures=Object.keys(l).map(function(u){return l[u]}),this.failuresByPos=l,this.message=wt(i,this.failures)}w(Et).from(Error).extend({toString:function(){return this.name+": "+this.message}}),w(At).from(Et),w(te).from(Et);var ue=On.reduce(function(i,l){return i[l]=l+"Error",i},{}),se=Et,Rt=On.reduce(function(i,l){var u=l+"Error";function h(_,j){this.name=u,_?typeof _=="string"?(this.message="".concat(_).concat(j?`
 `+j:""),this.inner=j||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=L[l]||u,this.inner=null)}return w(h).from(se),i[l]=h,i},{});Rt.Syntax=SyntaxError,Rt.Type=TypeError,Rt.Range=RangeError;var xt=Kt.reduce(function(i,l){return i[l+"Error"]=Rt[l],i},{}),Qt=On.reduce(function(i,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(i[l+"Error"]=Rt[l]),i},{});function Zt(){}function oe(i){return i}function b(i,l){return i==null||i===oe?l:function(u){return l(i(u))}}function ct(i,l){return function(){i.apply(this,arguments),l.apply(this,arguments)}}function dt(i,l){return i===Zt?l:function(){var u=i.apply(this,arguments);u!==void 0&&(arguments[0]=u);var h=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var j=l.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?ct(h,this.onsuccess):h),_&&(this.onerror=this.onerror?ct(_,this.onerror):_),j!==void 0?j:u}}function q(i,l){return i===Zt?l:function(){i.apply(this,arguments);var u=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?ct(u,this.onsuccess):u),h&&(this.onerror=this.onerror?ct(h,this.onerror):h)}}function U(i,l){return i===Zt?l:function(u){var h=i.apply(this,arguments);v(u,h);var _=this.onsuccess,j=this.onerror;return this.onsuccess=null,this.onerror=null,u=l.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?ct(_,this.onsuccess):_),j&&(this.onerror=this.onerror?ct(j,this.onerror):j),h===void 0?u===void 0?void 0:u:v(h,u)}}function at(i,l){return i===Zt?l:function(){return l.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Nt(i,l){return i===Zt?l:function(){var u=i.apply(this,arguments);if(u&&typeof u.then=="function"){for(var h=this,_=arguments.length,j=new Array(_);_--;)j[_]=arguments[_];return u.then(function(){return l.apply(h,j)})}return l.apply(this,arguments)}}Qt.ModifyError=At,Qt.DexieError=Et,Qt.BulkError=te;var Tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ft(i){Tt=i}var Bt={},Xt=100,ae=typeof Promise>"u"?[]:(function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,g(i),i];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,g(l),i]})(),Kt=ae[0],On=ae[1],ae=ae[2],On=On&&On.then,xe=Kt&&Kt.constructor,me=!!ae,an=function(i,l){_a.push([i,l]),yn&&(queueMicrotask(_s),yn=!1)},$n=!0,yn=!0,An=[],je=[],Qe=oe,Ie={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Zt,pgp:!1,env:{},finalize:Zt},Jt=Ie,_a=[],da=0,ci=[];function It(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=Jt;if(typeof i!="function"){if(i!==Bt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&En(this,this._value))}this._state=null,this._value=null,++l.ref,(function u(h,_){try{_(function(j){if(h._state===null){if(j===h)throw new TypeError("A promise cannot be resolved with itself.");var B=h._lib&&wa();j&&typeof j.then=="function"?u(h,function(K,F){j instanceof It?j._then(K,F):j.then(K,F)}):(h._state=!0,h._value=j,Vi(h)),B&&ta()}},En.bind(null,h))}catch(j){En(h,j)}})(this,i)}var ma={get:function(){var i=Jt,l=Fi;function u(h,_){var j=this,B=!i.global&&(i!==Jt||l!==Fi),K=B&&!zn(),F=new It(function(P,it){Ra(j,new Zn(Sr(h,i,B,K),Sr(_,i,B,K),P,it,i))});return this._consoleTask&&(F._consoleTask=this._consoleTask),F}return u.prototype=Bt,u},set:function(i){A(this,"then",i&&i.prototype===Bt?ma:{get:function(){return i},set:ma.set})}};function Zn(i,l,u,h,_){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof l=="function"?l:null,this.resolve=u,this.reject=h,this.psd=_}function En(i,l){var u,h;je.push(l),i._state===null&&(u=i._lib&&wa(),l=Qe(l),i._state=!1,i._value=l,h=i,An.some(function(_){return _._value===h._value})||An.push(h),Vi(i),u&&ta())}function Vi(i){var l=i._listeners;i._listeners=[];for(var u=0,h=l.length;u<h;++u)Ra(i,l[u]);var _=i._PSD;--_.ref||_.finalize(),da===0&&(++da,an(function(){--da==0&&ml()},[]))}function Ra(i,l){if(i._state!==null){var u=i._state?l.onFulfilled:l.onRejected;if(u===null)return(i._state?l.resolve:l.reject)(i._value);++l.psd.ref,++da,an(Hu,[u,i,l])}else i._listeners.push(l)}function Hu(i,l,u){try{var h,_=l._value;!l._state&&je.length&&(je=[]),h=Tt&&l._consoleTask?l._consoleTask.run(function(){return i(_)}):i(_),l._state||je.indexOf(_)!==-1||(function(j){for(var B=An.length;B;)if(An[--B]._value===j._value)return An.splice(B,1)})(l),u.resolve(h)}catch(j){u.reject(j)}finally{--da==0&&ml(),--u.psd.ref||u.psd.finalize()}}function _s(){Gn(Ie,function(){wa()&&ta()})}function wa(){var i=$n;return yn=$n=!1,i}function ta(){var i,l,u;do for(;0<_a.length;)for(i=_a,_a=[],u=i.length,l=0;l<u;++l){var h=i[l];h[0].apply(null,h[1])}while(0<_a.length);yn=$n=!0}function ml(){var i=An;An=[],i.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var l=ci.slice(0),u=l.length;u;)l[--u]()}function Qi(i){return new It(Bt,!1,i)}function He(i,l){var u=Jt;return function(){var h=wa(),_=Jt;try{return Ea(u,!0),i.apply(this,arguments)}catch(j){l&&l(j)}finally{Ea(_,!1),h&&ta()}}}O(It.prototype,{then:ma,_then:function(i,l){Ra(this,new Zn(null,null,i,l,Jt))},catch:function(i){if(arguments.length===1)return this.then(null,i);var l=i,u=arguments[1];return typeof l=="function"?this.then(null,function(h){return(h instanceof l?u:Qi)(h)}):this.then(null,function(h){return(h&&h.name===l?u:Qi)(h)})},finally:function(i){return this.then(function(l){return It.resolve(i()).then(function(){return l})},function(l){return It.resolve(i()).then(function(){return Qi(l)})})},timeout:function(i,l){var u=this;return i<1/0?new It(function(h,_){var j=setTimeout(function(){return _(new Rt.Timeout(l))},i);u.then(h,_).finally(clearTimeout.bind(null,j))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&A(It.prototype,Symbol.toStringTag,"Dexie.Promise"),Ie.env=vl(),O(It,{all:function(){var i=Ht.apply(null,arguments).map(hi);return new It(function(l,u){i.length===0&&l([]);var h=i.length;i.forEach(function(_,j){return It.resolve(_).then(function(B){i[j]=B,--h||l(i)},u)})})},resolve:function(i){return i instanceof It?i:i&&typeof i.then=="function"?new It(function(l,u){i.then(l,u)}):new It(Bt,!0,i)},reject:Qi,race:function(){var i=Ht.apply(null,arguments).map(hi);return new It(function(l,u){i.map(function(h){return It.resolve(h).then(l,u)})})},PSD:{get:function(){return Jt},set:function(i){return Jt=i}},totalEchoes:{get:function(){return Fi}},newPSD:qe,usePSD:Gn,scheduler:{get:function(){return an},set:function(i){an=i}},rejectionMapper:{get:function(){return Qe},set:function(i){Qe=i}},follow:function(i,l){return new It(function(u,h){return qe(function(_,j){var B=Jt;B.unhandleds=[],B.onunhandled=j,B.finalize=ct(function(){var K,F=this;K=function(){F.unhandleds.length===0?_():j(F.unhandleds[0])},ci.push(function P(){K(),ci.splice(ci.indexOf(P),1)}),++da,an(function(){--da==0&&ml()},[])},B.finalize),i()},l,u,h)})}}),xe&&(xe.allSettled&&A(It,"allSettled",function(){var i=Ht.apply(null,arguments).map(hi);return new It(function(l){i.length===0&&l([]);var u=i.length,h=new Array(u);i.forEach(function(_,j){return It.resolve(_).then(function(B){return h[j]={status:"fulfilled",value:B}},function(B){return h[j]={status:"rejected",reason:B}}).then(function(){return--u||l(h)})})})}),xe.any&&typeof AggregateError<"u"&&A(It,"any",function(){var i=Ht.apply(null,arguments).map(hi);return new It(function(l,u){i.length===0&&u(new AggregateError([]));var h=i.length,_=new Array(h);i.forEach(function(j,B){return It.resolve(j).then(function(K){return l(K)},function(K){_[B]=K,--h||u(new AggregateError(_))})})})}),xe.withResolvers&&(It.withResolvers=xe.withResolvers));var Pe={awaits:0,echoes:0,id:0},pl=0,fi=[],Ji=0,Fi=0,Sa=0;function qe(i,l,u,h){var _=Jt,j=Object.create(_);return j.parent=_,j.ref=0,j.global=!1,j.id=++Sa,Ie.env,j.env=me?{Promise:It,PromiseProp:{value:It,configurable:!0,writable:!0},all:It.all,race:It.race,allSettled:It.allSettled,any:It.any,resolve:It.resolve,reject:It.reject}:{},l&&v(j,l),++_.ref,j.finalize=function(){--this.parent.ref||this.parent.finalize()},h=Gn(j,i,u,h),j.ref===0&&j.finalize(),h}function We(){return Pe.id||(Pe.id=++pl),++Pe.awaits,Pe.echoes+=Xt,Pe.id}function zn(){return!!Pe.awaits&&(--Pe.awaits==0&&(Pe.id=0),Pe.echoes=Pe.awaits*Xt,!0)}function hi(i){return Pe.echoes&&i&&i.constructor===xe?(We(),i.then(function(l){return zn(),l},function(l){return zn(),De(l)})):i}function Lu(){var i=fi[fi.length-1];fi.pop(),Ea(i,!1)}function Ea(i,l){var u,h=Jt;(l?!Pe.echoes||Ji++&&i===Jt:!Ji||--Ji&&i===Jt)||queueMicrotask(l?(function(_){++Fi,Pe.echoes&&--Pe.echoes!=0||(Pe.echoes=Pe.awaits=Pe.id=0),fi.push(Jt),Ea(_,!0)}).bind(null,i):Lu),i!==Jt&&(Jt=i,h===Ie&&(Ie.env=vl()),me&&(u=Ie.env.Promise,l=i.env,(h.global||i.global)&&(Object.defineProperty(m,"Promise",l.PromiseProp),u.all=l.all,u.race=l.race,u.resolve=l.resolve,u.reject=l.reject,l.allSettled&&(u.allSettled=l.allSettled),l.any&&(u.any=l.any))))}function vl(){var i=m.Promise;return me?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(m,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Gn(i,l,u,h,_){var j=Jt;try{return Ea(i,!0),l(u,h,_)}finally{Ea(j,!1)}}function Sr(i,l,u,h){return typeof i!="function"?i:function(){var _=Jt;u&&We(),Ea(l,!0);try{return i.apply(this,arguments)}finally{Ea(_,!1),h&&queueMicrotask(zn)}}}function Ca(i){Promise===xe&&Pe.echoes===0?Ji===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+On).indexOf("[native code]")===-1&&(We=zn=Zt);var De=It.reject,Xn="",Cn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",$e="String expected.",Ba=[],Ii="__dbnames",pa="readonly",ka="readwrite";function Ua(i,l){return i?l?function(){return i.apply(this,arguments)&&l.apply(this,arguments)}:i:l}var gl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Pi(i){return typeof i!="string"||/\./.test(i)?function(l){return l}:function(l){return l[i]===void 0&&i in l&&delete(l=yt(l))[i],l}}function ws(){throw Rt.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ye(i,l){try{var u=Wi(i),h=Wi(l);if(u!==h)return u==="Array"?1:h==="Array"?-1:u==="binary"?1:h==="binary"?-1:u==="string"?1:h==="string"?-1:u==="Date"?1:h!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return l<i?1:i<l?-1:0;case"binary":return(function(_,j){for(var B=_.length,K=j.length,F=B<K?B:K,P=0;P<F;++P)if(_[P]!==j[P])return _[P]<j[P]?-1:1;return B===K?0:B<K?-1:1})(ea(i),ea(l));case"Array":return(function(_,j){for(var B=_.length,K=j.length,F=B<K?B:K,P=0;P<F;++P){var it=ye(_[P],j[P]);if(it!==0)return it}return B===K?0:B<K?-1:1})(i,l)}}catch{}return NaN}function Wi(i){var l=typeof i;return l!="object"?l:ArrayBuffer.isView(i)?"binary":(i=St(i),i==="ArrayBuffer"?"binary":i)}function ea(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function bn(i,l,u){var h=i.schema.yProps;return h?(l&&0<u.numFailures&&(l=l.filter(function(_,j){return!u.failures[j]})),Promise.all(h.map(function(_){return _=_.updatesTable,l?i.db.table(_).where("k").anyOf(l).delete():i.db.table(_).clear()})).then(function(){return u})):u}var di=(Ss.prototype.execute=function(i){var l=this["@@propmod"];if(l.add!==void 0){var u=l.add;if(p(u))return y(y([],p(i)?i:[],!0),u).sort();if(typeof u=="number")return(Number(i)||0)+u;if(typeof u=="bigint")try{return BigInt(i)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(l.remove!==void 0){var h=l.remove;if(p(h))return p(i)?i.filter(function(_){return!h.includes(_)}).sort():[];if(typeof h=="number")return Number(i)-h;if(typeof h=="bigint")try{return BigInt(i)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return u=(u=l.replacePrefix)===null||u===void 0?void 0:u[0],u&&typeof i=="string"&&i.startsWith(u)?l.replacePrefix[1]+i.substring(u.length):i},Ss);function Ss(i){this["@@propmod"]=i}function Er(i,l){for(var u=x(l),h=u.length,_=!1,j=0;j<h;++j){var B=u[j],K=l[B],F=Z(i,B);K instanceof di?(X(i,B,K.execute(F)),_=!0):F!==K&&(X(i,B,K),_=!0)}return _}var yl=(ze.prototype._trans=function(i,l,u){var h=this._tx||Jt.trans,_=this.name,j=Tt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function B(P,it,Q){if(!Q.schema[_])throw new Rt.NotFound("Table "+_+" not part of transaction");return l(Q.idbtrans,Q)}var K=wa();try{var F=h&&h.db._novip===this.db._novip?h===Jt.trans?h._promise(i,B,u):qe(function(){return h._promise(i,B,u)},{trans:h,transless:Jt.transless||Jt}):(function P(it,Q,lt,W){if(it.idbdb&&(it._state.openComplete||Jt.letThrough||it._vip)){var et=it._createTransaction(Q,lt,it._dbSchema);try{et.create(),it._state.PR1398_maxLoop=3}catch(nt){return nt.name===ue.InvalidState&&it.isOpen()&&0<--it._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),it.close({disableAutoOpen:!1}),it.open().then(function(){return P(it,Q,lt,W)})):De(nt)}return et._promise(Q,function(nt,rt){return qe(function(){return Jt.trans=et,W(nt,rt,et)})}).then(function(nt){if(Q==="readwrite")try{et.idbtrans.commit()}catch{}return Q==="readonly"?nt:et._completion.then(function(){return nt})})}if(it._state.openComplete)return De(new Rt.DatabaseClosed(it._state.dbOpenError));if(!it._state.isBeingOpened){if(!it._state.autoOpen)return De(new Rt.DatabaseClosed);it.open().catch(Zt)}return it._state.dbReadyPromise.then(function(){return P(it,Q,lt,W)})})(this.db,i,[this.name],B);return j&&(F._consoleTask=j,F=F.catch(function(P){return console.trace(P),De(P)})),F}finally{K&&ta()}},ze.prototype.get=function(i,l){var u=this;return i&&i.constructor===Object?this.where(i).first(l):i==null?De(new Rt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return u.core.get({trans:h,key:i}).then(function(_){return u.hook.reading.fire(_)})}).then(l)},ze.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(p(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var l=x(i);if(l.length===1)return this.where(l[0]).equals(i[l[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(K){if(K.compound&&l.every(function(P){return 0<=K.keyPath.indexOf(P)})){for(var F=0;F<l.length;++F)if(l.indexOf(K.keyPath[F])===-1)return!1;return!0}return!1}).sort(function(K,F){return K.keyPath.length-F.keyPath.length})[0];if(u&&this.db._maxKey!==Xn){var j=u.keyPath.slice(0,l.length);return this.where(j).equals(j.map(function(F){return i[F]}))}!u&&Tt&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var h=this.schema.idxByName;function _(K,F){return ye(K,F)===0}var B=l.reduce(function(Q,F){var P=Q[0],it=Q[1],Q=h[F],lt=i[F];return[P||Q,P||!Q?Ua(it,Q&&Q.multi?function(W){return W=Z(W,F),p(W)&&W.some(function(et){return _(lt,et)})}:function(W){return _(lt,Z(W,F))}):it]},[null,null]),j=B[0],B=B[1];return j?this.where(j.name).equals(i[j.keyPath]).filter(B):u?this.filter(B):this.where(l).equals("")},ze.prototype.filter=function(i){return this.toCollection().and(i)},ze.prototype.count=function(i){return this.toCollection().count(i)},ze.prototype.offset=function(i){return this.toCollection().offset(i)},ze.prototype.limit=function(i){return this.toCollection().limit(i)},ze.prototype.each=function(i){return this.toCollection().each(i)},ze.prototype.toArray=function(i){return this.toCollection().toArray(i)},ze.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ze.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,p(i)?"[".concat(i.join("+"),"]"):i))},ze.prototype.reverse=function(){return this.toCollection().reverse()},ze.prototype.mapToClass=function(i){var l,u=this.db,h=this.name;function _(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof ws&&((function(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function it(){this.constructor=F}o(F,P),F.prototype=P===null?Object.create(P):(it.prototype=P.prototype,new it)})(_,l=i),Object.defineProperty(_.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),_.prototype.table=function(){return h},i=_);for(var j=new Set,B=i.prototype;B;B=g(B))Object.getOwnPropertyNames(B).forEach(function(F){return j.add(F)});function K(F){if(!F)return F;var P,it=Object.create(i.prototype);for(P in F)if(!j.has(P))try{it[P]=F[P]}catch{}return it}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=K,this.hook("reading",K),i},ze.prototype.defineClass=function(){return this.mapToClass(function(i){v(this,i)})},ze.prototype.add=function(i,l){var u=this,h=this.schema.primKey,_=h.auto,j=h.keyPath,B=i;return j&&_&&(B=Pi(j)(i)),this._trans("readwrite",function(K){return u.core.mutate({trans:K,type:"add",keys:l!=null?[l]:null,values:[B]})}).then(function(K){return K.numFailures?It.reject(K.failures[0]):K.lastResult}).then(function(K){if(j)try{X(i,j,K)}catch{}return K})},ze.prototype.upsert=function(i,l){var u=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(_){return u.core.get({trans:_,key:i}).then(function(j){var B=j??{};return Er(B,l),h&&X(B,h,i),u.core.mutate({trans:_,type:"put",values:[B],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[l]}}).then(function(K){return K.numFailures?It.reject(K.failures[0]):!!j})})})},ze.prototype.update=function(i,l){return typeof i!="object"||p(i)?this.where(":id").equals(i).modify(l):(i=Z(i,this.schema.primKey.keyPath),i===void 0?De(new Rt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(l))},ze.prototype.put=function(i,l){var u=this,h=this.schema.primKey,_=h.auto,j=h.keyPath,B=i;return j&&_&&(B=Pi(j)(i)),this._trans("readwrite",function(K){return u.core.mutate({trans:K,type:"put",values:[B],keys:l!=null?[l]:null})}).then(function(K){return K.numFailures?It.reject(K.failures[0]):K.lastResult}).then(function(K){if(j)try{X(i,j,K)}catch{}return K})},ze.prototype.delete=function(i){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"delete",keys:[i]}).then(function(h){return bn(l,[i],h)}).then(function(h){return h.numFailures?It.reject(h.failures[0]):void 0})})},ze.prototype.clear=function(){var i=this;return this._trans("readwrite",function(l){return i.core.mutate({trans:l,type:"deleteRange",range:gl}).then(function(u){return bn(i,null,u)})}).then(function(l){return l.numFailures?It.reject(l.failures[0]):void 0})},ze.prototype.bulkGet=function(i){var l=this;return this._trans("readonly",function(u){return l.core.getMany({keys:i,trans:u}).then(function(h){return h.map(function(_){return l.hook.reading.fire(_)})})})},ze.prototype.bulkAdd=function(i,l,u){var h=this,_=Array.isArray(l)?l:void 0,j=(u=u||(_?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(B){var P=h.schema.primKey,K=P.auto,P=P.keyPath;if(P&&_)throw new Rt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==i.length)throw new Rt.InvalidArgument("Arguments objects and keys must have the same length");var F=i.length,P=P&&K?i.map(Pi(P)):i;return h.core.mutate({trans:B,type:"add",keys:_,values:P,wantResults:j}).then(function(et){var Q=et.numFailures,lt=et.results,W=et.lastResult,et=et.failures;if(Q===0)return j?lt:W;throw new te("".concat(h.name,".bulkAdd(): ").concat(Q," of ").concat(F," operations failed"),et)})})},ze.prototype.bulkPut=function(i,l,u){var h=this,_=Array.isArray(l)?l:void 0,j=(u=u||(_?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(B){var P=h.schema.primKey,K=P.auto,P=P.keyPath;if(P&&_)throw new Rt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==i.length)throw new Rt.InvalidArgument("Arguments objects and keys must have the same length");var F=i.length,P=P&&K?i.map(Pi(P)):i;return h.core.mutate({trans:B,type:"put",keys:_,values:P,wantResults:j}).then(function(et){var Q=et.numFailures,lt=et.results,W=et.lastResult,et=et.failures;if(Q===0)return j?lt:W;throw new te("".concat(h.name,".bulkPut(): ").concat(Q," of ").concat(F," operations failed"),et)})})},ze.prototype.bulkUpdate=function(i){var l=this,u=this.core,h=i.map(function(B){return B.key}),_=i.map(function(B){return B.changes}),j=[];return this._trans("readwrite",function(B){return u.getMany({trans:B,keys:h,cache:"clone"}).then(function(K){var F=[],P=[];i.forEach(function(Q,lt){var W=Q.key,et=Q.changes,nt=K[lt];if(nt){for(var rt=0,ht=Object.keys(et);rt<ht.length;rt++){var gt=ht[rt],kt=et[gt];if(gt===l.schema.primKey.keyPath){if(ye(kt,W)!==0)throw new Rt.Constraint("Cannot update primary key in bulkUpdate()")}else X(nt,gt,kt)}j.push(lt),F.push(W),P.push(nt)}});var it=F.length;return u.mutate({trans:B,type:"put",keys:F,values:P,updates:{keys:h,changeSpecs:_}}).then(function(Q){var lt=Q.numFailures,W=Q.failures;if(lt===0)return it;for(var et=0,nt=Object.keys(W);et<nt.length;et++){var rt,ht=nt[et],gt=j[Number(ht)];gt!=null&&(rt=W[ht],delete W[ht],W[gt]=rt)}throw new te("".concat(l.name,".bulkUpdate(): ").concat(lt," of ").concat(it," operations failed"),W)})})})},ze.prototype.bulkDelete=function(i){var l=this,u=i.length;return this._trans("readwrite",function(h){return l.core.mutate({trans:h,type:"delete",keys:i}).then(function(_){return bn(l,i,_)})}).then(function(B){var _=B.numFailures,j=B.lastResult,B=B.failures;if(_===0)return j;throw new te("".concat(l.name,".bulkDelete(): ").concat(_," of ").concat(u," operations failed"),B)})},ze);function ze(){}function $i(i){function l(B,K){if(K){for(var F=arguments.length,P=new Array(F-1);--F;)P[F-1]=arguments[F];return u[B].subscribe.apply(null,P),i}if(typeof B=="string")return u[B]}var u={};l.addEventType=j;for(var h=1,_=arguments.length;h<_;++h)j(arguments[h]);return l;function j(B,K,F){if(typeof B!="object"){var P;K=K||at;var it={subscribers:[],fire:F=F||Zt,subscribe:function(Q){it.subscribers.indexOf(Q)===-1&&(it.subscribers.push(Q),it.fire=K(it.fire,Q))},unsubscribe:function(Q){it.subscribers=it.subscribers.filter(function(lt){return lt!==Q}),it.fire=it.subscribers.reduce(K,F)}};return u[B]=l[B]=it}x(P=B).forEach(function(Q){var lt=P[Q];if(p(lt))j(Q,P[Q][0],P[Q][1]);else{if(lt!=="asap")throw new Rt.InvalidArgument("Invalid event config");var W=j(Q,oe,function(){for(var et=arguments.length,nt=new Array(et);et--;)nt[et]=arguments[et];W.subscribers.forEach(function(rt){I(function(){rt.apply(null,nt)})})})}})}}function dn(i,l){return w(l).from({prototype:i}),l}function ja(i,l){return!(i.filter||i.algorithm||i.or)&&(l?i.justLimit:!i.replayFilter)}function Cr(i,l){i.filter=Ua(i.filter,l)}function tr(i,l,u){var h=i.replayFilter;i.replayFilter=h?function(){return Ua(h(),l())}:l,i.justLimit=u&&!h}function va(i,l){if(i.isPrimKey)return l.primaryKey;var u=l.getIndexByKeyPath(i.index);if(!u)throw new Rt.Schema("KeyPath "+i.index+" on object store "+l.name+" is not indexed");return u}function bl(i,l,u){var h=va(i,l.schema);return l.openCursor({trans:u,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:h,range:i.range}})}function er(i,l,u,h){var _=i.replayFilter?Ua(i.filter,i.replayFilter()):i.filter;if(i.or){var j={},B=function(K,F,P){var it,Q;_&&!_(F,P,function(lt){return F.stop(lt)},function(lt){return F.fail(lt)})||((Q=""+(it=F.primaryKey))=="[object ArrayBuffer]"&&(Q=""+new Uint8Array(it)),C(j,Q)||(j[Q]=!0,l(K,F,P)))};return Promise.all([i.or._iterate(B,u),Ha(bl(i,h,u),i.algorithm,B,!i.keysOnly&&i.valueMapper)])}return Ha(bl(i,h,u),Ua(i.algorithm,_),l,!i.keysOnly&&i.valueMapper)}function Ha(i,l,u,h){var _=He(h?function(j,B,K){return u(h(j),B,K)}:u);return i.then(function(j){if(j)return j.start(function(){var B=function(){return j.continue()};l&&!l(j,function(K){return B=K},function(K){j.stop(K),B=Zt},function(K){j.fail(K),B=Zt})||_(j.value,j,function(K){return B=K}),B()})})}var qu=(Ce.prototype._read=function(i,l){var u=this._ctx;return u.error?u.table._trans(null,De.bind(null,u.error)):u.table._trans("readonly",i).then(l)},Ce.prototype._write=function(i){var l=this._ctx;return l.error?l.table._trans(null,De.bind(null,l.error)):l.table._trans("readwrite",i,"locked")},Ce.prototype._addAlgorithm=function(i){var l=this._ctx;l.algorithm=Ua(l.algorithm,i)},Ce.prototype._iterate=function(i,l){return er(this._ctx,i,l,this._ctx.table.core)},Ce.prototype.clone=function(i){var l=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return i&&v(u,i),l._ctx=u,l},Ce.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ce.prototype.each=function(i){var l=this._ctx;return this._read(function(u){return er(l,i,u,l.table.core)})},Ce.prototype.count=function(i){var l=this;return this._read(function(u){var h=l._ctx,_=h.table.core;if(ja(h,!0))return _.count({trans:u,query:{index:va(h,_.schema),range:h.range}}).then(function(B){return Math.min(B,h.limit)});var j=0;return er(h,function(){return++j,!1},u,_).then(function(){return j})}).then(i)},Ce.prototype.sortBy=function(i,l){var u=i.split(".").reverse(),h=u[0],_=u.length-1;function j(F,P){return P?j(F[u[P]],P-1):F[h]}var B=this._ctx.dir==="next"?1:-1;function K(F,P){return ye(j(F,_),j(P,_))*B}return this.toArray(function(F){return F.sort(K)}).then(l)},Ce.prototype.toArray=function(i){var l=this;return this._read(function(u){var h=l._ctx;if(h.dir==="next"&&ja(h,!0)&&0<h.limit){var _=h.valueMapper,j=va(h,h.table.core.schema);return h.table.core.query({trans:u,limit:h.limit,values:!0,query:{index:j,range:h.range}}).then(function(K){return K=K.result,_?K.map(_):K})}var B=[];return er(h,function(K){return B.push(K)},u,h.table.core).then(function(){return B})},i)},Ce.prototype.offset=function(i){var l=this._ctx;return i<=0||(l.offset+=i,ja(l)?tr(l,function(){var u=i;return function(h,_){return u===0||(u===1?--u:_(function(){h.advance(u),u=0}),!1)}}):tr(l,function(){var u=i;return function(){return--u<0}})),this},Ce.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),tr(this._ctx,function(){var l=i;return function(u,h,_){return--l<=0&&h(_),0<=l}},!0),this},Ce.prototype.until=function(i,l){return Cr(this._ctx,function(u,h,_){return!i(u.value)||(h(_),l)}),this},Ce.prototype.first=function(i){return this.limit(1).toArray(function(l){return l[0]}).then(i)},Ce.prototype.last=function(i){return this.reverse().first(i)},Ce.prototype.filter=function(i){var l;return Cr(this._ctx,function(u){return i(u.value)}),(l=this._ctx).isMatch=Ua(l.isMatch,i),this},Ce.prototype.and=function(i){return this.filter(i)},Ce.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Ce.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ce.prototype.desc=function(){return this.reverse()},Ce.prototype.eachKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,h){i(h.key,h)})},Ce.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Ce.prototype.eachPrimaryKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,h){i(h.primaryKey,h)})},Ce.prototype.keys=function(i){var l=this._ctx;l.keysOnly=!l.isMatch;var u=[];return this.each(function(h,_){u.push(_.key)}).then(function(){return u}).then(i)},Ce.prototype.primaryKeys=function(i){var l=this._ctx;if(l.dir==="next"&&ja(l,!0)&&0<l.limit)return this._read(function(h){var _=va(l,l.table.core.schema);return l.table.core.query({trans:h,values:!1,limit:l.limit,query:{index:_,range:l.range}})}).then(function(h){return h.result}).then(i);l.keysOnly=!l.isMatch;var u=[];return this.each(function(h,_){u.push(_.primaryKey)}).then(function(){return u}).then(i)},Ce.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Ce.prototype.firstKey=function(i){return this.limit(1).keys(function(l){return l[0]}).then(i)},Ce.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Ce.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var l={};return Cr(this._ctx,function(_){var h=_.primaryKey.toString(),_=C(l,h);return l[h]=!0,!_}),this},Ce.prototype.modify=function(i){var l=this,u=this._ctx;return this._write(function(h){var _=typeof i=="function"?i:function(nt){return Er(nt,i)},j=u.table.core,P=j.schema.primaryKey,B=P.outbound,K=P.extractKey,F=200,P=l.db._options.modifyChunkSize;P&&(F=typeof P=="object"?P[j.name]||P["*"]||200:P);function it(nt,gt){var ht=gt.failures,gt=gt.numFailures;lt+=nt-gt;for(var kt=0,Mt=x(ht);kt<Mt.length;kt++){var Yt=Mt[kt];Q.push(ht[Yt])}}var Q=[],lt=0,W=[],et=i===xl;return l.clone().primaryKeys().then(function(nt){function rt(gt){var kt=Math.min(F,nt.length-gt),Mt=nt.slice(gt,gt+kt);return(et?Promise.resolve([]):j.getMany({trans:h,keys:Mt,cache:"immutable"})).then(function(Yt){var Pt=[],Lt=[],Gt=B?[]:null,Ft=et?Mt:[];if(!et)for(var qt=0;qt<kt;++qt){var $t=Yt[qt],re={value:yt($t),primKey:nt[gt+qt]};_.call(re,re.value,re)!==!1&&(re.value==null?Ft.push(nt[gt+qt]):B||ye(K($t),K(re.value))===0?(Lt.push(re.value),B&&Gt.push(nt[gt+qt])):(Ft.push(nt[gt+qt]),Pt.push(re.value)))}return Promise.resolve(0<Pt.length&&j.mutate({trans:h,type:"add",values:Pt}).then(function(he){for(var pe in he.failures)Ft.splice(parseInt(pe),1);it(Pt.length,he)})).then(function(){return(0<Lt.length||ht&&typeof i=="object")&&j.mutate({trans:h,type:"put",keys:Gt,values:Lt,criteria:ht,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<gt}).then(function(he){return it(Lt.length,he)})}).then(function(){return(0<Ft.length||ht&&et)&&j.mutate({trans:h,type:"delete",keys:Ft,criteria:ht,isAdditionalChunk:0<gt}).then(function(he){return bn(u.table,Ft,he)}).then(function(he){return it(Ft.length,he)})}).then(function(){return nt.length>gt+kt&&rt(gt+F)})})}var ht=ja(u)&&u.limit===1/0&&(typeof i!="function"||et)&&{index:u.index,range:u.range};return rt(0).then(function(){if(0<Q.length)throw new At("Error modifying one or more objects",Q,lt,W);return nt.length})})})},Ce.prototype.delete=function(){var i=this._ctx,l=i.range;return!ja(i)||i.table.schema.yProps||!i.isPrimKey&&l.type!==3?this.modify(xl):this._write(function(u){var h=i.table.core.schema.primaryKey,_=l;return i.table.core.count({trans:u,query:{index:h,range:_}}).then(function(j){return i.table.core.mutate({trans:u,type:"deleteRange",range:_}).then(function(F){var K=F.failures,F=F.numFailures;if(F)throw new At("Could not delete some values",Object.keys(K).map(function(P){return K[P]}),j-F);return j-F})})})},Ce);function Ce(){}var xl=function(i,l){return l.value=null};function _l(i,l){return i<l?-1:i===l?0:1}function Ku(i,l){return l<i?-1:i===l?0:1}function Nn(i,l,u){return i=i instanceof La?new i.Collection(i):i,i._ctx.error=new(u||TypeError)(l),i}function ga(i){return new i.Collection(i,function(){return kr("")}).limit(0)}function Rn(i,l,u,h){var _,j,B,K,F,P,it,Q=u.length;if(!u.every(function(et){return typeof et=="string"}))return Nn(i,$e);function lt(et){_=et==="next"?function(rt){return rt.toUpperCase()}:function(rt){return rt.toLowerCase()},j=et==="next"?function(rt){return rt.toLowerCase()}:function(rt){return rt.toUpperCase()},B=et==="next"?_l:Ku;var nt=u.map(function(rt){return{lower:j(rt),upper:_(rt)}}).sort(function(rt,ht){return B(rt.lower,ht.lower)});K=nt.map(function(rt){return rt.upper}),F=nt.map(function(rt){return rt.lower}),it=(P=et)==="next"?"":h}lt("next"),i=new i.Collection(i,function(){return na(K[0],F[Q-1]+h)}),i._ondirectionchange=function(et){lt(et)};var W=0;return i._addAlgorithm(function(et,nt,rt){var ht=et.key;if(typeof ht!="string")return!1;var gt=j(ht);if(l(gt,F,W))return!0;for(var kt=null,Mt=W;Mt<Q;++Mt){var Yt=(function(Pt,Lt,Gt,Ft,qt,$t){for(var re=Math.min(Pt.length,Ft.length),he=-1,pe=0;pe<re;++pe){var vn=Lt[pe];if(vn!==Ft[pe])return qt(Pt[pe],Gt[pe])<0?Pt.substr(0,pe)+Gt[pe]+Gt.substr(pe+1):qt(Pt[pe],Ft[pe])<0?Pt.substr(0,pe)+Ft[pe]+Gt.substr(pe+1):0<=he?Pt.substr(0,he)+Lt[he]+Gt.substr(he+1):null;qt(Pt[pe],vn)<0&&(he=pe)}return re<Ft.length&&$t==="next"?Pt+Gt.substr(Pt.length):re<Pt.length&&$t==="prev"?Pt.substr(0,Gt.length):he<0?null:Pt.substr(0,he)+Ft[he]+Gt.substr(he+1)})(ht,gt,K[Mt],F[Mt],B,P);Yt===null&&kt===null?W=Mt+1:(kt===null||0<B(kt,Yt))&&(kt=Yt)}return nt(kt!==null?function(){et.continue(kt+it)}:rt),!1}),i}function na(i,l,u,h){return{type:2,lower:i,upper:l,lowerOpen:u,upperOpen:h}}function kr(i){return{type:1,lower:i,upper:i}}var La=(Object.defineProperty(Ke.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ke.prototype.between=function(i,l,u,h){u=u!==!1,h=h===!0;try{return 0<this._cmp(i,l)||this._cmp(i,l)===0&&(u||h)&&(!u||!h)?ga(this):new this.Collection(this,function(){return na(i,l,!u,!h)})}catch{return Nn(this,Cn)}},Ke.prototype.equals=function(i){return i==null?Nn(this,Cn):new this.Collection(this,function(){return kr(i)})},Ke.prototype.above=function(i){return i==null?Nn(this,Cn):new this.Collection(this,function(){return na(i,void 0,!0)})},Ke.prototype.aboveOrEqual=function(i){return i==null?Nn(this,Cn):new this.Collection(this,function(){return na(i,void 0,!1)})},Ke.prototype.below=function(i){return i==null?Nn(this,Cn):new this.Collection(this,function(){return na(void 0,i,!1,!0)})},Ke.prototype.belowOrEqual=function(i){return i==null?Nn(this,Cn):new this.Collection(this,function(){return na(void 0,i)})},Ke.prototype.startsWith=function(i){return typeof i!="string"?Nn(this,$e):this.between(i,i+Xn,!0,!0)},Ke.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):Rn(this,function(l,u){return l.indexOf(u[0])===0},[i],Xn)},Ke.prototype.equalsIgnoreCase=function(i){return Rn(this,function(l,u){return l===u[0]},[i],"")},Ke.prototype.anyOfIgnoreCase=function(){var i=Ht.apply(jt,arguments);return i.length===0?ga(this):Rn(this,function(l,u){return u.indexOf(l)!==-1},i,"")},Ke.prototype.startsWithAnyOfIgnoreCase=function(){var i=Ht.apply(jt,arguments);return i.length===0?ga(this):Rn(this,function(l,u){return u.some(function(h){return l.indexOf(h)===0})},i,Xn)},Ke.prototype.anyOf=function(){var i=this,l=Ht.apply(jt,arguments),u=this._cmp;try{l.sort(u)}catch{return Nn(this,Cn)}if(l.length===0)return ga(this);var h=new this.Collection(this,function(){return na(l[0],l[l.length-1])});h._ondirectionchange=function(j){u=j==="next"?i._ascending:i._descending,l.sort(u)};var _=0;return h._addAlgorithm(function(j,B,K){for(var F=j.key;0<u(F,l[_]);)if(++_===l.length)return B(K),!1;return u(F,l[_])===0||(B(function(){j.continue(l[_])}),!1)}),h},Ke.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ke.prototype.noneOf=function(){var i=Ht.apply(jt,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Nn(this,Cn)}var l=i.reduce(function(u,h){return u?u.concat([[u[u.length-1][1],h]]):[[-1/0,h]]},null);return l.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},Ke.prototype.inAnyRange=function(ht,l){var u=this,h=this._cmp,_=this._ascending,j=this._descending,B=this._min,K=this._max;if(ht.length===0)return ga(this);if(!ht.every(function(gt){return gt[0]!==void 0&&gt[1]!==void 0&&_(gt[0],gt[1])<=0}))return Nn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Rt.InvalidArgument);var F=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,it,Q=_;function lt(gt,kt){return Q(gt[0],kt[0])}try{(it=ht.reduce(function(gt,kt){for(var Mt=0,Yt=gt.length;Mt<Yt;++Mt){var Pt=gt[Mt];if(h(kt[0],Pt[1])<0&&0<h(kt[1],Pt[0])){Pt[0]=B(Pt[0],kt[0]),Pt[1]=K(Pt[1],kt[1]);break}}return Mt===Yt&&gt.push(kt),gt},[])).sort(lt)}catch{return Nn(this,Cn)}var W=0,et=P?function(gt){return 0<_(gt,it[W][1])}:function(gt){return 0<=_(gt,it[W][1])},nt=F?function(gt){return 0<j(gt,it[W][0])}:function(gt){return 0<=j(gt,it[W][0])},rt=et,ht=new this.Collection(this,function(){return na(it[0][0],it[it.length-1][1],!F,!P)});return ht._ondirectionchange=function(gt){Q=gt==="next"?(rt=et,_):(rt=nt,j),it.sort(lt)},ht._addAlgorithm(function(gt,kt,Mt){for(var Yt,Pt=gt.key;rt(Pt);)if(++W===it.length)return kt(Mt),!1;return!et(Yt=Pt)&&!nt(Yt)||(u._cmp(Pt,it[W][1])===0||u._cmp(Pt,it[W][0])===0||kt(function(){Q===_?gt.continue(it[W][0]):gt.continue(it[W][1])}),!1)}),ht},Ke.prototype.startsWithAnyOf=function(){var i=Ht.apply(jt,arguments);return i.every(function(l){return typeof l=="string"})?i.length===0?ga(this):this.inAnyRange(i.map(function(l){return[l,l+Xn]})):Nn(this,"startsWithAnyOf() only works with strings")},Ke);function Ke(){}function Vn(i){return He(function(l){return qa(l),i(l.target.error),!1})}function qa(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var mi="storagemutated",Ka="x-storagemutated-1",mn=$i(null,mi),wl=(kn.prototype._lock=function(){return J(!Jt.global),++this._reculock,this._reculock!==1||Jt.global||(Jt.lockOwnerFor=this),this},kn.prototype._unlock=function(){if(J(!Jt.global),--this._reculock==0)for(Jt.global||(Jt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Gn(i[1],i[0])}catch{}}return this},kn.prototype._locked=function(){return this._reculock&&Jt.lockOwnerFor!==this},kn.prototype.create=function(i){var l=this;if(!this.mode)return this;var u=this.db.idbdb,h=this.db._state.dbOpenError;if(J(!this.idbtrans),!i&&!u)switch(h&&h.name){case"DatabaseClosedError":throw new Rt.DatabaseClosed(h);case"MissingAPIError":throw new Rt.MissingAPI(h.message,h);default:throw new Rt.OpenFailed(h)}if(!this.active)throw new Rt.TransactionInactive;return J(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=He(function(_){qa(_),l._reject(i.error)}),i.onabort=He(function(_){qa(_),l.active&&l._reject(new Rt.Abort(i.error)),l.active=!1,l.on("abort").fire(_)}),i.oncomplete=He(function(){l.active=!1,l._resolve(),"mutatedParts"in i&&mn.storagemutated.fire(i.mutatedParts)}),this},kn.prototype._promise=function(i,l,u){var h=this;if(i==="readwrite"&&this.mode!=="readwrite")return De(new Rt.ReadOnly("Transaction is readonly"));if(!this.active)return De(new Rt.TransactionInactive);if(this._locked())return new It(function(j,B){h._blockedFuncs.push([function(){h._promise(i,l,u).then(j,B)},Jt])});if(u)return qe(function(){var j=new It(function(B,K){h._lock();var F=l(B,K,h);F&&F.then&&F.then(B,K)});return j.finally(function(){return h._unlock()}),j._lib=!0,j});var _=new It(function(j,B){var K=l(j,B,h);K&&K.then&&K.then(j,B)});return _._lib=!0,_},kn.prototype._root=function(){return this.parent?this.parent._root():this},kn.prototype.waitFor=function(i){var l,u=this._root(),h=It.resolve(i);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return h}):(u._waitingFor=h,u._waitingQueue=[],l=u.idbtrans.objectStore(u.storeNames[0]),(function j(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(l.get(-1/0).onsuccess=j)})());var _=u._waitingFor;return new It(function(j,B){h.then(function(K){return u._waitingQueue.push(He(j.bind(null,K)))},function(K){return u._waitingQueue.push(He(B.bind(null,K)))}).finally(function(){u._waitingFor===_&&(u._waitingFor=null)})})},kn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Rt.Abort))},kn.prototype.table=function(i){var l=this._memoizedTables||(this._memoizedTables={});if(C(l,i))return l[i];var u=this.schema[i];if(!u)throw new Rt.NotFound("Table "+i+" not part of transaction");return u=new this.db.Table(i,u,this),u.core=this.db.core.table(i),l[i]=u},kn);function kn(){}function aa(i,l,u,h,_,j,B,K){return{name:i,keyPath:l,unique:u,multi:h,auto:_,compound:j,src:(u&&!B?"&":"")+(h?"*":"")+(_?"++":"")+jr(l),type:K}}function jr(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function pi(i,l,u){return{name:i,primKey:l,indexes:u,mappedClass:null,idxByName:(h=function(_){return[_.name,_]},u.reduce(function(_,j,B){return B=h(j,B),B&&(_[B[0]]=B[1]),_},{}))};var h}var vi=function(i){try{return i.only([[]]),vi=function(){return[[]]},[[]]}catch{return vi=function(){return Xn},Xn}};function gi(i){return i==null?function(){}:typeof i=="string"?(l=i).split(".").length===1?function(u){return u[l]}:function(u){return Z(u,l)}:function(u){return Z(u,i)};var l}function nr(i){return[].slice.call(i)}var Es=0;function rn(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Ya(i,l,F){function h(rt){if(rt.type===3)return null;if(rt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var W=rt.lower,et=rt.upper,nt=rt.lowerOpen,rt=rt.upperOpen;return W===void 0?et===void 0?null:l.upperBound(et,!!rt):et===void 0?l.lowerBound(W,!!nt):l.bound(W,et,!!nt,!!rt)}function _(lt){var W,et=lt.name;return{name:et,schema:lt,mutate:function(nt){var rt=nt.trans,ht=nt.type,gt=nt.keys,kt=nt.values,Mt=nt.range;return new Promise(function(Yt,Pt){Yt=He(Yt);var Lt=rt.objectStore(et),Gt=Lt.keyPath==null,Ft=ht==="put"||ht==="add";if(!Ft&&ht!=="delete"&&ht!=="deleteRange")throw new Error("Invalid operation type: "+ht);var qt,$t=(gt||kt||{length:1}).length;if(gt&&kt&&gt.length!==kt.length)throw new Error("Given keys array must have same length as given values array.");if($t===0)return Yt({numFailures:0,failures:{},results:[],lastResult:void 0});function re(sn){++vn,qa(sn)}var he=[],pe=[],vn=0;if(ht==="deleteRange"){if(Mt.type===4)return Yt({numFailures:vn,failures:pe,results:[],lastResult:void 0});Mt.type===3?he.push(qt=Lt.clear()):he.push(qt=Lt.delete(h(Mt)))}else{var Gt=Ft?Gt?[kt,gt]:[kt,null]:[gt,null],fe=Gt[0],ln=Gt[1];if(Ft)for(var Xe=0;Xe<$t;++Xe)he.push(qt=ln&&ln[Xe]!==void 0?Lt[ht](fe[Xe],ln[Xe]):Lt[ht](fe[Xe])),qt.onerror=re;else for(Xe=0;Xe<$t;++Xe)he.push(qt=Lt[ht](fe[Xe])),qt.onerror=re}function or(sn){sn=sn.target.result,he.forEach(function(Bn,Bl){return Bn.error!=null&&(pe[Bl]=Bn.error)}),Yt({numFailures:vn,failures:pe,results:ht==="delete"?gt:he.map(function(Bn){return Bn.result}),lastResult:sn})}qt.onerror=function(sn){re(sn),or(sn)},qt.onsuccess=or})},getMany:function(nt){var rt=nt.trans,ht=nt.keys;return new Promise(function(gt,kt){gt=He(gt);for(var Mt,Yt=rt.objectStore(et),Pt=ht.length,Lt=new Array(Pt),Gt=0,Ft=0,qt=function(he){he=he.target,Lt[he._pos]=he.result,++Ft===Gt&&gt(Lt)},$t=Vn(kt),re=0;re<Pt;++re)ht[re]!=null&&((Mt=Yt.get(ht[re]))._pos=re,Mt.onsuccess=qt,Mt.onerror=$t,++Gt);Gt===0&&gt(Lt)})},get:function(nt){var rt=nt.trans,ht=nt.key;return new Promise(function(gt,kt){gt=He(gt);var Mt=rt.objectStore(et).get(ht);Mt.onsuccess=function(Yt){return gt(Yt.target.result)},Mt.onerror=Vn(kt)})},query:(W=P,function(nt){return new Promise(function(rt,ht){rt=He(rt);var gt,kt,Mt,Gt=nt.trans,Yt=nt.values,Pt=nt.limit,qt=nt.query,Lt=Pt===1/0?void 0:Pt,Ft=qt.index,qt=qt.range,Gt=Gt.objectStore(et),Ft=Ft.isPrimaryKey?Gt:Gt.index(Ft.name),qt=h(qt);if(Pt===0)return rt({result:[]});W?((Lt=Yt?Ft.getAll(qt,Lt):Ft.getAllKeys(qt,Lt)).onsuccess=function($t){return rt({result:$t.target.result})},Lt.onerror=Vn(ht)):(gt=0,kt=!Yt&&"openKeyCursor"in Ft?Ft.openKeyCursor(qt):Ft.openCursor(qt),Mt=[],kt.onsuccess=function($t){var re=kt.result;return re?(Mt.push(Yt?re.value:re.primaryKey),++gt===Pt?rt({result:Mt}):void re.continue()):rt({result:Mt})},kt.onerror=Vn(ht))})}),openCursor:function(nt){var rt=nt.trans,ht=nt.values,gt=nt.query,kt=nt.reverse,Mt=nt.unique;return new Promise(function(Yt,Pt){Yt=He(Yt);var Ft=gt.index,Lt=gt.range,Gt=rt.objectStore(et),Gt=Ft.isPrimaryKey?Gt:Gt.index(Ft.name),Ft=kt?Mt?"prevunique":"prev":Mt?"nextunique":"next",qt=!ht&&"openKeyCursor"in Gt?Gt.openKeyCursor(h(Lt),Ft):Gt.openCursor(h(Lt),Ft);qt.onerror=Vn(Pt),qt.onsuccess=He(function($t){var re,he,pe,vn,fe=qt.result;fe?(fe.___id=++Es,fe.done=!1,re=fe.continue.bind(fe),he=(he=fe.continuePrimaryKey)&&he.bind(fe),pe=fe.advance.bind(fe),vn=function(){throw new Error("Cursor not stopped")},fe.trans=rt,fe.stop=fe.continue=fe.continuePrimaryKey=fe.advance=function(){throw new Error("Cursor not started")},fe.fail=He(Pt),fe.next=function(){var ln=this,Xe=1;return this.start(function(){return Xe--?ln.continue():ln.stop()}).then(function(){return ln})},fe.start=function(ln){function Xe(){if(qt.result)try{ln()}catch(sn){fe.fail(sn)}else fe.done=!0,fe.start=function(){throw new Error("Cursor behind last entry")},fe.stop()}var or=new Promise(function(sn,Bn){sn=He(sn),qt.onerror=Vn(Bn),fe.fail=Bn,fe.stop=function(Bl){fe.stop=fe.continue=fe.continuePrimaryKey=fe.advance=vn,sn(Bl)}});return qt.onsuccess=He(function(sn){qt.onsuccess=Xe,Xe()}),fe.continue=re,fe.continuePrimaryKey=he,fe.advance=pe,Xe(),or},Yt(fe)):Yt(null)},Pt)})},count:function(nt){var rt=nt.query,ht=nt.trans,gt=rt.index,kt=rt.range;return new Promise(function(Mt,Yt){var Pt=ht.objectStore(et),Lt=gt.isPrimaryKey?Pt:Pt.index(gt.name),Pt=h(kt),Lt=Pt?Lt.count(Pt):Lt.count();Lt.onsuccess=He(function(Gt){return Mt(Gt.target.result)}),Lt.onerror=Vn(Yt)})}}}var j,B,K,it=(B=F,K=nr((j=i).objectStoreNames),{schema:{name:j.name,tables:K.map(function(lt){return B.objectStore(lt)}).map(function(lt){var W=lt.keyPath,rt=lt.autoIncrement,et=p(W),nt={},rt={name:lt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:W==null,compound:et,keyPath:W,autoIncrement:rt,unique:!0,extractKey:gi(W)},indexes:nr(lt.indexNames).map(function(ht){return lt.index(ht)}).map(function(Mt){var gt=Mt.name,kt=Mt.unique,Yt=Mt.multiEntry,Mt=Mt.keyPath,Yt={name:gt,compound:p(Mt),keyPath:Mt,unique:kt,multiEntry:Yt,extractKey:gi(Mt)};return nt[rn(Mt)]=Yt}),getIndexByKeyPath:function(ht){return nt[rn(ht)]}};return nt[":id"]=rt.primaryKey,W!=null&&(nt[rn(W)]=rt.primaryKey),rt})},hasGetAll:0<K.length&&"getAll"in B.objectStore(K[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),F=it.schema,P=it.hasGetAll,it=F.tables.map(_),Q={};return it.forEach(function(lt){return Q[lt.name]=lt}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(lt){if(!Q[lt])throw new Error("Table '".concat(lt,"' not found"));return Q[lt]},MIN_KEY:-1/0,MAX_KEY:vi(l),schema:F}}function Tr(i,l,u,h){var _=u.IDBKeyRange;return u.indexedDB,{dbcore:(h=Ya(l,_,h),i.dbcore.reduce(function(j,B){return B=B.create,c(c({},j),B(j))},h))}}function Ta(i,h){var u=h.db,h=Tr(i._middlewares,u,i._deps,h);i.core=h.dbcore,i.tables.forEach(function(_){var j=_.name;i.core.schema.tables.some(function(B){return B.name===j})&&(_.core=i.core.table(j),i[j]instanceof i.Table&&(i[j].core=_.core))})}function Ar(i,l,u,h){u.forEach(function(_){var j=h[_];l.forEach(function(B){var K=(function F(P,it){return R(P,it)||(P=g(P))&&F(P,it)})(B,_);(!K||"value"in K&&K.value===void 0)&&(B===i.Transaction.prototype||B instanceof i.Transaction?A(B,_,{get:function(){return this.table(_)},set:function(F){T(this,_,{value:F,writable:!0,configurable:!0,enumerable:!0})}}):B[_]=new i.Table(_,j))})})}function ar(i,l){l.forEach(function(u){for(var h in u)u[h]instanceof i.Table&&delete u[h]})}function Sl(i,l){return i._cfg.version-l._cfg.version}function ir(i,l,u,h){var _=i._dbSchema;u.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=pi("$meta",ks("")[0],[]),i._storeNames.push("$meta"));var j=i._createTransaction("readwrite",i._storeNames,_);j.create(u),j._completion.catch(h);var B=j._reject.bind(j),K=Jt.transless||Jt;qe(function(){return Jt.trans=j,Jt.transless=K,l!==0?(Ta(i,u),P=l,((F=j).storeNames.includes("$meta")?F.table("$meta").get("version").then(function(it){return it??P}):It.resolve(P)).then(function(it){return lt=it,W=j,et=u,nt=[],it=(Q=i)._versions,rt=Q._dbSchema=yi(0,Q.idbdb,et),(it=it.filter(function(ht){return ht._cfg.version>=lt})).length!==0?(it.forEach(function(ht){nt.push(function(){var gt=rt,kt=ht._cfg.dbschema;Mr(Q,gt,et),Mr(Q,kt,et),rt=Q._dbSchema=kt;var Mt=Nr(gt,kt);Mt.add.forEach(function(Ft){El(et,Ft[0],Ft[1].primKey,Ft[1].indexes)}),Mt.change.forEach(function(Ft){if(Ft.recreate)throw new Rt.Upgrade("Not yet support for changing primary key");var qt=et.objectStore(Ft.name);Ft.add.forEach(function($t){return Or(qt,$t)}),Ft.change.forEach(function($t){qt.deleteIndex($t.name),Or(qt,$t)}),Ft.del.forEach(function($t){return qt.deleteIndex($t)})});var Yt=ht._cfg.contentUpgrade;if(Yt&&ht._cfg.version>lt){Ta(Q,et),W._memoizedTables={};var Pt=mt(kt);Mt.del.forEach(function(Ft){Pt[Ft]=gt[Ft]}),ar(Q,[Q.Transaction.prototype]),Ar(Q,[Q.Transaction.prototype],x(Pt),Pt),W.schema=Pt;var Lt,Gt=N(Yt);return Gt&&We(),Mt=It.follow(function(){var Ft;(Lt=Yt(W))&&Gt&&(Ft=zn.bind(null,null),Lt.then(Ft,Ft))}),Lt&&typeof Lt.then=="function"?It.resolve(Lt):Mt.then(function(){return Lt})}}),nt.push(function(gt){var kt,Mt,Yt=ht._cfg.dbschema;kt=Yt,Mt=gt,[].slice.call(Mt.db.objectStoreNames).forEach(function(Pt){return kt[Pt]==null&&Mt.db.deleteObjectStore(Pt)}),ar(Q,[Q.Transaction.prototype]),Ar(Q,[Q.Transaction.prototype],Q._storeNames,Q._dbSchema),W.schema=Q._dbSchema}),nt.push(function(gt){Q.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Q.idbdb.version/10)===ht._cfg.version?(Q.idbdb.deleteObjectStore("$meta"),delete Q._dbSchema.$meta,Q._storeNames=Q._storeNames.filter(function(kt){return kt!=="$meta"})):gt.objectStore("$meta").put(ht._cfg.version,"version"))})}),(function ht(){return nt.length?It.resolve(nt.shift()(W.idbtrans)).then(ht):It.resolve()})().then(function(){Cs(rt,et)})):It.resolve();var Q,lt,W,et,nt,rt}).catch(B)):(x(_).forEach(function(it){El(u,it,_[it].primKey,_[it].indexes)}),Ta(i,u),void It.follow(function(){return i.on.populate.fire(j)}).catch(B));var F,P})}function zr(i,l){Cs(i._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var u=yi(0,i.idbdb,l);Mr(i,i._dbSchema,l);for(var h=0,_=Nr(u,i._dbSchema).change;h<_.length;h++){var j=(function(B){if(B.change.length||B.recreate)return console.warn("Unable to patch indexes of table ".concat(B.name," because it has changes on the type of index or primary key.")),{value:void 0};var K=l.objectStore(B.name);B.add.forEach(function(F){Tt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(B.name,".").concat(F.src)),Or(K,F)})})(_[h]);if(typeof j=="object")return j.value}}function Nr(i,l){var u,h={del:[],add:[],change:[]};for(u in i)l[u]||h.del.push(u);for(u in l){var _=i[u],j=l[u];if(_){var B={name:u,def:j,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(j.primKey.keyPath||"")||_.primKey.auto!==j.primKey.auto)B.recreate=!0,h.change.push(B);else{var K=_.idxByName,F=j.idxByName,P=void 0;for(P in K)F[P]||B.del.push(P);for(P in F){var it=K[P],Q=F[P];it?it.src!==Q.src&&B.change.push(Q):B.add.push(Q)}(0<B.del.length||0<B.add.length||0<B.change.length)&&h.change.push(B)}}else h.add.push([u,j])}return h}function El(i,l,u,h){var _=i.db.createObjectStore(l,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return h.forEach(function(j){return Or(_,j)}),_}function Cs(i,l){x(i).forEach(function(u){l.db.objectStoreNames.contains(u)||(Tt&&console.debug("Dexie: Creating missing table",u),El(l,u,i[u].primKey,i[u].indexes))})}function Or(i,l){i.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function yi(i,l,u){var h={};return H(l.objectStoreNames,0).forEach(function(_){for(var j=u.objectStore(_),B=aa(jr(P=j.keyPath),P||"",!0,!1,!!j.autoIncrement,P&&typeof P!="string",!0),K=[],F=0;F<j.indexNames.length;++F){var it=j.index(j.indexNames[F]),P=it.keyPath,it=aa(it.name,P,!!it.unique,!!it.multiEntry,!1,P&&typeof P!="string",!1);K.push(it)}h[_]=pi(_,B,K)}),h}function Mr(i,l,u){for(var h=u.db.objectStoreNames,_=0;_<h.length;++_){var j=h[_],B=u.objectStore(j);i._hasGetAll="getAll"in B;for(var K=0;K<B.indexNames.length;++K){var F=B.indexNames[K],P=B.index(F).keyPath,it=typeof P=="string"?P:"["+H(P).join("+")+"]";!l[j]||(P=l[j].idxByName[it])&&(P.name=F,delete l[j].idxByName[it],l[j].idxByName[F]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&m.WorkerGlobalScope&&m instanceof m.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function ks(i){return i.split(",").map(function(l,u){var j=l.split(":"),h=(_=j[1])===null||_===void 0?void 0:_.trim(),_=(l=j[0].trim()).replace(/([&*]|\+\+)/g,""),j=/^\[/.test(_)?_.match(/^\[(.*)\]$/)[1].split("+"):_;return aa(_,j||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),p(j),u===0,h)})}var Yu=(bi.prototype._createTableSchema=pi,bi.prototype._parseIndexSyntax=ks,bi.prototype._parseStoresSpec=function(i,l){var u=this;x(i).forEach(function(h){if(i[h]!==null){var _=u._parseIndexSyntax(i[h]),j=_.shift();if(!j)throw new Rt.Schema("Invalid schema for table "+h+": "+i[h]);if(j.unique=!0,j.multi)throw new Rt.Schema("Primary key cannot be multiEntry*");_.forEach(function(B){if(B.auto)throw new Rt.Schema("Only primary key can be marked as autoIncrement (++)");if(!B.keyPath)throw new Rt.Schema("Index must have a name and cannot be an empty string")}),_=u._createTableSchema(h,j,_),l[h]=_}})},bi.prototype.stores=function(u){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,u):u;var u=l._versions,h={},_={};return u.forEach(function(j){v(h,j._cfg.storesSource),_=j._cfg.dbschema={},j._parseStoresSpec(h,_)}),l._dbSchema=_,ar(l,[l._allTables,l,l.Transaction.prototype]),Ar(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],x(_),_),l._storeNames=x(_),this},bi.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Nt(this._cfg.contentUpgrade||Zt,i),this},bi);function bi(){}function Cl(i,l){var u=i._dbNamesDB;return u||(u=i._dbNamesDB=new ia(Ii,{addons:[],indexedDB:i,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Dr(i){return i&&typeof i.databases=="function"}function kl(i){return qe(function(){return Jt.letThrough=!0,i()})}function jl(i){return!("from"in i)}var pn=function(i,l){if(!this){var u=new pn;return i&&"d"in i&&v(u,i),u}v(this,arguments.length?{d:1,from:i,to:1<arguments.length?l:i}:{d:0})};function rr(i,l,u){var h=ye(l,u);if(!isNaN(h)){if(0<h)throw RangeError();if(jl(i))return v(i,{from:l,to:u,d:1});var _=i.l,h=i.r;if(ye(u,i.from)<0)return _?rr(_,l,u):i.l={from:l,to:u,d:1,l:null,r:null},Ts(i);if(0<ye(l,i.to))return h?rr(h,l,u):i.r={from:l,to:u,d:1,l:null,r:null},Ts(i);ye(l,i.from)<0&&(i.from=l,i.l=null,i.d=h?h.d+1:1),0<ye(u,i.to)&&(i.to=u,i.r=null,i.d=i.l?i.l.d+1:1),u=!i.r,_&&!i.l&&Za(i,_),h&&u&&Za(i,h)}}function Za(i,l){jl(l)||(function u(h,F){var j=F.from,B=F.to,K=F.l,F=F.r;rr(h,j,B),K&&u(h,K),F&&u(h,F)})(i,l)}function js(i,l){var u=Rr(l),h=u.next();if(h.done)return!1;for(var _=h.value,j=Rr(i),B=j.next(_.from),K=B.value;!h.done&&!B.done;){if(ye(K.from,_.to)<=0&&0<=ye(K.to,_.from))return!0;ye(_.from,K.from)<0?_=(h=u.next(K.from)).value:K=(B=j.next(_.from)).value}return!1}function Rr(i){var l=jl(i)?null:{s:0,n:i};return{next:function(u){for(var h=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,h)for(;l.n.l&&ye(u,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!h||ye(u,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Ts(i){var l,u,h=(((l=i.r)===null||l===void 0?void 0:l.d)||0)-(((u=i.l)===null||u===void 0?void 0:u.d)||0),_=1<h?"r":h<-1?"l":"";_&&(l=_=="r"?"l":"r",u=c({},i),h=i[_],i.from=h.from,i.to=h.to,i[_]=h[_],u[_]=h[l],(i[l]=u).d=Tl(u)),i.d=Tl(i)}function Tl(u){var l=u.r,u=u.l;return(l?u?Math.max(l.d,u.d):l.d:u?u.d:0)+1}function Br(i,l){return x(l).forEach(function(u){i[u]?Za(i[u],l[u]):i[u]=(function h(_){var j,B,K={};for(j in _)C(_,j)&&(B=_[j],K[j]=!B||typeof B!="object"||Vt.has(B.constructor)?B:h(B));return K})(l[u])}),i}function Al(i,l){return i.all||l.all||Object.keys(i).some(function(u){return l[u]&&js(l[u],i[u])})}O(pn.prototype,((On={add:function(i){return Za(this,i),this},addKey:function(i){return rr(this,i,i),this},addKeys:function(i){var l=this;return i.forEach(function(u){return rr(l,u,u)}),this},hasKey:function(i){var l=Rr(this).next(i).value;return l&&ye(l.from,i)<=0&&0<=ye(l.to,i)}})[ut]=function(){return Rr(this)},On));var Ga={},zl={},Nl=!1;function Ur(i){Br(zl,i),Nl||(Nl=!0,setTimeout(function(){Nl=!1,Ol(zl,!(zl={}))},0))}function Ol(i,l){l===void 0&&(l=!1);var u=new Set;if(i.all)for(var h=0,_=Object.values(Ga);h<_.length;h++)As(B=_[h],i,u,l);else for(var j in i){var B,K=/^idb\:\/\/(.*)\/(.*)\//.exec(j);K&&(j=K[1],K=K[2],(B=Ga["idb://".concat(j,"/").concat(K)])&&As(B,i,u,l))}u.forEach(function(F){return F()})}function As(i,l,u,h){for(var _=[],j=0,B=Object.entries(i.queries.query);j<B.length;j++){for(var K=B[j],F=K[0],P=[],it=0,Q=K[1];it<Q.length;it++){var lt=Q[it];Al(l,lt.obsSet)?lt.subscribers.forEach(function(rt){return u.add(rt)}):h&&P.push(lt)}h&&_.push([F,P])}if(h)for(var W=0,et=_;W<et.length;W++){var nt=et[W],F=nt[0],P=nt[1];i.queries.query[F]=P}}function Zu(i){var l=i._state,u=i._deps.indexedDB;if(l.isBeingOpened||i.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?De(l.dbOpenError):i});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var h=l.openCanceller,_=Math.round(10*i.verno),j=!1;function B(){if(l.openCanceller!==h)throw new Rt.DatabaseClosed("db.open() was cancelled")}function K(){return new It(function(lt,W){if(B(),!u)throw new Rt.MissingAPI;var et=i.name,nt=l.autoSchema||!_?u.open(et):u.open(et,_);if(!nt)throw new Rt.MissingAPI;nt.onerror=Vn(W),nt.onblocked=He(i._fireOnBlocked),nt.onupgradeneeded=He(function(rt){var ht;it=nt.transaction,l.autoSchema&&!i._options.allowEmptyDB?(nt.onerror=qa,it.abort(),nt.result.close(),(ht=u.deleteDatabase(et)).onsuccess=ht.onerror=He(function(){W(new Rt.NoSuchDatabase("Database ".concat(et," doesnt exist")))})):(it.onerror=Vn(W),rt=rt.oldVersion>Math.pow(2,62)?0:rt.oldVersion,Q=rt<1,i.idbdb=nt.result,j&&zr(i,it),ir(i,rt/10,it,W))},W),nt.onsuccess=He(function(){it=null;var rt,ht,gt,kt,Mt,Yt=i.idbdb=nt.result,Pt=H(Yt.objectStoreNames);if(0<Pt.length)try{var Lt=Yt.transaction((kt=Pt).length===1?kt[0]:kt,"readonly");if(l.autoSchema)ht=Yt,gt=Lt,(rt=i).verno=ht.version/10,gt=rt._dbSchema=yi(0,ht,gt),rt._storeNames=H(ht.objectStoreNames,0),Ar(rt,[rt._allTables],x(gt),gt);else if(Mr(i,i._dbSchema,Lt),((Mt=Nr(yi(0,(Mt=i).idbdb,Lt),Mt._dbSchema)).add.length||Mt.change.some(function(Gt){return Gt.add.length||Gt.change.length}))&&!j)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Yt.close(),_=Yt.version+1,j=!0,lt(K());Ta(i,Lt)}catch{}Ba.push(i),Yt.onversionchange=He(function(Gt){l.vcFired=!0,i.on("versionchange").fire(Gt)}),Yt.onclose=He(function(){i.close({disableAutoOpen:!1})}),Q&&(Mt=i._deps,Lt=et,Yt=Mt.indexedDB,Mt=Mt.IDBKeyRange,Dr(Yt)||Lt===Ii||Cl(Yt,Mt).put({name:Lt}).catch(Zt)),lt()},W)}).catch(function(lt){switch(lt?.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),K();break;case"VersionError":if(0<_)return _=0,K()}return It.reject(lt)})}var F,P=l.dbReadyResolve,it=null,Q=!1;return It.race([h,(typeof navigator>"u"?It.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(lt){function W(){return indexedDB.databases().finally(lt)}F=setInterval(W,100),W()}).finally(function(){return clearInterval(F)}):Promise.resolve()).then(K)]).then(function(){return B(),l.onReadyBeingFired=[],It.resolve(kl(function(){return i.on.ready.fire(i.vip)})).then(function lt(){if(0<l.onReadyBeingFired.length){var W=l.onReadyBeingFired.reduce(Nt,Zt);return l.onReadyBeingFired=[],It.resolve(kl(function(){return W(i.vip)})).then(lt)}})}).finally(function(){l.openCanceller===h&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(lt){l.dbOpenError=lt;try{it&&it.abort()}catch{}return h===l.openCanceller&&i._close(),De(lt)}).finally(function(){l.openComplete=!0,P()}).then(function(){var lt;return Q&&(lt={},i.tables.forEach(function(W){W.schema.indexes.forEach(function(et){et.name&&(lt["idb://".concat(i.name,"/").concat(W.name,"/").concat(et.name)]=new pn(-1/0,[[[]]]))}),lt["idb://".concat(i.name,"/").concat(W.name,"/")]=lt["idb://".concat(i.name,"/").concat(W.name,"/:dels")]=new pn(-1/0,[[[]]])}),mn(mi).fire(lt),Ol(lt,!0)),i})}function lr(i){function l(j){return i.next(j)}var u=_(l),h=_(function(j){return i.throw(j)});function _(j){return function(F){var K=j(F),F=K.value;return K.done?F:F&&typeof F.then=="function"?F.then(u,h):p(F)?Promise.all(F).then(u,h):u(F)}}return _(l)()}function Aa(i,l,u){for(var h=p(i)?i.slice():[i],_=0;_<u;++_)h.push(l);return h}var Gu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return c(c({},i),{table:function(l){var u=i.table(l),h=u.schema,_={},j=[];function B(Q,lt,W){var et=rn(Q),nt=_[et]=_[et]||[],rt=Q==null?0:typeof Q=="string"?1:Q.length,ht=0<lt,ht=c(c({},W),{name:ht?"".concat(et,"(virtual-from:").concat(W.name,")"):W.name,lowLevelIndex:W,isVirtual:ht,keyTail:lt,keyLength:rt,extractKey:gi(Q),unique:!ht&&W.unique});return nt.push(ht),ht.isPrimaryKey||j.push(ht),1<rt&&B(rt===2?Q[0]:Q.slice(0,rt-1),lt+1,W),nt.sort(function(gt,kt){return gt.keyTail-kt.keyTail}),ht}l=B(h.primaryKey.keyPath,0,h.primaryKey),_[":id"]=[l];for(var K=0,F=h.indexes;K<F.length;K++){var P=F[K];B(P.keyPath,0,P)}function it(Q){var lt,W=Q.query.index;return W.isVirtual?c(c({},Q),{query:{index:W.lowLevelIndex,range:(lt=Q.query.range,W=W.keyTail,{type:lt.type===1?2:lt.type,lower:Aa(lt.lower,lt.lowerOpen?i.MAX_KEY:i.MIN_KEY,W),lowerOpen:!0,upper:Aa(lt.upper,lt.upperOpen?i.MIN_KEY:i.MAX_KEY,W),upperOpen:!0})}}):Q}return c(c({},u),{schema:c(c({},h),{primaryKey:l,indexes:j,getIndexByKeyPath:function(Q){return(Q=_[rn(Q)])&&Q[0]}}),count:function(Q){return u.count(it(Q))},query:function(Q){return u.query(it(Q))},openCursor:function(Q){var lt=Q.query.index,W=lt.keyTail,et=lt.isVirtual,nt=lt.keyLength;return et?u.openCursor(it(Q)).then(function(ht){return ht&&rt(ht)}):u.openCursor(Q);function rt(ht){return Object.create(ht,{continue:{value:function(gt){gt!=null?ht.continue(Aa(gt,Q.reverse?i.MAX_KEY:i.MIN_KEY,W)):Q.unique?ht.continue(ht.key.slice(0,nt).concat(Q.reverse?i.MIN_KEY:i.MAX_KEY,W)):ht.continue()}},continuePrimaryKey:{value:function(gt,kt){ht.continuePrimaryKey(Aa(gt,i.MAX_KEY,W),kt)}},primaryKey:{get:function(){return ht.primaryKey}},key:{get:function(){var gt=ht.key;return nt===1?gt[0]:gt.slice(0,nt)}},value:{get:function(){return ht.value}}})}}})}})}};function Hr(i,l,u,h){return u=u||{},h=h||"",x(i).forEach(function(_){var j,B,K;C(l,_)?(j=i[_],B=l[_],typeof j=="object"&&typeof B=="object"&&j&&B?(K=St(j))!==St(B)?u[h+_]=l[_]:K==="Object"?Hr(j,B,u,h+_+"."):j!==B&&(u[h+_]=l[_]):j!==B&&(u[h+_]=l[_])):u[h+_]=void 0}),x(l).forEach(function(_){C(i,_)||(u[h+_]=l[_])}),u}function Lr(i,l){return l.type==="delete"?l.keys:l.keys||l.values.map(i.extractKey)}var zs={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return c(c({},i),{table:function(l){var u=i.table(l),h=u.schema.primaryKey;return c(c({},u),{mutate:function(_){var j=Jt.trans,B=j.table(l).hook,K=B.deleting,F=B.creating,P=B.updating;switch(_.type){case"add":if(F.fire===Zt)break;return j._promise("readwrite",function(){return it(_)},!0);case"put":if(F.fire===Zt&&P.fire===Zt)break;return j._promise("readwrite",function(){return it(_)},!0);case"delete":if(K.fire===Zt)break;return j._promise("readwrite",function(){return it(_)},!0);case"deleteRange":if(K.fire===Zt)break;return j._promise("readwrite",function(){return(function Q(lt,W,et){return u.query({trans:lt,values:!1,query:{index:h,range:W},limit:et}).then(function(nt){var rt=nt.result;return it({type:"delete",keys:rt,trans:lt}).then(function(ht){return 0<ht.numFailures?Promise.reject(ht.failures[0]):rt.length<et?{failures:[],numFailures:0,lastResult:void 0}:Q(lt,c(c({},W),{lower:rt[rt.length-1],lowerOpen:!0}),et)})})})(_.trans,_.range,1e4)},!0)}return u.mutate(_);function it(Q){var lt,W,et,nt=Jt.trans,rt=Q.keys||Lr(h,Q);if(!rt)throw new Error("Keys missing");return(Q=Q.type==="add"||Q.type==="put"?c(c({},Q),{keys:rt}):c({},Q)).type!=="delete"&&(Q.values=y([],Q.values)),Q.keys&&(Q.keys=y([],Q.keys)),lt=u,et=rt,((W=Q).type==="add"?Promise.resolve([]):lt.getMany({trans:W.trans,keys:et,cache:"immutable"})).then(function(ht){var gt=rt.map(function(kt,Mt){var Yt,Pt,Lt,Gt=ht[Mt],Ft={onerror:null,onsuccess:null};return Q.type==="delete"?K.fire.call(Ft,kt,Gt,nt):Q.type==="add"||Gt===void 0?(Yt=F.fire.call(Ft,kt,Q.values[Mt],nt),kt==null&&Yt!=null&&(Q.keys[Mt]=kt=Yt,h.outbound||X(Q.values[Mt],h.keyPath,kt))):(Yt=Hr(Gt,Q.values[Mt]),(Pt=P.fire.call(Ft,Yt,kt,Gt,nt))&&(Lt=Q.values[Mt],Object.keys(Pt).forEach(function(qt){C(Lt,qt)?Lt[qt]=Pt[qt]:X(Lt,qt,Pt[qt])}))),Ft});return u.mutate(Q).then(function(kt){for(var Mt=kt.failures,Yt=kt.results,Pt=kt.numFailures,kt=kt.lastResult,Lt=0;Lt<rt.length;++Lt){var Gt=(Yt||rt)[Lt],Ft=gt[Lt];Gt==null?Ft.onerror&&Ft.onerror(Mt[Lt]):Ft.onsuccess&&Ft.onsuccess(Q.type==="put"&&ht[Lt]?Q.values[Lt]:Gt)}return{failures:Mt,results:Yt,numFailures:Pt,lastResult:kt}}).catch(function(kt){return gt.forEach(function(Mt){return Mt.onerror&&Mt.onerror(kt)}),Promise.reject(kt)})})}}})}})}};function Ml(i,l,u){try{if(!l||l.keys.length<i.length)return null;for(var h=[],_=0,j=0;_<l.keys.length&&j<i.length;++_)ye(l.keys[_],i[j])===0&&(h.push(u?yt(l.values[_]):l.values[_]),++j);return h.length===i.length?h:null}catch{return null}}var Ns={stack:"dbcore",level:-1,create:function(i){return{table:function(l){var u=i.table(l);return c(c({},u),{getMany:function(h){if(!h.cache)return u.getMany(h);var _=Ml(h.keys,h.trans._cache,h.cache==="clone");return _?It.resolve(_):u.getMany(h).then(function(j){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?yt(j):j},j})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),u.mutate(h)}})}}}};function Xa(i,l){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Os(i,l){switch(i){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Xu={stack:"dbcore",level:0,name:"Observability",create:function(i){var l=i.schema.name,u=new pn(i.MIN_KEY,i.MAX_KEY);return c(c({},i),{transaction:function(h,_,j){if(Jt.subscr&&_!=="readonly")throw new Rt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Jt.querier));return i.transaction(h,_,j)},table:function(h){var _=i.table(h),j=_.schema,B=j.primaryKey,Q=j.indexes,K=B.extractKey,F=B.outbound,P=B.autoIncrement&&Q.filter(function(W){return W.compound&&W.keyPath.includes(B.keyPath)}),it=c(c({},_),{mutate:function(W){function et(qt){return qt="idb://".concat(l,"/").concat(h,"/").concat(qt),kt[qt]||(kt[qt]=new pn)}var nt,rt,ht,gt=W.trans,kt=W.mutatedParts||(W.mutatedParts={}),Mt=et(""),Yt=et(":dels"),Pt=W.type,Ft=W.type==="deleteRange"?[W.range]:W.type==="delete"?[W.keys]:W.values.length<50?[Lr(B,W).filter(function(qt){return qt}),W.values]:[],Lt=Ft[0],Gt=Ft[1],Ft=W.trans._cache;return p(Lt)?(Mt.addKeys(Lt),(Ft=Pt==="delete"||Lt.length===Gt.length?Ml(Lt,Ft):null)||Yt.addKeys(Lt),(Ft||Gt)&&(nt=et,rt=Ft,ht=Gt,j.indexes.forEach(function(qt){var $t=nt(qt.name||"");function re(pe){return pe!=null?qt.extractKey(pe):null}function he(pe){return qt.multiEntry&&p(pe)?pe.forEach(function(vn){return $t.addKey(vn)}):$t.addKey(pe)}(rt||ht).forEach(function(pe,ln){var fe=rt&&re(rt[ln]),ln=ht&&re(ht[ln]);ye(fe,ln)!==0&&(fe!=null&&he(fe),ln!=null&&he(ln))})}))):Lt?(Gt={from:(Gt=Lt.lower)!==null&&Gt!==void 0?Gt:i.MIN_KEY,to:(Gt=Lt.upper)!==null&&Gt!==void 0?Gt:i.MAX_KEY},Yt.add(Gt),Mt.add(Gt)):(Mt.add(u),Yt.add(u),j.indexes.forEach(function(qt){return et(qt.name).add(u)})),_.mutate(W).then(function(qt){return!Lt||W.type!=="add"&&W.type!=="put"||(Mt.addKeys(qt.results),P&&P.forEach(function($t){for(var re=W.values.map(function(fe){return $t.extractKey(fe)}),he=$t.keyPath.findIndex(function(fe){return fe===B.keyPath}),pe=0,vn=qt.results.length;pe<vn;++pe)re[pe][he]=qt.results[pe];et($t.name).addKeys(re)})),gt.mutatedParts=Br(gt.mutatedParts||{},kt),qt})}}),Q=function(et){var nt=et.query,et=nt.index,nt=nt.range;return[et,new pn((et=nt.lower)!==null&&et!==void 0?et:i.MIN_KEY,(nt=nt.upper)!==null&&nt!==void 0?nt:i.MAX_KEY)]},lt={get:function(W){return[B,new pn(W.key)]},getMany:function(W){return[B,new pn().addKeys(W.keys)]},count:Q,query:Q,openCursor:Q};return x(lt).forEach(function(W){it[W]=function(et){var nt=Jt.subscr,rt=!!nt,ht=Xa(Jt,_)&&Os(W,et)?et.obsSet={}:nt;if(rt){var gt=function(Gt){return Gt="idb://".concat(l,"/").concat(h,"/").concat(Gt),ht[Gt]||(ht[Gt]=new pn)},kt=gt(""),Mt=gt(":dels"),nt=lt[W](et),rt=nt[0],nt=nt[1];if((W==="query"&&rt.isPrimaryKey&&!et.values?Mt:gt(rt.name||"")).add(nt),!rt.isPrimaryKey){if(W!=="count"){var Yt=W==="query"&&F&&et.values&&_.query(c(c({},et),{values:!1}));return _[W].apply(this,arguments).then(function(Gt){if(W==="query"){if(F&&et.values)return Yt.then(function(re){return re=re.result,kt.addKeys(re),Gt});var Ft=et.values?Gt.result.map(K):Gt.result;(et.values?kt:Mt).addKeys(Ft)}else if(W==="openCursor"){var qt=Gt,$t=et.values;return qt&&Object.create(qt,{key:{get:function(){return Mt.addKey(qt.primaryKey),qt.key}},primaryKey:{get:function(){var re=qt.primaryKey;return Mt.addKey(re),re}},value:{get:function(){return $t&&kt.addKey(qt.primaryKey),qt.value}}})}return Gt})}Mt.add(u)}}return _[W].apply(this,arguments)}}),it}})}};function Ms(i,l,u){if(u.numFailures===0)return l;if(l.type==="deleteRange")return null;var h=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return u.numFailures===h?null:(l=c({},l),p(l.keys)&&(l.keys=l.keys.filter(function(_,j){return!(j in u.failures)})),"values"in l&&p(l.values)&&(l.values=l.values.filter(function(_,j){return!(j in u.failures)})),l)}function qr(i,l){return u=i,((h=l).lower===void 0||(h.lowerOpen?0<ye(u,h.lower):0<=ye(u,h.lower)))&&(i=i,(l=l).upper===void 0||(l.upperOpen?ye(i,l.upper)<0:ye(i,l.upper)<=0));var u,h}function Dl(i,l,lt,h,_,j){if(!lt||lt.length===0)return i;var B=l.query.index,K=B.multiEntry,F=l.query.range,P=h.schema.primaryKey.extractKey,it=B.extractKey,Q=(B.lowLevelIndex||B).extractKey,lt=lt.reduce(function(W,et){var nt=W,rt=[];if(et.type==="add"||et.type==="put")for(var ht=new pn,gt=et.values.length-1;0<=gt;--gt){var kt,Mt=et.values[gt],Yt=P(Mt);ht.hasKey(Yt)||(kt=it(Mt),(K&&p(kt)?kt.some(function(qt){return qr(qt,F)}):qr(kt,F))&&(ht.addKey(Yt),rt.push(Mt)))}switch(et.type){case"add":var Pt=new pn().addKeys(l.values?W.map(function($t){return P($t)}):W),nt=W.concat(l.values?rt.filter(function($t){return $t=P($t),!Pt.hasKey($t)&&(Pt.addKey($t),!0)}):rt.map(function($t){return P($t)}).filter(function($t){return!Pt.hasKey($t)&&(Pt.addKey($t),!0)}));break;case"put":var Lt=new pn().addKeys(et.values.map(function($t){return P($t)}));nt=W.filter(function($t){return!Lt.hasKey(l.values?P($t):$t)}).concat(l.values?rt:rt.map(function($t){return P($t)}));break;case"delete":var Gt=new pn().addKeys(et.keys);nt=W.filter(function($t){return!Gt.hasKey(l.values?P($t):$t)});break;case"deleteRange":var Ft=et.range;nt=W.filter(function($t){return!qr(P($t),Ft)})}return nt},i);return lt===i?i:(lt.sort(function(W,et){return ye(Q(W),Q(et))||ye(P(W),P(et))}),l.limit&&l.limit<1/0&&(lt.length>l.limit?lt.length=l.limit:i.length===l.limit&&lt.length<l.limit&&(_.dirty=!0)),j?Object.freeze(lt):lt)}function xi(i,l){return ye(i.lower,l.lower)===0&&ye(i.upper,l.upper)===0&&!!i.lowerOpen==!!l.lowerOpen&&!!i.upperOpen==!!l.upperOpen}function sr(i,l){return(function(u,h,_,j){if(u===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((h=ye(u,h))===0){if(_&&j)return 0;if(_)return 1;if(j)return-1}return h})(i.lower,l.lower,i.lowerOpen,l.lowerOpen)<=0&&0<=(function(u,h,_,j){if(u===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((h=ye(u,h))===0){if(_&&j)return 0;if(_)return-1;if(j)return 1}return h})(i.upper,l.upper,i.upperOpen,l.upperOpen)}function Vu(i,l,u,h){i.subscribers.add(u),h.addEventListener("abort",function(){var _,j;i.subscribers.delete(u),i.subscribers.size===0&&(_=i,j=l,setTimeout(function(){_.subscribers.size===0&&Ut(j,_)},3e3))})}var Kr={stack:"dbcore",level:0,name:"Cache",create:function(i){var l=i.schema.name;return c(c({},i),{transaction:function(u,h,_){var j,B,K=i.transaction(u,h,_);return h==="readwrite"&&(B=(j=new AbortController).signal,_=function(F){return function(){if(j.abort(),h==="readwrite"){for(var P=new Set,it=0,Q=u;it<Q.length;it++){var lt=Q[it],W=Ga["idb://".concat(l,"/").concat(lt)];if(W){var et=i.table(lt),nt=W.optimisticOps.filter(function($t){return $t.trans===K});if(K._explicit&&F&&K.mutatedParts)for(var rt=0,ht=Object.values(W.queries.query);rt<ht.length;rt++)for(var gt=0,kt=(Pt=ht[rt]).slice();gt<kt.length;gt++)Al((Lt=kt[gt]).obsSet,K.mutatedParts)&&(Ut(Pt,Lt),Lt.subscribers.forEach(function($t){return P.add($t)}));else if(0<nt.length){W.optimisticOps=W.optimisticOps.filter(function($t){return $t.trans!==K});for(var Mt=0,Yt=Object.values(W.queries.query);Mt<Yt.length;Mt++)for(var Pt,Lt,Gt,Ft=0,qt=(Pt=Yt[Mt]).slice();Ft<qt.length;Ft++)(Lt=qt[Ft]).res!=null&&K.mutatedParts&&(F&&!Lt.dirty?(Gt=Object.isFrozen(Lt.res),Gt=Dl(Lt.res,Lt.req,nt,et,Lt,Gt),Lt.dirty?(Ut(Pt,Lt),Lt.subscribers.forEach(function($t){return P.add($t)})):Gt!==Lt.res&&(Lt.res=Gt,Lt.promise=It.resolve({result:Gt}))):(Lt.dirty&&Ut(Pt,Lt),Lt.subscribers.forEach(function($t){return P.add($t)})))}}}P.forEach(function($t){return $t()})}}},K.addEventListener("abort",_(!1),{signal:B}),K.addEventListener("error",_(!1),{signal:B}),K.addEventListener("complete",_(!0),{signal:B})),K},table:function(u){var h=i.table(u),_=h.schema.primaryKey;return c(c({},h),{mutate:function(j){var B=Jt.trans;if(_.outbound||B.db._options.cache==="disabled"||B.explicit||B.idbtrans.mode!=="readwrite")return h.mutate(j);var K=Ga["idb://".concat(l,"/").concat(u)];return K?(B=h.mutate(j),j.type!=="add"&&j.type!=="put"||!(50<=j.values.length||Lr(_,j).some(function(F){return F==null}))?(K.optimisticOps.push(j),j.mutatedParts&&Ur(j.mutatedParts),B.then(function(F){0<F.numFailures&&(Ut(K.optimisticOps,j),(F=Ms(0,j,F))&&K.optimisticOps.push(F),j.mutatedParts&&Ur(j.mutatedParts))}),B.catch(function(){Ut(K.optimisticOps,j),j.mutatedParts&&Ur(j.mutatedParts)})):B.then(function(F){var P=Ms(0,c(c({},j),{values:j.values.map(function(it,Q){var lt;return F.failures[Q]?it:(it=(lt=_.keyPath)!==null&&lt!==void 0&&lt.includes(".")?yt(it):c({},it),X(it,_.keyPath,F.results[Q]),it)})}),F);K.optimisticOps.push(P),queueMicrotask(function(){return j.mutatedParts&&Ur(j.mutatedParts)})}),B):h.mutate(j)},query:function(j){if(!Xa(Jt,h)||!Os("query",j))return h.query(j);var B=((P=Jt.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",Q=Jt,K=Q.requery,F=Q.signal,P=(function(et,nt,rt,ht){var gt=Ga["idb://".concat(et,"/").concat(nt)];if(!gt)return[];if(!(nt=gt.queries[rt]))return[null,!1,gt,null];var kt=nt[(ht.query?ht.query.index.name:null)||""];if(!kt)return[null,!1,gt,null];switch(rt){case"query":var Mt=kt.find(function(Yt){return Yt.req.limit===ht.limit&&Yt.req.values===ht.values&&xi(Yt.req.query.range,ht.query.range)});return Mt?[Mt,!0,gt,kt]:[kt.find(function(Yt){return("limit"in Yt.req?Yt.req.limit:1/0)>=ht.limit&&(!ht.values||Yt.req.values)&&sr(Yt.req.query.range,ht.query.range)}),!1,gt,kt];case"count":return Mt=kt.find(function(Yt){return xi(Yt.req.query.range,ht.query.range)}),[Mt,!!Mt,gt,kt]}})(l,u,"query",j),it=P[0],Q=P[1],lt=P[2],W=P[3];return it&&Q?it.obsSet=j.obsSet:(Q=h.query(j).then(function(et){var nt=et.result;if(it&&(it.res=nt),B){for(var rt=0,ht=nt.length;rt<ht;++rt)Object.freeze(nt[rt]);Object.freeze(nt)}else et.result=yt(nt);return et}).catch(function(et){return W&&it&&Ut(W,it),Promise.reject(et)}),it={obsSet:j.obsSet,promise:Q,subscribers:new Set,type:"query",req:j,dirty:!1},W?W.push(it):(W=[it],(lt=lt||(Ga["idb://".concat(l,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[j.query.index.name||""]=W)),Vu(it,W,K,F),it.promise.then(function(et){return{result:Dl(et.result,j,lt?.optimisticOps,h,it,B)}})}})}})}};function ur(i,l){return new Proxy(i,{get:function(u,h,_){return h==="db"?l:Reflect.get(u,h,_)}})}var ia=(Ye.prototype.version=function(i){if(isNaN(i)||i<.1)throw new Rt.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new Rt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var l=this._versions,u=l.filter(function(h){return h._cfg.version===i})[0];return u||(u=new this.Version(i),l.push(u),l.sort(Sl),u.stores({}),this._state.autoSchema=!1,u)},Ye.prototype._whenReady=function(i){var l=this;return this.idbdb&&(this._state.openComplete||Jt.letThrough||this._vip)?i():new It(function(u,h){if(l._state.openComplete)return h(new Rt.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void h(new Rt.DatabaseClosed);l.open().catch(Zt)}l._state.dbReadyPromise.then(u,h)}).then(i)},Ye.prototype.use=function(i){var l=i.stack,u=i.create,h=i.level,_=i.name;return _&&this.unuse({stack:l,name:_}),i=this._middlewares[l]||(this._middlewares[l]=[]),i.push({stack:l,create:u,level:h??10,name:_}),i.sort(function(j,B){return j.level-B.level}),this},Ye.prototype.unuse=function(i){var l=i.stack,u=i.name,h=i.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(_){return h?_.create!==h:!!u&&_.name!==u})),this},Ye.prototype.open=function(){var i=this;return Gn(Ie,function(){return Zu(i)})},Ye.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,l=Ba.indexOf(this);if(0<=l&&Ba.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new It(function(u){i.dbReadyResolve=u}),i.openCanceller=new It(function(u,h){i.cancelOpen=h}))},Ye.prototype.close=function(u){var l=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;l?(u.isBeingOpened&&u.cancelOpen(new Rt.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new Rt.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Ye.prototype.delete=function(i){var l=this;i===void 0&&(i={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",h=this._state;return new It(function(_,j){function B(){l.close(i);var K=l._deps.indexedDB.deleteDatabase(l.name);K.onsuccess=He(function(){var F,P,it;F=l._deps,P=l.name,it=F.indexedDB,F=F.IDBKeyRange,Dr(it)||P===Ii||Cl(it,F).delete(P).catch(Zt),_()}),K.onerror=Vn(j),K.onblocked=l._fireOnBlocked}if(u)throw new Rt.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(B):B()})},Ye.prototype.backendDB=function(){return this.idbdb},Ye.prototype.isOpen=function(){return this.idbdb!==null},Ye.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},Ye.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ye.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ye.prototype,"tables",{get:function(){var i=this;return x(this._allTables).map(function(l){return i._allTables[l]})},enumerable:!1,configurable:!0}),Ye.prototype.transaction=function(){var i=(function(l,u,h){var _=arguments.length;if(_<2)throw new Rt.InvalidArgument("Too few arguments");for(var j=new Array(_-1);--_;)j[_-1]=arguments[_];return h=j.pop(),[l,Ct(j),h]}).apply(this,arguments);return this._transaction.apply(this,i)},Ye.prototype._transaction=function(i,l,u){var h=this,_=Jt.trans;_&&_.db===this&&i.indexOf("!")===-1||(_=null);var j,B,K=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(B=l.map(function(P){if(P=P instanceof h.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),i=="r"||i===pa)j=pa;else{if(i!="rw"&&i!=ka)throw new Rt.InvalidArgument("Invalid transaction mode: "+i);j=ka}if(_){if(_.mode===pa&&j===ka){if(!K)throw new Rt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&B.forEach(function(P){if(_&&_.storeNames.indexOf(P)===-1){if(!K)throw new Rt.SubTransaction("Table "+P+" not included in parent transaction.");_=null}}),K&&_&&!_.active&&(_=null)}}catch(P){return _?_._promise(null,function(it,Q){Q(P)}):De(P)}var F=(function P(it,Q,lt,W,et){return It.resolve().then(function(){var nt=Jt.transless||Jt,rt=it._createTransaction(Q,lt,it._dbSchema,W);if(rt.explicit=!0,nt={trans:rt,transless:nt},W)rt.idbtrans=W.idbtrans;else try{rt.create(),rt.idbtrans._explicit=!0,it._state.PR1398_maxLoop=3}catch(kt){return kt.name===ue.InvalidState&&it.isOpen()&&0<--it._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),it.close({disableAutoOpen:!1}),it.open().then(function(){return P(it,Q,lt,null,et)})):De(kt)}var ht,gt=N(et);return gt&&We(),nt=It.follow(function(){var kt;(ht=et.call(rt,rt))&&(gt?(kt=zn.bind(null,null),ht.then(kt,kt)):typeof ht.next=="function"&&typeof ht.throw=="function"&&(ht=lr(ht)))},nt),(ht&&typeof ht.then=="function"?It.resolve(ht).then(function(kt){return rt.active?kt:De(new Rt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):nt.then(function(){return ht})).then(function(kt){return W&&rt._resolve(),rt._completion.then(function(){return kt})}).catch(function(kt){return rt._reject(kt),De(kt)})})}).bind(null,this,j,B,_,u);return _?_._promise(j,F,"lock"):Jt.trans?Gn(Jt.transless,function(){return h._whenReady(F)}):this._whenReady(F)},Ye.prototype.table=function(i){if(!C(this._allTables,i))throw new Rt.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},Ye);function Ye(i,l){var u=this;this._middlewares={},this.verno=0;var h=Ye.dependencies;this._options=l=c({addons:Ye.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},h=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,j,B,K,F,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Zt,dbReadyPromise:null,cancelOpen:Zt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new It(function(Q){P.dbReadyResolve=Q}),P.openCanceller=new It(function(Q,lt){P.cancelOpen=lt}),this._state=P,this.name=i,this.on=$i(this,"populate","blocked","versionchange","close",{ready:[Nt,Zt]}),this.once=function(Q,lt){var W=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];u.on(Q).unsubscribe(W),lt.apply(u,et)};return u.on(Q,W)},this.on.ready.subscribe=Y(this.on.ready.subscribe,function(Q){return function(lt,W){Ye.vip(function(){var et,nt=u._state;nt.openComplete?(nt.dbOpenError||It.resolve().then(lt),W&&Q(lt)):nt.onReadyBeingFired?(nt.onReadyBeingFired.push(lt),W&&Q(lt)):(Q(lt),et=u,W||Q(function rt(){et.on.ready.unsubscribe(lt),et.on.ready.unsubscribe(rt)}))})}}),this.Collection=(_=this,dn(qu.prototype,function(ht,rt){this.db=_;var W=gl,et=null;if(rt)try{W=rt()}catch(gt){et=gt}var nt=ht._ctx,rt=nt.table,ht=rt.hook.reading.fire;this._ctx={table:rt,index:nt.index,isPrimKey:!nt.index||rt.schema.primKey.keyPath&&nt.index===rt.schema.primKey.name,range:W,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:et,or:nt.or,valueMapper:ht!==oe?ht:null}})),this.Table=(j=this,dn(yl.prototype,function(Q,lt,W){this.db=j,this._tx=W,this.name=Q,this.schema=lt,this.hook=j._allTables[Q]?j._allTables[Q].hook:$i(null,{creating:[dt,Zt],reading:[b,oe],updating:[U,Zt],deleting:[q,Zt]})})),this.Transaction=(B=this,dn(wl.prototype,function(Q,lt,W,et,nt){var rt=this;Q!=="readonly"&&lt.forEach(function(ht){ht=(ht=W[ht])===null||ht===void 0?void 0:ht.yProps,ht&&(lt=lt.concat(ht.map(function(gt){return gt.updatesTable})))}),this.db=B,this.mode=Q,this.storeNames=lt,this.schema=W,this.chromeTransactionDurability=et,this.idbtrans=null,this.on=$i(this,"complete","error","abort"),this.parent=nt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new It(function(ht,gt){rt._resolve=ht,rt._reject=gt}),this._completion.then(function(){rt.active=!1,rt.on.complete.fire()},function(ht){var gt=rt.active;return rt.active=!1,rt.on.error.fire(ht),rt.parent?rt.parent._reject(ht):gt&&rt.idbtrans&&rt.idbtrans.abort(),De(ht)})})),this.Version=(K=this,dn(Yu.prototype,function(Q){this.db=K,this._cfg={version:Q,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(F=this,dn(La.prototype,function(Q,lt,W){if(this.db=F,this._ctx={table:Q,index:lt===":id"?null:lt,or:W},this._cmp=this._ascending=ye,this._descending=function(et,nt){return ye(nt,et)},this._max=function(et,nt){return 0<ye(et,nt)?et:nt},this._min=function(et,nt){return ye(et,nt)<0?et:nt},this._IDBKeyRange=F._deps.IDBKeyRange,!this._IDBKeyRange)throw new Rt.MissingAPI})),this.on("versionchange",function(Q){0<Q.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(Q){!Q.newVersion||Q.newVersion<Q.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(Q.oldVersion/10))}),this._maxKey=vi(l.IDBKeyRange),this._createTransaction=function(Q,lt,W,et){return new u.Transaction(Q,lt,W,u._options.chromeTransactionDurability,et)},this._fireOnBlocked=function(Q){u.on("blocked").fire(Q),Ba.filter(function(lt){return lt.name===u.name&&lt!==u&&!lt._state.vcFired}).map(function(lt){return lt.on("versionchange").fire(Q)})},this.use(Ns),this.use(Kr),this.use(Xu),this.use(Gu),this.use(zs);var it=new Proxy(this,{get:function(Q,lt,W){if(lt==="_vip")return!0;if(lt==="table")return function(nt){return ur(u.table(nt),it)};var et=Reflect.get(Q,lt,W);return et instanceof yl?ur(et,it):lt==="tables"?et.map(function(nt){return ur(nt,it)}):lt==="_createTransaction"?function(){return ur(et.apply(this,arguments),it)}:et}});this.vip=it,h.forEach(function(Q){return Q(u)})}var _i,On=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ds=(Yr.prototype.subscribe=function(i,l,u){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:l,complete:u})},Yr.prototype[On]=function(){return this},Yr);function Yr(i){this._subscribe=i}try{_i={indexedDB:m.indexedDB||m.mozIndexedDB||m.webkitIndexedDB||m.msIndexedDB,IDBKeyRange:m.IDBKeyRange||m.webkitIDBKeyRange}}catch{_i={indexedDB:null,IDBKeyRange:null}}function Rs(i){var l,u=!1,h=new Ds(function(_){var j=N(i),B,K=!1,F={},P={},it={get closed(){return K},unsubscribe:function(){K||(K=!0,B&&B.abort(),Q&&mn.storagemutated.unsubscribe(W))}};_.start&&_.start(it);var Q=!1,lt=function(){return Ca(et)},W=function(nt){Br(F,nt),Al(P,F)&&lt()},et=function(){var nt,rt,ht;!K&&_i.indexedDB&&(F={},nt={},B&&B.abort(),B=new AbortController,ht=(function(gt){var kt=wa();try{j&&We();var Mt=qe(i,gt);return Mt=j?Mt.finally(zn):Mt}finally{kt&&ta()}})(rt={subscr:nt,signal:B.signal,requery:lt,querier:i,trans:null}),Promise.resolve(ht).then(function(gt){u=!0,l=gt,K||rt.signal.aborted||(F={},(function(kt){for(var Mt in kt)if(C(kt,Mt))return;return 1})(P=nt)||Q||(mn(mi,W),Q=!0),Ca(function(){return!K&&_.next&&_.next(gt)}))},function(gt){u=!1,["DatabaseClosedError","AbortError"].includes(gt?.name)||K||Ca(function(){K||_.error&&_.error(gt)})}))};return setTimeout(lt,0),it});return h.hasValue=function(){return u},h.getValue=function(){return l},h}var Va=ia;function Rl(i){var l=za;try{za=!0,mn.storagemutated.fire(i),Ol(i,!0)}finally{za=l}}O(Va,c(c({},Qt),{delete:function(i){return new Va(i,{addons:[]}).delete()},exists:function(i){return new Va(i,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return l=Va.dependencies,u=l.indexedDB,l=l.IDBKeyRange,(Dr(u)?Promise.resolve(u.databases()).then(function(h){return h.map(function(_){return _.name}).filter(function(_){return _!==Ii})}):Cl(u,l).toCollection().primaryKeys()).then(i)}catch{return De(new Rt.MissingAPI)}var l,u},defineClass:function(){return function(i){v(this,i)}},ignoreTransaction:function(i){return Jt.trans?Gn(Jt.transless,i):i()},vip:kl,async:function(i){return function(){try{var l=lr(i.apply(this,arguments));return l&&typeof l.then=="function"?l:It.resolve(l)}catch(u){return De(u)}}},spawn:function(i,l,u){try{var h=lr(i.apply(u,l||[]));return h&&typeof h.then=="function"?h:It.resolve(h)}catch(_){return De(_)}},currentTransaction:{get:function(){return Jt.trans||null}},waitFor:function(i,l){return l=It.resolve(typeof i=="function"?Va.ignoreTransaction(i):i).timeout(l||6e4),Jt.trans?Jt.trans.waitFor(l):l},Promise:It,debug:{get:function(){return Tt},set:function(i){ft(i)}},derive:w,extend:v,props:O,override:Y,Events:$i,on:mn,liveQuery:Rs,extendObservabilitySet:Br,getByKeyPath:Z,setByKeyPath:X,delByKeyPath:function(i,l){typeof l=="string"?X(i,l,void 0):"length"in l&&[].map.call(l,function(u){X(i,u,void 0)})},shallowClone:mt,deepClone:yt,getObjectDiff:Hr,cmp:ye,asap:I,minKey:-1/0,addons:[],connections:Ba,errnames:ue,dependencies:_i,cache:Ga,semVer:"4.2.1",version:"4.2.1".split(".").map(function(i){return parseInt(i)}).reduce(function(i,l,u){return i+l/Math.pow(10,2*u)})})),Va.maxKey=vi(Va.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(mn(mi,function(i){za||(i=new CustomEvent(Ka,{detail:i}),za=!0,dispatchEvent(i),za=!1)}),addEventListener(Ka,function(i){i=i.detail,za||Rl(i)}));var wi,za=!1,jn=function(){};return typeof BroadcastChannel<"u"&&((jn=function(){(wi=new BroadcastChannel(Ka)).onmessage=function(i){return i.data&&Rl(i.data)}})(),typeof wi.unref=="function"&&wi.unref(),mn(mi,function(i){za||wi.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!ia.disableBfCache&&i.persisted){Tt&&console.debug("Dexie: handling persisted pagehide"),wi?.close();for(var l=0,u=Ba;l<u.length;l++)u[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!ia.disableBfCache&&i.persisted&&(Tt&&console.debug("Dexie: handling persisted pageshow"),jn(),Rl({all:new pn(-1/0,[[]])}))})),It.rejectionMapper=function(i,l){return!i||i instanceof Et||i instanceof TypeError||i instanceof SyntaxError||!i.name||!xt[i.name]?i:(l=new xt[i.name](l||i.message,i),"stack"in i&&A(l,"stack",{get:function(){return this.inner.stack}}),l)},ft(Tt),c(ia,Object.freeze({__proto__:null,Dexie:ia,liveQuery:Rs,Entity:ws,cmp:ye,PropModification:di,replacePrefix:function(i,l){return new di({replacePrefix:[i,l]})},add:function(i){return new di({add:i})},remove:function(i){return new di({remove:i})},default:ia,RangeSet:pn,mergeRanges:Za,rangesOverlap:js}),{default:ia}),ia})})(Bu)),Bu.exports}var M0=O0();const Yc=Xc(M0),dm=Symbol.for("Dexie"),dl=globalThis[dm]||(globalThis[dm]=Yc);if(Yc.semVer!==dl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Yc.semVer} and ${dl.semVer}`);const{liveQuery:mg,mergeRanges:pg,rangesOverlap:vg,RangeSet:gg,cmp:yg,Entity:bg,PropModification:xg,replacePrefix:_g,add:wg,remove:Sg,DexieYProvider:Eg}=dl;class D0 extends dl{projects;constructor(){super("KueStudioDB"),this.version(1).stores({projects:"id, name, createdAt"})}}const xa=new D0;const R0=M=>M.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B0=M=>M.replace(/^([A-Z])|[\s-_]+(\w)/g,(f,o,c)=>c?c.toUpperCase():o.toLowerCase()),mm=M=>{const f=B0(M);return f.charAt(0).toUpperCase()+f.slice(1)},Cm=(...M)=>M.filter((f,o,c)=>!!f&&f.trim()!==""&&c.indexOf(f)===o).join(" ").trim(),U0=M=>{for(const f in M)if(f.startsWith("aria-")||f==="role"||f==="title")return!0};var H0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const L0=Wt.forwardRef(({color:M="currentColor",size:f=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:y="",children:m,iconNode:x,...p},v)=>Wt.createElement("svg",{ref:v,...H0,width:f,height:f,stroke:M,strokeWidth:c?Number(o)*24/Number(f):o,className:Cm("lucide",y),...!m&&!U0(p)&&{"aria-hidden":"true"},...p},[...x.map(([g,k])=>Wt.createElement(g,k)),...Array.isArray(m)?m:[m]]));const be=(M,f)=>{const o=Wt.forwardRef(({className:c,...y},m)=>Wt.createElement(L0,{ref:m,iconNode:f,className:Cm(`lucide-${R0(mm(M))}`,`lucide-${M}`,c),...y}));return o.displayName=mm(M),o};const q0=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],K0=be("arrow-down",q0);const Y0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Z0=be("arrow-left",Y0);const G0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],X0=be("calendar",G0);const V0=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Q0=be("camera",V0);const J0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qc=be("check",J0);const F0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],km=be("chevron-down",F0);const I0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],P0=be("chevron-right",I0);const W0=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$0=be("chevron-up",W0);const tv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ev=be("circle-check-big",tv);const nv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Jc=be("circle-dot",nv);const av=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jm=be("clock",av);const iv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Tm=be("copy",iv);const rv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lv=be("download",rv);const sv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],uv=be("file-braces",sv);const ov=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cv=be("file-exclamation-point",ov);const fv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],hv=be("file-spreadsheet",fv);const dv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Am=be("file-text",dv);const mv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Hc=be("film",mv);const pv=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pm=be("grip-vertical",pv);const vv=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],gv=be("image-plus",vv);const yv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zm=be("image",yv);const bv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nm=be("loader-circle",bv);const xv=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],_v=be("music",xv);const wv=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ys=be("package",wv);const Sv=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Zc=be("palette",Sv);const Ev=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Om=be("pause",Ev);const Cv=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Fc=be("play",Cv);const kv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jv=be("plus",kv);const Tv=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Mm=be("scissors",Tv);const Av=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lc=be("sparkles",Av);const zv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Nv=be("square",zv);const Ov=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Uu=be("star",Ov);const Mv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Dv=be("sun",Mv);const Rv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ic=be("trash-2",Rv);const Bv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gc=be("triangle-alert",Bv);const Uv=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Hv=be("undo-2",Uv);const Lv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Dm=be("upload",Lv);const qv=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Rm=be("wand-sparkles",qv);const Kv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bm=be("x",Kv);function Yv(M,f,o){var c,y;typeof M=="function"?(c=f||[],y=o):(c=[],y=f);var m=ui.useRef({hasResult:!1,result:y,error:null}),x=ui.useReducer(function(g){return g+1},0);x[0];var p=x[1],v=ui.useMemo(function(){var g=typeof M=="function"?M():M;if(!g||typeof g.subscribe!="function")throw M===g?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!m.current.hasResult&&typeof window<"u"&&(typeof g.hasValue!="function"||g.hasValue()))if(typeof g.getValue=="function")m.current.result=g.getValue(),m.current.hasResult=!0;else{var k=g.subscribe(function(C){m.current.result=C,m.current.hasResult=!0});typeof k=="function"?k():k.unsubscribe()}return g},c);if(ui.useDebugValue(m.current.result),ui.useEffect(function(){var g=v.subscribe(function(k){var C=m.current;(C.error!==null||C.result!==k)&&(C.error=null,C.result=k,C.hasResult=!0,p())},function(k){var C=m.current;C.error!==k&&(C.error=k,p())});return typeof g=="function"?g:g.unsubscribe.bind(g)},c),m.current.error)throw m.current.error;return m.current.result}function Zv(M,f,o){return Yv(function(){return dl.liveQuery(M)},[],o)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(M){var f=dl.DexieYProvider;f&&f.release(M)});const Um=()=>{const M=ee(f=>f.toastMessage);return M?E.jsx("div",{className:"fixed bottom-32 left-1/2 -translate-x-1/2 z-50 animate-toast-in",children:E.jsxs("div",{className:"flex items-center gap-2 bg-emerald-500 text-emerald-950 px-4 py-2 rounded-full font-semibold text-sm shadow-lg shadow-emerald-500/30",children:[E.jsx(ev,{size:16}),M]})}):null};function Du(M){throw new Error('Could not dynamically require "'+M+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qc={exports:{}};var vm;function Gv(){return vm||(vm=1,(function(M,f){(function(o){M.exports=o()})(function(){return(function o(c,y,m){function x(g,k){if(!y[g]){if(!c[g]){var C=typeof Du=="function"&&Du;if(!k&&C)return C(g,!0);if(p)return p(g,!0);var O=new Error("Cannot find module '"+g+"'");throw O.code="MODULE_NOT_FOUND",O}var T=y[g]={exports:{}};c[g][0].call(T.exports,function(A){var w=c[g][1][A];return x(w||A)},T,T.exports,o,c,y,m)}return y[g].exports}for(var p=typeof Du=="function"&&Du,v=0;v<m.length;v++)x(m[v]);return x})({1:[function(o,c,y){var m=o("./utils"),x=o("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(v){for(var g,k,C,O,T,A,w,R=[],D=0,H=v.length,Y=H,J=m.getTypeOf(v)!=="string";D<v.length;)Y=H-D,C=J?(g=v[D++],k=D<H?v[D++]:0,D<H?v[D++]:0):(g=v.charCodeAt(D++),k=D<H?v.charCodeAt(D++):0,D<H?v.charCodeAt(D++):0),O=g>>2,T=(3&g)<<4|k>>4,A=1<Y?(15&k)<<2|C>>6:64,w=2<Y?63&C:64,R.push(p.charAt(O)+p.charAt(T)+p.charAt(A)+p.charAt(w));return R.join("")},y.decode=function(v){var g,k,C,O,T,A,w=0,R=0,D="data:";if(v.substr(0,D.length)===D)throw new Error("Invalid base64 input, it looks like a data url.");var H,Y=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===p.charAt(64)&&Y--,v.charAt(v.length-2)===p.charAt(64)&&Y--,Y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(H=x.uint8array?new Uint8Array(0|Y):new Array(0|Y);w<v.length;)g=p.indexOf(v.charAt(w++))<<2|(O=p.indexOf(v.charAt(w++)))>>4,k=(15&O)<<4|(T=p.indexOf(v.charAt(w++)))>>2,C=(3&T)<<6|(A=p.indexOf(v.charAt(w++))),H[R++]=g,T!==64&&(H[R++]=k),A!==64&&(H[R++]=C);return H}},{"./support":30,"./utils":32}],2:[function(o,c,y){var m=o("./external"),x=o("./stream/DataWorker"),p=o("./stream/Crc32Probe"),v=o("./stream/DataLengthProbe");function g(k,C,O,T,A){this.compressedSize=k,this.uncompressedSize=C,this.crc32=O,this.compression=T,this.compressedContent=A}g.prototype={getContentWorker:function(){var k=new x(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),C=this;return k.on("end",function(){if(this.streamInfo.data_length!==C.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),k},getCompressedWorker:function(){return new x(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(k,C,O){return k.pipe(new p).pipe(new v("uncompressedSize")).pipe(C.compressWorker(O)).pipe(new v("compressedSize")).withStreamInfo("compression",C)},c.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,c,y){var m=o("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,c,y){var m=o("./utils"),x=(function(){for(var p,v=[],g=0;g<256;g++){p=g;for(var k=0;k<8;k++)p=1&p?3988292384^p>>>1:p>>>1;v[g]=p}return v})();c.exports=function(p,v){return p!==void 0&&p.length?m.getTypeOf(p)!=="string"?(function(g,k,C,O){var T=x,A=O+C;g^=-1;for(var w=O;w<A;w++)g=g>>>8^T[255&(g^k[w])];return-1^g})(0|v,p,p.length,0):(function(g,k,C,O){var T=x,A=O+C;g^=-1;for(var w=O;w<A;w++)g=g>>>8^T[255&(g^k.charCodeAt(w))];return-1^g})(0|v,p,p.length,0):0}},{"./utils":32}],5:[function(o,c,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(o,c,y){var m=null;m=typeof Promise<"u"?Promise:o("lie"),c.exports={Promise:m}},{lie:37}],7:[function(o,c,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",x=o("pako"),p=o("./utils"),v=o("./stream/GenericWorker"),g=m?"uint8array":"array";function k(C,O){v.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=O,this.meta={}}y.magic="\b\0",p.inherits(k,v),k.prototype.processChunk=function(C){this.meta=C.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(g,C.data),!1)},k.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},k.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},k.prototype._createPako=function(){this._pako=new x[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(O){C.push({data:O,meta:C.meta})}},y.compressWorker=function(C){return new k("Deflate",C)},y.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,c,y){function m(T,A){var w,R="";for(w=0;w<A;w++)R+=String.fromCharCode(255&T),T>>>=8;return R}function x(T,A,w,R,D,H){var Y,J,I=T.file,Z=T.compression,X=H!==g.utf8encode,mt=p.transformTo("string",H(I.name)),tt=p.transformTo("string",g.utf8encode(I.name)),Ct=I.comment,Vt=p.transformTo("string",H(Ct)),G=p.transformTo("string",g.utf8encode(Ct)),yt=tt.length!==I.name.length,S=G.length!==Ct.length,St="",ut="",ot="",Ut=I.dir,jt=I.date,Ht={crc32:0,compressedSize:0,uncompressedSize:0};A&&!w||(Ht.crc32=T.crc32,Ht.compressedSize=T.compressedSize,Ht.uncompressedSize=T.uncompressedSize);var N=0;A&&(N|=8),X||!yt&&!S||(N|=2048);var L=0,Et=0;Ut&&(L|=16),D==="UNIX"?(Et=798,L|=(function(At,te){var ue=At;return At||(ue=te?16893:33204),(65535&ue)<<16})(I.unixPermissions,Ut)):(Et=20,L|=(function(At){return 63&(At||0)})(I.dosPermissions)),Y=jt.getUTCHours(),Y<<=6,Y|=jt.getUTCMinutes(),Y<<=5,Y|=jt.getUTCSeconds()/2,J=jt.getUTCFullYear()-1980,J<<=4,J|=jt.getUTCMonth()+1,J<<=5,J|=jt.getUTCDate(),yt&&(ut=m(1,1)+m(k(mt),4)+tt,St+="up"+m(ut.length,2)+ut),S&&(ot=m(1,1)+m(k(Vt),4)+G,St+="uc"+m(ot.length,2)+ot);var wt="";return wt+=`
\0`,wt+=m(N,2),wt+=Z.magic,wt+=m(Y,2),wt+=m(J,2),wt+=m(Ht.crc32,4),wt+=m(Ht.compressedSize,4),wt+=m(Ht.uncompressedSize,4),wt+=m(mt.length,2),wt+=m(St.length,2),{fileRecord:C.LOCAL_FILE_HEADER+wt+mt+St,dirRecord:C.CENTRAL_FILE_HEADER+m(Et,2)+wt+m(Vt.length,2)+"\0\0\0\0"+m(L,4)+m(R,4)+mt+St+Vt}}var p=o("../utils"),v=o("../stream/GenericWorker"),g=o("../utf8"),k=o("../crc32"),C=o("../signature");function O(T,A,w,R){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=w,this.encodeFileName=R,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(O,v),O.prototype.push=function(T){var A=T.meta.percent||0,w=this.entriesCount,R=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,v.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:w?(A+100*(w-R-1))/w:100}}))},O.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var A=this.streamFiles&&!T.file.dir;if(A){var w=x(T,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},O.prototype.closedSource=function(T){this.accumulate=!1;var A=this.streamFiles&&!T.file.dir,w=x(T,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),A)this.push({data:(function(R){return C.DATA_DESCRIPTOR+m(R.crc32,4)+m(R.compressedSize,4)+m(R.uncompressedSize,4)})(T),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},O.prototype.flush=function(){for(var T=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var w=this.bytesWritten-T,R=(function(D,H,Y,J,I){var Z=p.transformTo("string",I(J));return C.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(D,2)+m(D,2)+m(H,4)+m(Y,4)+m(Z.length,2)+Z})(this.dirRecords.length,w,T,this.zipComment,this.encodeFileName);this.push({data:R,meta:{percent:100}})},O.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},O.prototype.registerPrevious=function(T){this._sources.push(T);var A=this;return T.on("data",function(w){A.processChunk(w)}),T.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),T.on("error",function(w){A.error(w)}),this},O.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},O.prototype.error=function(T){var A=this._sources;if(!v.prototype.error.call(this,T))return!1;for(var w=0;w<A.length;w++)try{A[w].error(T)}catch{}return!0},O.prototype.lock=function(){v.prototype.lock.call(this);for(var T=this._sources,A=0;A<T.length;A++)T[A].lock()},c.exports=O},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,c,y){var m=o("../compressions"),x=o("./ZipFileWorker");y.generateWorker=function(p,v,g){var k=new x(v.streamFiles,g,v.platform,v.encodeFileName),C=0;try{p.forEach(function(O,T){C++;var A=(function(H,Y){var J=H||Y,I=m[J];if(!I)throw new Error(J+" is not a valid compression method !");return I})(T.options.compression,v.compression),w=T.options.compressionOptions||v.compressionOptions||{},R=T.dir,D=T.date;T._compressWorker(A,w).withStreamInfo("file",{name:O,dir:R,date:D,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(k)}),k.entriesCount=C}catch(O){k.error(O)}return k}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,c,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var x=new m;for(var p in this)typeof this[p]!="function"&&(x[p]=this[p]);return x}}(m.prototype=o("./object")).loadAsync=o("./load"),m.support=o("./support"),m.defaults=o("./defaults"),m.version="3.10.1",m.loadAsync=function(x,p){return new m().loadAsync(x,p)},m.external=o("./external"),c.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,c,y){var m=o("./utils"),x=o("./external"),p=o("./utf8"),v=o("./zipEntries"),g=o("./stream/Crc32Probe"),k=o("./nodejsUtils");function C(O){return new x.Promise(function(T,A){var w=O.decompressed.getContentWorker().pipe(new g);w.on("error",function(R){A(R)}).on("end",function(){w.streamInfo.crc32!==O.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}c.exports=function(O,T){var A=this;return T=m.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),k.isNode&&k.isStream(O)?x.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",O,!0,T.optimizedBinaryString,T.base64).then(function(w){var R=new v(T);return R.load(w),R}).then(function(w){var R=[x.Promise.resolve(w)],D=w.files;if(T.checkCRC32)for(var H=0;H<D.length;H++)R.push(C(D[H]));return x.Promise.all(R)}).then(function(w){for(var R=w.shift(),D=R.files,H=0;H<D.length;H++){var Y=D[H],J=Y.fileNameStr,I=m.resolve(Y.fileNameStr);A.file(I,Y.decompressed,{binary:!0,optimizedBinaryString:!0,date:Y.date,dir:Y.dir,comment:Y.fileCommentStr.length?Y.fileCommentStr:null,unixPermissions:Y.unixPermissions,dosPermissions:Y.dosPermissions,createFolders:T.createFolders}),Y.dir||(A.file(I).unsafeOriginalName=J)}return R.zipComment.length&&(A.comment=R.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,c,y){var m=o("../utils"),x=o("../stream/GenericWorker");function p(v,g){x.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(g)}m.inherits(p,x),p.prototype._bindStream=function(v){var g=this;(this._stream=v).pause(),v.on("data",function(k){g.push({data:k,meta:{percent:0}})}).on("error",function(k){g.isPaused?this.generatedError=k:g.error(k)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},p.prototype.pause=function(){return!!x.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},c.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,c,y){var m=o("readable-stream").Readable;function x(p,v,g){m.call(this,v),this._helper=p;var k=this;p.on("data",function(C,O){k.push(C)||k._helper.pause(),g&&g(O)}).on("error",function(C){k.emit("error",C)}).on("end",function(){k.push(null)})}o("../utils").inherits(x,m),x.prototype._read=function(){this._helper.resume()},c.exports=x},{"../utils":32,"readable-stream":16}],14:[function(o,c,y){c.exports={isNode:typeof Buffer<"u",newBufferFrom:function(m,x){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(m,x);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new Buffer(m,x)},allocBuffer:function(m){if(Buffer.alloc)return Buffer.alloc(m);var x=new Buffer(m);return x.fill(0),x},isBuffer:function(m){return Buffer.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(o,c,y){function m(I,Z,X){var mt,tt=p.getTypeOf(Z),Ct=p.extend(X||{},k);Ct.date=Ct.date||new Date,Ct.compression!==null&&(Ct.compression=Ct.compression.toUpperCase()),typeof Ct.unixPermissions=="string"&&(Ct.unixPermissions=parseInt(Ct.unixPermissions,8)),Ct.unixPermissions&&16384&Ct.unixPermissions&&(Ct.dir=!0),Ct.dosPermissions&&16&Ct.dosPermissions&&(Ct.dir=!0),Ct.dir&&(I=D(I)),Ct.createFolders&&(mt=R(I))&&H.call(this,mt,!0);var Vt=tt==="string"&&Ct.binary===!1&&Ct.base64===!1;X&&X.binary!==void 0||(Ct.binary=!Vt),(Z instanceof C&&Z.uncompressedSize===0||Ct.dir||!Z||Z.length===0)&&(Ct.base64=!1,Ct.binary=!0,Z="",Ct.compression="STORE",tt="string");var G=null;G=Z instanceof C||Z instanceof v?Z:A.isNode&&A.isStream(Z)?new w(I,Z):p.prepareContent(I,Z,Ct.binary,Ct.optimizedBinaryString,Ct.base64);var yt=new O(I,G,Ct);this.files[I]=yt}var x=o("./utf8"),p=o("./utils"),v=o("./stream/GenericWorker"),g=o("./stream/StreamHelper"),k=o("./defaults"),C=o("./compressedObject"),O=o("./zipObject"),T=o("./generate"),A=o("./nodejsUtils"),w=o("./nodejs/NodejsStreamInputAdapter"),R=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var Z=I.lastIndexOf("/");return 0<Z?I.substring(0,Z):""},D=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},H=function(I,Z){return Z=Z!==void 0?Z:k.createFolders,I=D(I),this.files[I]||m.call(this,I,null,{dir:!0,createFolders:Z}),this.files[I]};function Y(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var J={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var Z,X,mt;for(Z in this.files)mt=this.files[Z],(X=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&I(X,mt)},filter:function(I){var Z=[];return this.forEach(function(X,mt){I(X,mt)&&Z.push(mt)}),Z},file:function(I,Z,X){if(arguments.length!==1)return I=this.root+I,m.call(this,I,Z,X),this;if(Y(I)){var mt=I;return this.filter(function(Ct,Vt){return!Vt.dir&&mt.test(Ct)})}var tt=this.files[this.root+I];return tt&&!tt.dir?tt:null},folder:function(I){if(!I)return this;if(Y(I))return this.filter(function(tt,Ct){return Ct.dir&&I.test(tt)});var Z=this.root+I,X=H.call(this,Z),mt=this.clone();return mt.root=X.name,mt},remove:function(I){I=this.root+I;var Z=this.files[I];if(Z||(I.slice(-1)!=="/"&&(I+="/"),Z=this.files[I]),Z&&!Z.dir)delete this.files[I];else for(var X=this.filter(function(tt,Ct){return Ct.name.slice(0,I.length)===I}),mt=0;mt<X.length;mt++)delete this.files[X[mt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var Z,X={};try{if((X=p.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:x.utf8encode})).type=X.type.toLowerCase(),X.compression=X.compression.toUpperCase(),X.type==="binarystring"&&(X.type="string"),!X.type)throw new Error("No output type specified.");p.checkSupport(X.type),X.platform!=="darwin"&&X.platform!=="freebsd"&&X.platform!=="linux"&&X.platform!=="sunos"||(X.platform="UNIX"),X.platform==="win32"&&(X.platform="DOS");var mt=X.comment||this.comment||"";Z=T.generateWorker(this,X,mt)}catch(tt){(Z=new v("error")).error(tt)}return new g(Z,X.type||"string",X.mimeType)},generateAsync:function(I,Z){return this.generateInternalStream(I).accumulate(Z)},generateNodeStream:function(I,Z){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(Z)}};c.exports=J},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,c,y){c.exports=o("stream")},{stream:void 0}],17:[function(o,c,y){var m=o("./DataReader");function x(p){m.call(this,p);for(var v=0;v<this.data.length;v++)p[v]=255&p[v]}o("../utils").inherits(x,m),x.prototype.byteAt=function(p){return this.data[this.zero+p]},x.prototype.lastIndexOfSignature=function(p){for(var v=p.charCodeAt(0),g=p.charCodeAt(1),k=p.charCodeAt(2),C=p.charCodeAt(3),O=this.length-4;0<=O;--O)if(this.data[O]===v&&this.data[O+1]===g&&this.data[O+2]===k&&this.data[O+3]===C)return O-this.zero;return-1},x.prototype.readAndCheckSignature=function(p){var v=p.charCodeAt(0),g=p.charCodeAt(1),k=p.charCodeAt(2),C=p.charCodeAt(3),O=this.readData(4);return v===O[0]&&g===O[1]&&k===O[2]&&C===O[3]},x.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,v},c.exports=x},{"../utils":32,"./DataReader":18}],18:[function(o,c,y){var m=o("../utils");function x(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}x.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var v,g=0;for(this.checkOffset(p),v=this.index+p-1;v>=this.index;v--)g=(g<<8)+this.byteAt(v);return this.index+=p,g},readString:function(p){return m.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},c.exports=x},{"../utils":32}],19:[function(o,c,y){var m=o("./Uint8ArrayReader");function x(p){m.call(this,p)}o("../utils").inherits(x,m),x.prototype.readData=function(p){this.checkOffset(p);var v=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,v},c.exports=x},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,c,y){var m=o("./DataReader");function x(p){m.call(this,p)}o("../utils").inherits(x,m),x.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},x.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},x.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},x.prototype.readData=function(p){this.checkOffset(p);var v=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,v},c.exports=x},{"../utils":32,"./DataReader":18}],21:[function(o,c,y){var m=o("./ArrayReader");function x(p){m.call(this,p)}o("../utils").inherits(x,m),x.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,v},c.exports=x},{"../utils":32,"./ArrayReader":17}],22:[function(o,c,y){var m=o("../utils"),x=o("../support"),p=o("./ArrayReader"),v=o("./StringReader"),g=o("./NodeBufferReader"),k=o("./Uint8ArrayReader");c.exports=function(C){var O=m.getTypeOf(C);return m.checkSupport(O),O!=="string"||x.uint8array?O==="nodebuffer"?new g(C):x.uint8array?new k(m.transformTo("uint8array",C)):new p(m.transformTo("array",C)):new v(C)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,c,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,c,y){var m=o("./GenericWorker"),x=o("../utils");function p(v){m.call(this,"ConvertWorker to "+v),this.destType=v}x.inherits(p,m),p.prototype.processChunk=function(v){this.push({data:x.transformTo(this.destType,v.data),meta:v.meta})},c.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(o,c,y){var m=o("./GenericWorker"),x=o("../crc32");function p(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(p,m),p.prototype.processChunk=function(v){this.streamInfo.crc32=x(v.data,this.streamInfo.crc32||0),this.push(v)},c.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,c,y){var m=o("../utils"),x=o("./GenericWorker");function p(v){x.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}m.inherits(p,x),p.prototype.processChunk=function(v){if(v){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+v.data.length}x.prototype.processChunk.call(this,v)},c.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(o,c,y){var m=o("../utils"),x=o("./GenericWorker");function p(v){x.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(k){g.dataIsReady=!0,g.data=k,g.max=k&&k.length||0,g.type=m.getTypeOf(k),g.isPaused||g._tickAndRepeat()},function(k){g.error(k)})}m.inherits(p,x),p.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,g);break;case"uint8array":v=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":v=this.data.slice(this.index,g)}return this.index=g,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},c.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(o,c,y){function m(x){this.name=x||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(x){this.emit("data",x)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(x){this.emit("error",x)}return!0},error:function(x){return!this.isFinished&&(this.isPaused?this.generatedError=x:(this.isFinished=!0,this.emit("error",x),this.previous&&this.previous.error(x),this.cleanUp()),!0)},on:function(x,p){return this._listeners[x].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(x,p){if(this._listeners[x])for(var v=0;v<this._listeners[x].length;v++)this._listeners[x][v].call(this,p)},pipe:function(x){return x.registerPrevious(this)},registerPrevious:function(x){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=x.streamInfo,this.mergeStreamInfo(),this.previous=x;var p=this;return x.on("data",function(v){p.processChunk(v)}),x.on("end",function(){p.end()}),x.on("error",function(v){p.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var x=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),x=!0),this.previous&&this.previous.resume(),!x},flush:function(){},processChunk:function(x){this.push(x)},withStreamInfo:function(x,p){return this.extraStreamInfo[x]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var x in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,x)&&(this.streamInfo[x]=this.extraStreamInfo[x])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var x="Worker "+this.name;return this.previous?this.previous+" -> "+x:x}},c.exports=m},{}],29:[function(o,c,y){var m=o("../utils"),x=o("./ConvertWorker"),p=o("./GenericWorker"),v=o("../base64"),g=o("../support"),k=o("../external"),C=null;if(g.nodestream)try{C=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function O(A,w){return new k.Promise(function(R,D){var H=[],Y=A._internalType,J=A._outputType,I=A._mimeType;A.on("data",function(Z,X){H.push(Z),w&&w(X)}).on("error",function(Z){H=[],D(Z)}).on("end",function(){try{var Z=(function(X,mt,tt){switch(X){case"blob":return m.newBlob(m.transformTo("arraybuffer",mt),tt);case"base64":return v.encode(mt);default:return m.transformTo(X,mt)}})(J,(function(X,mt){var tt,Ct=0,Vt=null,G=0;for(tt=0;tt<mt.length;tt++)G+=mt[tt].length;switch(X){case"string":return mt.join("");case"array":return Array.prototype.concat.apply([],mt);case"uint8array":for(Vt=new Uint8Array(G),tt=0;tt<mt.length;tt++)Vt.set(mt[tt],Ct),Ct+=mt[tt].length;return Vt;case"nodebuffer":return Buffer.concat(mt);default:throw new Error("concat : unsupported type '"+X+"'")}})(Y,H),I);R(Z)}catch(X){D(X)}H=[]}).resume()})}function T(A,w,R){var D=w;switch(w){case"blob":case"arraybuffer":D="uint8array";break;case"base64":D="string"}try{this._internalType=D,this._outputType=w,this._mimeType=R,m.checkSupport(D),this._worker=A.pipe(new x(D)),A.lock()}catch(H){this._worker=new p("error"),this._worker.error(H)}}T.prototype={accumulate:function(A){return O(this,A)},on:function(A,w){var R=this;return A==="data"?this._worker.on(A,function(D){w.call(R,D.data,D.meta)}):this._worker.on(A,function(){m.delay(w,arguments,R)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new C(this,{objectMode:this._outputType!=="nodebuffer"},A)}},c.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,c,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=typeof Buffer<"u",y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);x.append(m),y.blob=x.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!o("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(o,c,y){for(var m=o("./utils"),x=o("./support"),p=o("./nodejsUtils"),v=o("./stream/GenericWorker"),g=new Array(256),k=0;k<256;k++)g[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;g[254]=g[254]=1;function C(){v.call(this,"utf-8 decode"),this.leftOver=null}function O(){v.call(this,"utf-8 encode")}y.utf8encode=function(T){return x.nodebuffer?p.newBufferFrom(T,"utf-8"):(function(A){var w,R,D,H,Y,J=A.length,I=0;for(H=0;H<J;H++)(64512&(R=A.charCodeAt(H)))==55296&&H+1<J&&(64512&(D=A.charCodeAt(H+1)))==56320&&(R=65536+(R-55296<<10)+(D-56320),H++),I+=R<128?1:R<2048?2:R<65536?3:4;for(w=x.uint8array?new Uint8Array(I):new Array(I),H=Y=0;Y<I;H++)(64512&(R=A.charCodeAt(H)))==55296&&H+1<J&&(64512&(D=A.charCodeAt(H+1)))==56320&&(R=65536+(R-55296<<10)+(D-56320),H++),R<128?w[Y++]=R:(R<2048?w[Y++]=192|R>>>6:(R<65536?w[Y++]=224|R>>>12:(w[Y++]=240|R>>>18,w[Y++]=128|R>>>12&63),w[Y++]=128|R>>>6&63),w[Y++]=128|63&R);return w})(T)},y.utf8decode=function(T){return x.nodebuffer?m.transformTo("nodebuffer",T).toString("utf-8"):(function(A){var w,R,D,H,Y=A.length,J=new Array(2*Y);for(w=R=0;w<Y;)if((D=A[w++])<128)J[R++]=D;else if(4<(H=g[D]))J[R++]=65533,w+=H-1;else{for(D&=H===2?31:H===3?15:7;1<H&&w<Y;)D=D<<6|63&A[w++],H--;1<H?J[R++]=65533:D<65536?J[R++]=D:(D-=65536,J[R++]=55296|D>>10&1023,J[R++]=56320|1023&D)}return J.length!==R&&(J.subarray?J=J.subarray(0,R):J.length=R),m.applyFromCharCode(J)})(T=m.transformTo(x.uint8array?"uint8array":"array",T))},m.inherits(C,v),C.prototype.processChunk=function(T){var A=m.transformTo(x.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(x.uint8array){var w=A;(A=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),A.set(w,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var R=(function(H,Y){var J;for((Y=Y||H.length)>H.length&&(Y=H.length),J=Y-1;0<=J&&(192&H[J])==128;)J--;return J<0||J===0?Y:J+g[H[J]]>Y?J:Y})(A),D=A;R!==A.length&&(x.uint8array?(D=A.subarray(0,R),this.leftOver=A.subarray(R,A.length)):(D=A.slice(0,R),this.leftOver=A.slice(R,A.length))),this.push({data:y.utf8decode(D),meta:T.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=C,m.inherits(O,v),O.prototype.processChunk=function(T){this.push({data:y.utf8encode(T.data),meta:T.meta})},y.Utf8EncodeWorker=O},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,c,y){var m=o("./support"),x=o("./base64"),p=o("./nodejsUtils"),v=o("./external");function g(w){return w}function k(w,R){for(var D=0;D<w.length;++D)R[D]=255&w.charCodeAt(D);return R}o("setimmediate"),y.newBlob=function(w,R){y.checkSupport("blob");try{return new Blob([w],{type:R})}catch{try{var D=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return D.append(w),D.getBlob(R)}catch{throw new Error("Bug : can't construct the Blob.")}}};var C={stringifyByChunk:function(w,R,D){var H=[],Y=0,J=w.length;if(J<=D)return String.fromCharCode.apply(null,w);for(;Y<J;)R==="array"||R==="nodebuffer"?H.push(String.fromCharCode.apply(null,w.slice(Y,Math.min(Y+D,J)))):H.push(String.fromCharCode.apply(null,w.subarray(Y,Math.min(Y+D,J)))),Y+=D;return H.join("")},stringifyByChar:function(w){for(var R="",D=0;D<w.length;D++)R+=String.fromCharCode(w[D]);return R},applyCanBeUsed:{uint8array:(function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function O(w){var R=65536,D=y.getTypeOf(w),H=!0;if(D==="uint8array"?H=C.applyCanBeUsed.uint8array:D==="nodebuffer"&&(H=C.applyCanBeUsed.nodebuffer),H)for(;1<R;)try{return C.stringifyByChunk(w,D,R)}catch{R=Math.floor(R/2)}return C.stringifyByChar(w)}function T(w,R){for(var D=0;D<w.length;D++)R[D]=w[D];return R}y.applyFromCharCode=O;var A={};A.string={string:g,array:function(w){return k(w,new Array(w.length))},arraybuffer:function(w){return A.string.uint8array(w).buffer},uint8array:function(w){return k(w,new Uint8Array(w.length))},nodebuffer:function(w){return k(w,p.allocBuffer(w.length))}},A.array={string:O,array:g,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(w)}},A.arraybuffer={string:function(w){return O(new Uint8Array(w))},array:function(w){return T(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:g,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(new Uint8Array(w))}},A.uint8array={string:O,array:function(w){return T(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:g,nodebuffer:function(w){return p.newBufferFrom(w)}},A.nodebuffer={string:O,array:function(w){return T(w,new Array(w.length))},arraybuffer:function(w){return A.nodebuffer.uint8array(w).buffer},uint8array:function(w){return T(w,new Uint8Array(w.length))},nodebuffer:g},y.transformTo=function(w,R){if(R=R||"",!w)return R;y.checkSupport(w);var D=y.getTypeOf(R);return A[D][w](R)},y.resolve=function(w){for(var R=w.split("/"),D=[],H=0;H<R.length;H++){var Y=R[H];Y==="."||Y===""&&H!==0&&H!==R.length-1||(Y===".."?D.pop():D.push(Y))}return D.join("/")},y.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":m.nodebuffer&&p.isBuffer(w)?"nodebuffer":m.uint8array&&w instanceof Uint8Array?"uint8array":m.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(w){if(!m[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(w){var R,D,H="";for(D=0;D<(w||"").length;D++)H+="\\x"+((R=w.charCodeAt(D))<16?"0":"")+R.toString(16).toUpperCase();return H},y.delay=function(w,R,D){setImmediate(function(){w.apply(D||null,R||[])})},y.inherits=function(w,R){function D(){}D.prototype=R.prototype,w.prototype=new D},y.extend=function(){var w,R,D={};for(w=0;w<arguments.length;w++)for(R in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],R)&&D[R]===void 0&&(D[R]=arguments[w][R]);return D},y.prepareContent=function(w,R,D,H,Y){return v.Promise.resolve(R).then(function(J){return m.blob&&(J instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(J))!==-1)&&typeof FileReader<"u"?new v.Promise(function(I,Z){var X=new FileReader;X.onload=function(mt){I(mt.target.result)},X.onerror=function(mt){Z(mt.target.error)},X.readAsArrayBuffer(J)}):J}).then(function(J){var I=y.getTypeOf(J);return I?(I==="arraybuffer"?J=y.transformTo("uint8array",J):I==="string"&&(Y?J=x.decode(J):D&&H!==!0&&(J=(function(Z){return k(Z,m.uint8array?new Uint8Array(Z.length):new Array(Z.length))})(J))),J):v.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,c,y){var m=o("./reader/readerFor"),x=o("./utils"),p=o("./signature"),v=o("./zipEntry"),g=o("./support");function k(C){this.files=[],this.loadOptions=C}k.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var O=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+x.pretty(O)+", expected "+x.pretty(C)+")")}},isSignature:function(C,O){var T=this.reader.index;this.reader.setIndex(C);var A=this.reader.readString(4)===O;return this.reader.setIndex(T),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),O=g.uint8array?"uint8array":"array",T=x.transformTo(O,C);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,O,T,A=this.zip64EndOfCentralSize-44;0<A;)C=this.reader.readInt(2),O=this.reader.readInt(4),T=this.reader.readData(O),this.zip64ExtensibleData[C]={id:C,length:O,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,O;for(C=0;C<this.files.length;C++)O=this.files[C],this.reader.setIndex(O.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),O.readLocalPart(this.reader),O.handleUTF8(),O.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(C=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var O=C;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===x.MAX_VALUE_16BITS||this.diskWithCentralDirStart===x.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===x.MAX_VALUE_16BITS||this.centralDirRecords===x.MAX_VALUE_16BITS||this.centralDirSize===x.MAX_VALUE_32BITS||this.centralDirOffset===x.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var A=O-T;if(0<A)this.isSignature(O,p.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(C){this.reader=m(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},c.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,c,y){var m=o("./reader/readerFor"),x=o("./utils"),p=o("./compressedObject"),v=o("./crc32"),g=o("./utf8"),k=o("./compressions"),C=o("./support");function O(T,A){this.options=T,this.loadOptions=A}O.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var A,w;if(T.skip(22),this.fileNameLength=T.readInt(2),w=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=(function(R){for(var D in k)if(Object.prototype.hasOwnProperty.call(k,D)&&k[D].magic===R)return k[D];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+x.pretty(this.compressionMethod)+" unknown (inner file : "+x.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,A,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var A=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(A),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=m(this.extraFields[1].value);this.uncompressedSize===x.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===x.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===x.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===x.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var A,w,R,D=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<D;)A=T.readInt(2),w=T.readInt(2),R=T.readData(w),this.extraFields[A]={id:A,length:w,value:R};T.setIndex(D)},handleUTF8:function(){var T=C.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var w=x.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var D=x.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(D)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var A=m(T.value);return A.readInt(1)!==1||v(this.fileName)!==A.readInt(4)?null:g.utf8decode(A.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var A=m(T.value);return A.readInt(1)!==1||v(this.fileComment)!==A.readInt(4)?null:g.utf8decode(A.readData(T.length-5))}return null}},c.exports=O},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,c,y){function m(A,w,R){this.name=A,this.dir=R.dir,this.date=R.date,this.comment=R.comment,this.unixPermissions=R.unixPermissions,this.dosPermissions=R.dosPermissions,this._data=w,this._dataBinary=R.binary,this.options={compression:R.compression,compressionOptions:R.compressionOptions}}var x=o("./stream/StreamHelper"),p=o("./stream/DataWorker"),v=o("./utf8"),g=o("./compressedObject"),k=o("./stream/GenericWorker");m.prototype={internalStream:function(A){var w=null,R="string";try{if(!A)throw new Error("No output type specified.");var D=(R=A.toLowerCase())==="string"||R==="text";R!=="binarystring"&&R!=="text"||(R="string"),w=this._decompressWorker();var H=!this._dataBinary;H&&!D&&(w=w.pipe(new v.Utf8EncodeWorker)),!H&&D&&(w=w.pipe(new v.Utf8DecodeWorker))}catch(Y){(w=new k("error")).error(Y)}return new x(w,R,"")},async:function(A,w){return this.internalStream(A).accumulate(w)},nodeStream:function(A,w){return this.internalStream(A||"nodebuffer").toNodejsStream(w)},_compressWorker:function(A,w){if(this._data instanceof g&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var R=this._decompressWorker();return this._dataBinary||(R=R.pipe(new v.Utf8EncodeWorker)),g.createWorkerFrom(R,A,w)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof k?this._data:new p(this._data)}};for(var C=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],O=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<C.length;T++)m.prototype[C[T]]=O;c.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,c,y){(function(m){var x,p,v=m.MutationObserver||m.WebKitMutationObserver;if(v){var g=0,k=new v(A),C=m.document.createTextNode("");k.observe(C,{characterData:!0}),x=function(){C.data=g=++g%2}}else if(m.setImmediate||m.MessageChannel===void 0)x="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var w=m.document.createElement("script");w.onreadystatechange=function(){A(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},m.document.documentElement.appendChild(w)}:function(){setTimeout(A,0)};else{var O=new m.MessageChannel;O.port1.onmessage=A,x=function(){O.port2.postMessage(0)}}var T=[];function A(){var w,R;p=!0;for(var D=T.length;D;){for(R=T,T=[],w=-1;++w<D;)R[w]();D=T.length}p=!1}c.exports=function(w){T.push(w)!==1||p||x()}}).call(this,typeof gs<"u"?gs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,c,y){var m=o("immediate");function x(){}var p={},v=["REJECTED"],g=["FULFILLED"],k=["PENDING"];function C(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=k,this.queue=[],this.outcome=void 0,D!==x&&w(this,D)}function O(D,H,Y){this.promise=D,typeof H=="function"&&(this.onFulfilled=H,this.callFulfilled=this.otherCallFulfilled),typeof Y=="function"&&(this.onRejected=Y,this.callRejected=this.otherCallRejected)}function T(D,H,Y){m(function(){var J;try{J=H(Y)}catch(I){return p.reject(D,I)}J===D?p.reject(D,new TypeError("Cannot resolve promise with itself")):p.resolve(D,J)})}function A(D){var H=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof H=="function")return function(){H.apply(D,arguments)}}function w(D,H){var Y=!1;function J(X){Y||(Y=!0,p.reject(D,X))}function I(X){Y||(Y=!0,p.resolve(D,X))}var Z=R(function(){H(I,J)});Z.status==="error"&&J(Z.value)}function R(D,H){var Y={};try{Y.value=D(H),Y.status="success"}catch(J){Y.status="error",Y.value=J}return Y}(c.exports=C).prototype.finally=function(D){if(typeof D!="function")return this;var H=this.constructor;return this.then(function(Y){return H.resolve(D()).then(function(){return Y})},function(Y){return H.resolve(D()).then(function(){throw Y})})},C.prototype.catch=function(D){return this.then(null,D)},C.prototype.then=function(D,H){if(typeof D!="function"&&this.state===g||typeof H!="function"&&this.state===v)return this;var Y=new this.constructor(x);return this.state!==k?T(Y,this.state===g?D:H,this.outcome):this.queue.push(new O(Y,D,H)),Y},O.prototype.callFulfilled=function(D){p.resolve(this.promise,D)},O.prototype.otherCallFulfilled=function(D){T(this.promise,this.onFulfilled,D)},O.prototype.callRejected=function(D){p.reject(this.promise,D)},O.prototype.otherCallRejected=function(D){T(this.promise,this.onRejected,D)},p.resolve=function(D,H){var Y=R(A,H);if(Y.status==="error")return p.reject(D,Y.value);var J=Y.value;if(J)w(D,J);else{D.state=g,D.outcome=H;for(var I=-1,Z=D.queue.length;++I<Z;)D.queue[I].callFulfilled(H)}return D},p.reject=function(D,H){D.state=v,D.outcome=H;for(var Y=-1,J=D.queue.length;++Y<J;)D.queue[Y].callRejected(H);return D},C.resolve=function(D){return D instanceof this?D:p.resolve(new this(x),D)},C.reject=function(D){var H=new this(x);return p.reject(H,D)},C.all=function(D){var H=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=D.length,J=!1;if(!Y)return this.resolve([]);for(var I=new Array(Y),Z=0,X=-1,mt=new this(x);++X<Y;)tt(D[X],X);return mt;function tt(Ct,Vt){H.resolve(Ct).then(function(G){I[Vt]=G,++Z!==Y||J||(J=!0,p.resolve(mt,I))},function(G){J||(J=!0,p.reject(mt,G))})}},C.race=function(D){var H=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=D.length,J=!1;if(!Y)return this.resolve([]);for(var I=-1,Z=new this(x);++I<Y;)X=D[I],H.resolve(X).then(function(mt){J||(J=!0,p.resolve(Z,mt))},function(mt){J||(J=!0,p.reject(Z,mt))});var X;return Z}},{immediate:36}],38:[function(o,c,y){var m={};(0,o("./lib/utils/common").assign)(m,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),c.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,c,y){var m=o("./zlib/deflate"),x=o("./utils/common"),p=o("./utils/strings"),v=o("./zlib/messages"),g=o("./zlib/zstream"),k=Object.prototype.toString,C=0,O=-1,T=0,A=8;function w(D){if(!(this instanceof w))return new w(D);this.options=x.assign({level:O,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},D||{});var H=this.options;H.raw&&0<H.windowBits?H.windowBits=-H.windowBits:H.gzip&&0<H.windowBits&&H.windowBits<16&&(H.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var Y=m.deflateInit2(this.strm,H.level,H.method,H.windowBits,H.memLevel,H.strategy);if(Y!==C)throw new Error(v[Y]);if(H.header&&m.deflateSetHeader(this.strm,H.header),H.dictionary){var J;if(J=typeof H.dictionary=="string"?p.string2buf(H.dictionary):k.call(H.dictionary)==="[object ArrayBuffer]"?new Uint8Array(H.dictionary):H.dictionary,(Y=m.deflateSetDictionary(this.strm,J))!==C)throw new Error(v[Y]);this._dict_set=!0}}function R(D,H){var Y=new w(H);if(Y.push(D,!0),Y.err)throw Y.msg||v[Y.err];return Y.result}w.prototype.push=function(D,H){var Y,J,I=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;J=H===~~H?H:H===!0?4:0,typeof D=="string"?I.input=p.string2buf(D):k.call(D)==="[object ArrayBuffer]"?I.input=new Uint8Array(D):I.input=D,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new x.Buf8(Z),I.next_out=0,I.avail_out=Z),(Y=m.deflate(I,J))!==1&&Y!==C)return this.onEnd(Y),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||J!==4&&J!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(x.shrinkBuf(I.output,I.next_out))):this.onData(x.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&Y!==1);return J===4?(Y=m.deflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===C):J!==2||(this.onEnd(C),!(I.avail_out=0))},w.prototype.onData=function(D){this.chunks.push(D)},w.prototype.onEnd=function(D){D===C&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=x.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},y.Deflate=w,y.deflate=R,y.deflateRaw=function(D,H){return(H=H||{}).raw=!0,R(D,H)},y.gzip=function(D,H){return(H=H||{}).gzip=!0,R(D,H)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,c,y){var m=o("./zlib/inflate"),x=o("./utils/common"),p=o("./utils/strings"),v=o("./zlib/constants"),g=o("./zlib/messages"),k=o("./zlib/zstream"),C=o("./zlib/gzheader"),O=Object.prototype.toString;function T(w){if(!(this instanceof T))return new T(w);this.options=x.assign({chunkSize:16384,windowBits:0,to:""},w||{});var R=this.options;R.raw&&0<=R.windowBits&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),!(0<=R.windowBits&&R.windowBits<16)||w&&w.windowBits||(R.windowBits+=32),15<R.windowBits&&R.windowBits<48&&(15&R.windowBits)==0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var D=m.inflateInit2(this.strm,R.windowBits);if(D!==v.Z_OK)throw new Error(g[D]);this.header=new C,m.inflateGetHeader(this.strm,this.header)}function A(w,R){var D=new T(R);if(D.push(w,!0),D.err)throw D.msg||g[D.err];return D.result}T.prototype.push=function(w,R){var D,H,Y,J,I,Z,X=this.strm,mt=this.options.chunkSize,tt=this.options.dictionary,Ct=!1;if(this.ended)return!1;H=R===~~R?R:R===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof w=="string"?X.input=p.binstring2buf(w):O.call(w)==="[object ArrayBuffer]"?X.input=new Uint8Array(w):X.input=w,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new x.Buf8(mt),X.next_out=0,X.avail_out=mt),(D=m.inflate(X,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&tt&&(Z=typeof tt=="string"?p.string2buf(tt):O.call(tt)==="[object ArrayBuffer]"?new Uint8Array(tt):tt,D=m.inflateSetDictionary(this.strm,Z)),D===v.Z_BUF_ERROR&&Ct===!0&&(D=v.Z_OK,Ct=!1),D!==v.Z_STREAM_END&&D!==v.Z_OK)return this.onEnd(D),!(this.ended=!0);X.next_out&&(X.avail_out!==0&&D!==v.Z_STREAM_END&&(X.avail_in!==0||H!==v.Z_FINISH&&H!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(Y=p.utf8border(X.output,X.next_out),J=X.next_out-Y,I=p.buf2string(X.output,Y),X.next_out=J,X.avail_out=mt-J,J&&x.arraySet(X.output,X.output,Y,J,0),this.onData(I)):this.onData(x.shrinkBuf(X.output,X.next_out)))),X.avail_in===0&&X.avail_out===0&&(Ct=!0)}while((0<X.avail_in||X.avail_out===0)&&D!==v.Z_STREAM_END);return D===v.Z_STREAM_END&&(H=v.Z_FINISH),H===v.Z_FINISH?(D=m.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===v.Z_OK):H!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(X.avail_out=0))},T.prototype.onData=function(w){this.chunks.push(w)},T.prototype.onEnd=function(w){w===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=x.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},y.Inflate=T,y.inflate=A,y.inflateRaw=function(w,R){return(R=R||{}).raw=!0,A(w,R)},y.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,c,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(v){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var k=g.shift();if(k){if(typeof k!="object")throw new TypeError(k+"must be non-object");for(var C in k)k.hasOwnProperty(C)&&(v[C]=k[C])}}return v},y.shrinkBuf=function(v,g){return v.length===g?v:v.subarray?v.subarray(0,g):(v.length=g,v)};var x={arraySet:function(v,g,k,C,O){if(g.subarray&&v.subarray)v.set(g.subarray(k,k+C),O);else for(var T=0;T<C;T++)v[O+T]=g[k+T]},flattenChunks:function(v){var g,k,C,O,T,A;for(g=C=0,k=v.length;g<k;g++)C+=v[g].length;for(A=new Uint8Array(C),g=O=0,k=v.length;g<k;g++)T=v[g],A.set(T,O),O+=T.length;return A}},p={arraySet:function(v,g,k,C,O){for(var T=0;T<C;T++)v[O+T]=g[k+T]},flattenChunks:function(v){return[].concat.apply([],v)}};y.setTyped=function(v){v?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,x)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,p))},y.setTyped(m)},{}],42:[function(o,c,y){var m=o("./common"),x=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{x=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var v=new m.Buf8(256),g=0;g<256;g++)v[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function k(C,O){if(O<65537&&(C.subarray&&p||!C.subarray&&x))return String.fromCharCode.apply(null,m.shrinkBuf(C,O));for(var T="",A=0;A<O;A++)T+=String.fromCharCode(C[A]);return T}v[254]=v[254]=1,y.string2buf=function(C){var O,T,A,w,R,D=C.length,H=0;for(w=0;w<D;w++)(64512&(T=C.charCodeAt(w)))==55296&&w+1<D&&(64512&(A=C.charCodeAt(w+1)))==56320&&(T=65536+(T-55296<<10)+(A-56320),w++),H+=T<128?1:T<2048?2:T<65536?3:4;for(O=new m.Buf8(H),w=R=0;R<H;w++)(64512&(T=C.charCodeAt(w)))==55296&&w+1<D&&(64512&(A=C.charCodeAt(w+1)))==56320&&(T=65536+(T-55296<<10)+(A-56320),w++),T<128?O[R++]=T:(T<2048?O[R++]=192|T>>>6:(T<65536?O[R++]=224|T>>>12:(O[R++]=240|T>>>18,O[R++]=128|T>>>12&63),O[R++]=128|T>>>6&63),O[R++]=128|63&T);return O},y.buf2binstring=function(C){return k(C,C.length)},y.binstring2buf=function(C){for(var O=new m.Buf8(C.length),T=0,A=O.length;T<A;T++)O[T]=C.charCodeAt(T);return O},y.buf2string=function(C,O){var T,A,w,R,D=O||C.length,H=new Array(2*D);for(T=A=0;T<D;)if((w=C[T++])<128)H[A++]=w;else if(4<(R=v[w]))H[A++]=65533,T+=R-1;else{for(w&=R===2?31:R===3?15:7;1<R&&T<D;)w=w<<6|63&C[T++],R--;1<R?H[A++]=65533:w<65536?H[A++]=w:(w-=65536,H[A++]=55296|w>>10&1023,H[A++]=56320|1023&w)}return k(H,A)},y.utf8border=function(C,O){var T;for((O=O||C.length)>C.length&&(O=C.length),T=O-1;0<=T&&(192&C[T])==128;)T--;return T<0||T===0?O:T+v[C[T]]>O?T:O}},{"./common":41}],43:[function(o,c,y){c.exports=function(m,x,p,v){for(var g=65535&m|0,k=m>>>16&65535|0,C=0;p!==0;){for(p-=C=2e3<p?2e3:p;k=k+(g=g+x[v++]|0)|0,--C;);g%=65521,k%=65521}return g|k<<16|0}},{}],44:[function(o,c,y){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,c,y){var m=(function(){for(var x,p=[],v=0;v<256;v++){x=v;for(var g=0;g<8;g++)x=1&x?3988292384^x>>>1:x>>>1;p[v]=x}return p})();c.exports=function(x,p,v,g){var k=m,C=g+v;x^=-1;for(var O=g;O<C;O++)x=x>>>8^k[255&(x^p[O])];return-1^x}},{}],46:[function(o,c,y){var m,x=o("../utils/common"),p=o("./trees"),v=o("./adler32"),g=o("./crc32"),k=o("./messages"),C=0,O=4,T=0,A=-2,w=-1,R=4,D=2,H=8,Y=9,J=286,I=30,Z=19,X=2*J+1,mt=15,tt=3,Ct=258,Vt=Ct+tt+1,G=42,yt=113,S=1,St=2,ut=3,ot=4;function Ut(b,ct){return b.msg=k[ct],ct}function jt(b){return(b<<1)-(4<b?9:0)}function Ht(b){for(var ct=b.length;0<=--ct;)b[ct]=0}function N(b){var ct=b.state,dt=ct.pending;dt>b.avail_out&&(dt=b.avail_out),dt!==0&&(x.arraySet(b.output,ct.pending_buf,ct.pending_out,dt,b.next_out),b.next_out+=dt,ct.pending_out+=dt,b.total_out+=dt,b.avail_out-=dt,ct.pending-=dt,ct.pending===0&&(ct.pending_out=0))}function L(b,ct){p._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,ct),b.block_start=b.strstart,N(b.strm)}function Et(b,ct){b.pending_buf[b.pending++]=ct}function wt(b,ct){b.pending_buf[b.pending++]=ct>>>8&255,b.pending_buf[b.pending++]=255&ct}function At(b,ct){var dt,q,U=b.max_chain_length,at=b.strstart,Nt=b.prev_length,Tt=b.nice_match,ft=b.strstart>b.w_size-Vt?b.strstart-(b.w_size-Vt):0,Bt=b.window,Xt=b.w_mask,Kt=b.prev,ae=b.strstart+Ct,xe=Bt[at+Nt-1],me=Bt[at+Nt];b.prev_length>=b.good_match&&(U>>=2),Tt>b.lookahead&&(Tt=b.lookahead);do if(Bt[(dt=ct)+Nt]===me&&Bt[dt+Nt-1]===xe&&Bt[dt]===Bt[at]&&Bt[++dt]===Bt[at+1]){at+=2,dt++;do;while(Bt[++at]===Bt[++dt]&&Bt[++at]===Bt[++dt]&&Bt[++at]===Bt[++dt]&&Bt[++at]===Bt[++dt]&&Bt[++at]===Bt[++dt]&&Bt[++at]===Bt[++dt]&&Bt[++at]===Bt[++dt]&&Bt[++at]===Bt[++dt]&&at<ae);if(q=Ct-(ae-at),at=ae-Ct,Nt<q){if(b.match_start=ct,Tt<=(Nt=q))break;xe=Bt[at+Nt-1],me=Bt[at+Nt]}}while((ct=Kt[ct&Xt])>ft&&--U!=0);return Nt<=b.lookahead?Nt:b.lookahead}function te(b){var ct,dt,q,U,at,Nt,Tt,ft,Bt,Xt,Kt=b.w_size;do{if(U=b.window_size-b.lookahead-b.strstart,b.strstart>=Kt+(Kt-Vt)){for(x.arraySet(b.window,b.window,Kt,Kt,0),b.match_start-=Kt,b.strstart-=Kt,b.block_start-=Kt,ct=dt=b.hash_size;q=b.head[--ct],b.head[ct]=Kt<=q?q-Kt:0,--dt;);for(ct=dt=Kt;q=b.prev[--ct],b.prev[ct]=Kt<=q?q-Kt:0,--dt;);U+=Kt}if(b.strm.avail_in===0)break;if(Nt=b.strm,Tt=b.window,ft=b.strstart+b.lookahead,Bt=U,Xt=void 0,Xt=Nt.avail_in,Bt<Xt&&(Xt=Bt),dt=Xt===0?0:(Nt.avail_in-=Xt,x.arraySet(Tt,Nt.input,Nt.next_in,Xt,ft),Nt.state.wrap===1?Nt.adler=v(Nt.adler,Tt,Xt,ft):Nt.state.wrap===2&&(Nt.adler=g(Nt.adler,Tt,Xt,ft)),Nt.next_in+=Xt,Nt.total_in+=Xt,Xt),b.lookahead+=dt,b.lookahead+b.insert>=tt)for(at=b.strstart-b.insert,b.ins_h=b.window[at],b.ins_h=(b.ins_h<<b.hash_shift^b.window[at+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[at+tt-1])&b.hash_mask,b.prev[at&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=at,at++,b.insert--,!(b.lookahead+b.insert<tt)););}while(b.lookahead<Vt&&b.strm.avail_in!==0)}function ue(b,ct){for(var dt,q;;){if(b.lookahead<Vt){if(te(b),b.lookahead<Vt&&ct===C)return S;if(b.lookahead===0)break}if(dt=0,b.lookahead>=tt&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+tt-1])&b.hash_mask,dt=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),dt!==0&&b.strstart-dt<=b.w_size-Vt&&(b.match_length=At(b,dt)),b.match_length>=tt)if(q=p._tr_tally(b,b.strstart-b.match_start,b.match_length-tt),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=tt){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+tt-1])&b.hash_mask,dt=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else q=p._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(q&&(L(b,!1),b.strm.avail_out===0))return S}return b.insert=b.strstart<tt-1?b.strstart:tt-1,ct===O?(L(b,!0),b.strm.avail_out===0?ut:ot):b.last_lit&&(L(b,!1),b.strm.avail_out===0)?S:St}function se(b,ct){for(var dt,q,U;;){if(b.lookahead<Vt){if(te(b),b.lookahead<Vt&&ct===C)return S;if(b.lookahead===0)break}if(dt=0,b.lookahead>=tt&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+tt-1])&b.hash_mask,dt=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=tt-1,dt!==0&&b.prev_length<b.max_lazy_match&&b.strstart-dt<=b.w_size-Vt&&(b.match_length=At(b,dt),b.match_length<=5&&(b.strategy===1||b.match_length===tt&&4096<b.strstart-b.match_start)&&(b.match_length=tt-1)),b.prev_length>=tt&&b.match_length<=b.prev_length){for(U=b.strstart+b.lookahead-tt,q=p._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-tt),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=U&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+tt-1])&b.hash_mask,dt=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=tt-1,b.strstart++,q&&(L(b,!1),b.strm.avail_out===0))return S}else if(b.match_available){if((q=p._tr_tally(b,0,b.window[b.strstart-1]))&&L(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return S}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(q=p._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<tt-1?b.strstart:tt-1,ct===O?(L(b,!0),b.strm.avail_out===0?ut:ot):b.last_lit&&(L(b,!1),b.strm.avail_out===0)?S:St}function Rt(b,ct,dt,q,U){this.good_length=b,this.max_lazy=ct,this.nice_length=dt,this.max_chain=q,this.func=U}function xt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=H,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(2*X),this.dyn_dtree=new x.Buf16(2*(2*I+1)),this.bl_tree=new x.Buf16(2*(2*Z+1)),Ht(this.dyn_ltree),Ht(this.dyn_dtree),Ht(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(mt+1),this.heap=new x.Buf16(2*J+1),Ht(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(2*J+1),Ht(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qt(b){var ct;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=D,(ct=b.state).pending=0,ct.pending_out=0,ct.wrap<0&&(ct.wrap=-ct.wrap),ct.status=ct.wrap?G:yt,b.adler=ct.wrap===2?0:1,ct.last_flush=C,p._tr_init(ct),T):Ut(b,A)}function Zt(b){var ct=Qt(b);return ct===T&&(function(dt){dt.window_size=2*dt.w_size,Ht(dt.head),dt.max_lazy_match=m[dt.level].max_lazy,dt.good_match=m[dt.level].good_length,dt.nice_match=m[dt.level].nice_length,dt.max_chain_length=m[dt.level].max_chain,dt.strstart=0,dt.block_start=0,dt.lookahead=0,dt.insert=0,dt.match_length=dt.prev_length=tt-1,dt.match_available=0,dt.ins_h=0})(b.state),ct}function oe(b,ct,dt,q,U,at){if(!b)return A;var Nt=1;if(ct===w&&(ct=6),q<0?(Nt=0,q=-q):15<q&&(Nt=2,q-=16),U<1||Y<U||dt!==H||q<8||15<q||ct<0||9<ct||at<0||R<at)return Ut(b,A);q===8&&(q=9);var Tt=new xt;return(b.state=Tt).strm=b,Tt.wrap=Nt,Tt.gzhead=null,Tt.w_bits=q,Tt.w_size=1<<Tt.w_bits,Tt.w_mask=Tt.w_size-1,Tt.hash_bits=U+7,Tt.hash_size=1<<Tt.hash_bits,Tt.hash_mask=Tt.hash_size-1,Tt.hash_shift=~~((Tt.hash_bits+tt-1)/tt),Tt.window=new x.Buf8(2*Tt.w_size),Tt.head=new x.Buf16(Tt.hash_size),Tt.prev=new x.Buf16(Tt.w_size),Tt.lit_bufsize=1<<U+6,Tt.pending_buf_size=4*Tt.lit_bufsize,Tt.pending_buf=new x.Buf8(Tt.pending_buf_size),Tt.d_buf=1*Tt.lit_bufsize,Tt.l_buf=3*Tt.lit_bufsize,Tt.level=ct,Tt.strategy=at,Tt.method=dt,Zt(b)}m=[new Rt(0,0,0,0,function(b,ct){var dt=65535;for(dt>b.pending_buf_size-5&&(dt=b.pending_buf_size-5);;){if(b.lookahead<=1){if(te(b),b.lookahead===0&&ct===C)return S;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var q=b.block_start+dt;if((b.strstart===0||b.strstart>=q)&&(b.lookahead=b.strstart-q,b.strstart=q,L(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-Vt&&(L(b,!1),b.strm.avail_out===0))return S}return b.insert=0,ct===O?(L(b,!0),b.strm.avail_out===0?ut:ot):(b.strstart>b.block_start&&(L(b,!1),b.strm.avail_out),S)}),new Rt(4,4,8,4,ue),new Rt(4,5,16,8,ue),new Rt(4,6,32,32,ue),new Rt(4,4,16,16,se),new Rt(8,16,32,32,se),new Rt(8,16,128,128,se),new Rt(8,32,128,256,se),new Rt(32,128,258,1024,se),new Rt(32,258,258,4096,se)],y.deflateInit=function(b,ct){return oe(b,ct,H,15,8,0)},y.deflateInit2=oe,y.deflateReset=Zt,y.deflateResetKeep=Qt,y.deflateSetHeader=function(b,ct){return b&&b.state?b.state.wrap!==2?A:(b.state.gzhead=ct,T):A},y.deflate=function(b,ct){var dt,q,U,at;if(!b||!b.state||5<ct||ct<0)return b?Ut(b,A):A;if(q=b.state,!b.output||!b.input&&b.avail_in!==0||q.status===666&&ct!==O)return Ut(b,b.avail_out===0?-5:A);if(q.strm=b,dt=q.last_flush,q.last_flush=ct,q.status===G)if(q.wrap===2)b.adler=0,Et(q,31),Et(q,139),Et(q,8),q.gzhead?(Et(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),Et(q,255&q.gzhead.time),Et(q,q.gzhead.time>>8&255),Et(q,q.gzhead.time>>16&255),Et(q,q.gzhead.time>>24&255),Et(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),Et(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(Et(q,255&q.gzhead.extra.length),Et(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(b.adler=g(b.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(Et(q,0),Et(q,0),Et(q,0),Et(q,0),Et(q,0),Et(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),Et(q,3),q.status=yt);else{var Nt=H+(q.w_bits-8<<4)<<8;Nt|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(Nt|=32),Nt+=31-Nt%31,q.status=yt,wt(q,Nt),q.strstart!==0&&(wt(q,b.adler>>>16),wt(q,65535&b.adler)),b.adler=1}if(q.status===69)if(q.gzhead.extra){for(U=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>U&&(b.adler=g(b.adler,q.pending_buf,q.pending-U,U)),N(b),U=q.pending,q.pending!==q.pending_buf_size));)Et(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>U&&(b.adler=g(b.adler,q.pending_buf,q.pending-U,U)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){U=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>U&&(b.adler=g(b.adler,q.pending_buf,q.pending-U,U)),N(b),U=q.pending,q.pending===q.pending_buf_size)){at=1;break}at=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,Et(q,at)}while(at!==0);q.gzhead.hcrc&&q.pending>U&&(b.adler=g(b.adler,q.pending_buf,q.pending-U,U)),at===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){U=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>U&&(b.adler=g(b.adler,q.pending_buf,q.pending-U,U)),N(b),U=q.pending,q.pending===q.pending_buf_size)){at=1;break}at=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,Et(q,at)}while(at!==0);q.gzhead.hcrc&&q.pending>U&&(b.adler=g(b.adler,q.pending_buf,q.pending-U,U)),at===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&N(b),q.pending+2<=q.pending_buf_size&&(Et(q,255&b.adler),Et(q,b.adler>>8&255),b.adler=0,q.status=yt)):q.status=yt),q.pending!==0){if(N(b),b.avail_out===0)return q.last_flush=-1,T}else if(b.avail_in===0&&jt(ct)<=jt(dt)&&ct!==O)return Ut(b,-5);if(q.status===666&&b.avail_in!==0)return Ut(b,-5);if(b.avail_in!==0||q.lookahead!==0||ct!==C&&q.status!==666){var Tt=q.strategy===2?(function(ft,Bt){for(var Xt;;){if(ft.lookahead===0&&(te(ft),ft.lookahead===0)){if(Bt===C)return S;break}if(ft.match_length=0,Xt=p._tr_tally(ft,0,ft.window[ft.strstart]),ft.lookahead--,ft.strstart++,Xt&&(L(ft,!1),ft.strm.avail_out===0))return S}return ft.insert=0,Bt===O?(L(ft,!0),ft.strm.avail_out===0?ut:ot):ft.last_lit&&(L(ft,!1),ft.strm.avail_out===0)?S:St})(q,ct):q.strategy===3?(function(ft,Bt){for(var Xt,Kt,ae,xe,me=ft.window;;){if(ft.lookahead<=Ct){if(te(ft),ft.lookahead<=Ct&&Bt===C)return S;if(ft.lookahead===0)break}if(ft.match_length=0,ft.lookahead>=tt&&0<ft.strstart&&(Kt=me[ae=ft.strstart-1])===me[++ae]&&Kt===me[++ae]&&Kt===me[++ae]){xe=ft.strstart+Ct;do;while(Kt===me[++ae]&&Kt===me[++ae]&&Kt===me[++ae]&&Kt===me[++ae]&&Kt===me[++ae]&&Kt===me[++ae]&&Kt===me[++ae]&&Kt===me[++ae]&&ae<xe);ft.match_length=Ct-(xe-ae),ft.match_length>ft.lookahead&&(ft.match_length=ft.lookahead)}if(ft.match_length>=tt?(Xt=p._tr_tally(ft,1,ft.match_length-tt),ft.lookahead-=ft.match_length,ft.strstart+=ft.match_length,ft.match_length=0):(Xt=p._tr_tally(ft,0,ft.window[ft.strstart]),ft.lookahead--,ft.strstart++),Xt&&(L(ft,!1),ft.strm.avail_out===0))return S}return ft.insert=0,Bt===O?(L(ft,!0),ft.strm.avail_out===0?ut:ot):ft.last_lit&&(L(ft,!1),ft.strm.avail_out===0)?S:St})(q,ct):m[q.level].func(q,ct);if(Tt!==ut&&Tt!==ot||(q.status=666),Tt===S||Tt===ut)return b.avail_out===0&&(q.last_flush=-1),T;if(Tt===St&&(ct===1?p._tr_align(q):ct!==5&&(p._tr_stored_block(q,0,0,!1),ct===3&&(Ht(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),N(b),b.avail_out===0))return q.last_flush=-1,T}return ct!==O?T:q.wrap<=0?1:(q.wrap===2?(Et(q,255&b.adler),Et(q,b.adler>>8&255),Et(q,b.adler>>16&255),Et(q,b.adler>>24&255),Et(q,255&b.total_in),Et(q,b.total_in>>8&255),Et(q,b.total_in>>16&255),Et(q,b.total_in>>24&255)):(wt(q,b.adler>>>16),wt(q,65535&b.adler)),N(b),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?T:1)},y.deflateEnd=function(b){var ct;return b&&b.state?(ct=b.state.status)!==G&&ct!==69&&ct!==73&&ct!==91&&ct!==103&&ct!==yt&&ct!==666?Ut(b,A):(b.state=null,ct===yt?Ut(b,-3):T):A},y.deflateSetDictionary=function(b,ct){var dt,q,U,at,Nt,Tt,ft,Bt,Xt=ct.length;if(!b||!b.state||(at=(dt=b.state).wrap)===2||at===1&&dt.status!==G||dt.lookahead)return A;for(at===1&&(b.adler=v(b.adler,ct,Xt,0)),dt.wrap=0,Xt>=dt.w_size&&(at===0&&(Ht(dt.head),dt.strstart=0,dt.block_start=0,dt.insert=0),Bt=new x.Buf8(dt.w_size),x.arraySet(Bt,ct,Xt-dt.w_size,dt.w_size,0),ct=Bt,Xt=dt.w_size),Nt=b.avail_in,Tt=b.next_in,ft=b.input,b.avail_in=Xt,b.next_in=0,b.input=ct,te(dt);dt.lookahead>=tt;){for(q=dt.strstart,U=dt.lookahead-(tt-1);dt.ins_h=(dt.ins_h<<dt.hash_shift^dt.window[q+tt-1])&dt.hash_mask,dt.prev[q&dt.w_mask]=dt.head[dt.ins_h],dt.head[dt.ins_h]=q,q++,--U;);dt.strstart=q,dt.lookahead=tt-1,te(dt)}return dt.strstart+=dt.lookahead,dt.block_start=dt.strstart,dt.insert=dt.lookahead,dt.lookahead=0,dt.match_length=dt.prev_length=tt-1,dt.match_available=0,b.next_in=Tt,b.input=ft,b.avail_in=Nt,dt.wrap=at,T},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,c,y){c.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,c,y){c.exports=function(m,x){var p,v,g,k,C,O,T,A,w,R,D,H,Y,J,I,Z,X,mt,tt,Ct,Vt,G,yt,S,St;p=m.state,v=m.next_in,S=m.input,g=v+(m.avail_in-5),k=m.next_out,St=m.output,C=k-(x-m.avail_out),O=k+(m.avail_out-257),T=p.dmax,A=p.wsize,w=p.whave,R=p.wnext,D=p.window,H=p.hold,Y=p.bits,J=p.lencode,I=p.distcode,Z=(1<<p.lenbits)-1,X=(1<<p.distbits)-1;t:do{Y<15&&(H+=S[v++]<<Y,Y+=8,H+=S[v++]<<Y,Y+=8),mt=J[H&Z];e:for(;;){if(H>>>=tt=mt>>>24,Y-=tt,(tt=mt>>>16&255)===0)St[k++]=65535&mt;else{if(!(16&tt)){if((64&tt)==0){mt=J[(65535&mt)+(H&(1<<tt)-1)];continue e}if(32&tt){p.mode=12;break t}m.msg="invalid literal/length code",p.mode=30;break t}Ct=65535&mt,(tt&=15)&&(Y<tt&&(H+=S[v++]<<Y,Y+=8),Ct+=H&(1<<tt)-1,H>>>=tt,Y-=tt),Y<15&&(H+=S[v++]<<Y,Y+=8,H+=S[v++]<<Y,Y+=8),mt=I[H&X];n:for(;;){if(H>>>=tt=mt>>>24,Y-=tt,!(16&(tt=mt>>>16&255))){if((64&tt)==0){mt=I[(65535&mt)+(H&(1<<tt)-1)];continue n}m.msg="invalid distance code",p.mode=30;break t}if(Vt=65535&mt,Y<(tt&=15)&&(H+=S[v++]<<Y,(Y+=8)<tt&&(H+=S[v++]<<Y,Y+=8)),T<(Vt+=H&(1<<tt)-1)){m.msg="invalid distance too far back",p.mode=30;break t}if(H>>>=tt,Y-=tt,(tt=k-C)<Vt){if(w<(tt=Vt-tt)&&p.sane){m.msg="invalid distance too far back",p.mode=30;break t}if(yt=D,(G=0)===R){if(G+=A-tt,tt<Ct){for(Ct-=tt;St[k++]=D[G++],--tt;);G=k-Vt,yt=St}}else if(R<tt){if(G+=A+R-tt,(tt-=R)<Ct){for(Ct-=tt;St[k++]=D[G++],--tt;);if(G=0,R<Ct){for(Ct-=tt=R;St[k++]=D[G++],--tt;);G=k-Vt,yt=St}}}else if(G+=R-tt,tt<Ct){for(Ct-=tt;St[k++]=D[G++],--tt;);G=k-Vt,yt=St}for(;2<Ct;)St[k++]=yt[G++],St[k++]=yt[G++],St[k++]=yt[G++],Ct-=3;Ct&&(St[k++]=yt[G++],1<Ct&&(St[k++]=yt[G++]))}else{for(G=k-Vt;St[k++]=St[G++],St[k++]=St[G++],St[k++]=St[G++],2<(Ct-=3););Ct&&(St[k++]=St[G++],1<Ct&&(St[k++]=St[G++]))}break}}break}}while(v<g&&k<O);v-=Ct=Y>>3,H&=(1<<(Y-=Ct<<3))-1,m.next_in=v,m.next_out=k,m.avail_in=v<g?g-v+5:5-(v-g),m.avail_out=k<O?O-k+257:257-(k-O),p.hold=H,p.bits=Y}},{}],49:[function(o,c,y){var m=o("../utils/common"),x=o("./adler32"),p=o("./crc32"),v=o("./inffast"),g=o("./inftrees"),k=1,C=2,O=0,T=-2,A=1,w=852,R=592;function D(G){return(G>>>24&255)+(G>>>8&65280)+((65280&G)<<8)+((255&G)<<24)}function H(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Y(G){var yt;return G&&G.state?(yt=G.state,G.total_in=G.total_out=yt.total=0,G.msg="",yt.wrap&&(G.adler=1&yt.wrap),yt.mode=A,yt.last=0,yt.havedict=0,yt.dmax=32768,yt.head=null,yt.hold=0,yt.bits=0,yt.lencode=yt.lendyn=new m.Buf32(w),yt.distcode=yt.distdyn=new m.Buf32(R),yt.sane=1,yt.back=-1,O):T}function J(G){var yt;return G&&G.state?((yt=G.state).wsize=0,yt.whave=0,yt.wnext=0,Y(G)):T}function I(G,yt){var S,St;return G&&G.state?(St=G.state,yt<0?(S=0,yt=-yt):(S=1+(yt>>4),yt<48&&(yt&=15)),yt&&(yt<8||15<yt)?T:(St.window!==null&&St.wbits!==yt&&(St.window=null),St.wrap=S,St.wbits=yt,J(G))):T}function Z(G,yt){var S,St;return G?(St=new H,(G.state=St).window=null,(S=I(G,yt))!==O&&(G.state=null),S):T}var X,mt,tt=!0;function Ct(G){if(tt){var yt;for(X=new m.Buf32(512),mt=new m.Buf32(32),yt=0;yt<144;)G.lens[yt++]=8;for(;yt<256;)G.lens[yt++]=9;for(;yt<280;)G.lens[yt++]=7;for(;yt<288;)G.lens[yt++]=8;for(g(k,G.lens,0,288,X,0,G.work,{bits:9}),yt=0;yt<32;)G.lens[yt++]=5;g(C,G.lens,0,32,mt,0,G.work,{bits:5}),tt=!1}G.lencode=X,G.lenbits=9,G.distcode=mt,G.distbits=5}function Vt(G,yt,S,St){var ut,ot=G.state;return ot.window===null&&(ot.wsize=1<<ot.wbits,ot.wnext=0,ot.whave=0,ot.window=new m.Buf8(ot.wsize)),St>=ot.wsize?(m.arraySet(ot.window,yt,S-ot.wsize,ot.wsize,0),ot.wnext=0,ot.whave=ot.wsize):(St<(ut=ot.wsize-ot.wnext)&&(ut=St),m.arraySet(ot.window,yt,S-St,ut,ot.wnext),(St-=ut)?(m.arraySet(ot.window,yt,S-St,St,0),ot.wnext=St,ot.whave=ot.wsize):(ot.wnext+=ut,ot.wnext===ot.wsize&&(ot.wnext=0),ot.whave<ot.wsize&&(ot.whave+=ut))),0}y.inflateReset=J,y.inflateReset2=I,y.inflateResetKeep=Y,y.inflateInit=function(G){return Z(G,15)},y.inflateInit2=Z,y.inflate=function(G,yt){var S,St,ut,ot,Ut,jt,Ht,N,L,Et,wt,At,te,ue,se,Rt,xt,Qt,Zt,oe,b,ct,dt,q,U=0,at=new m.Buf8(4),Nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return T;(S=G.state).mode===12&&(S.mode=13),Ut=G.next_out,ut=G.output,Ht=G.avail_out,ot=G.next_in,St=G.input,jt=G.avail_in,N=S.hold,L=S.bits,Et=jt,wt=Ht,ct=O;t:for(;;)switch(S.mode){case A:if(S.wrap===0){S.mode=13;break}for(;L<16;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if(2&S.wrap&&N===35615){at[S.check=0]=255&N,at[1]=N>>>8&255,S.check=p(S.check,at,2,0),L=N=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&N)<<8)+(N>>8))%31){G.msg="incorrect header check",S.mode=30;break}if((15&N)!=8){G.msg="unknown compression method",S.mode=30;break}if(L-=4,b=8+(15&(N>>>=4)),S.wbits===0)S.wbits=b;else if(b>S.wbits){G.msg="invalid window size",S.mode=30;break}S.dmax=1<<b,G.adler=S.check=1,S.mode=512&N?10:12,L=N=0;break;case 2:for(;L<16;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if(S.flags=N,(255&S.flags)!=8){G.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){G.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=N>>8&1),512&S.flags&&(at[0]=255&N,at[1]=N>>>8&255,S.check=p(S.check,at,2,0)),L=N=0,S.mode=3;case 3:for(;L<32;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}S.head&&(S.head.time=N),512&S.flags&&(at[0]=255&N,at[1]=N>>>8&255,at[2]=N>>>16&255,at[3]=N>>>24&255,S.check=p(S.check,at,4,0)),L=N=0,S.mode=4;case 4:for(;L<16;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}S.head&&(S.head.xflags=255&N,S.head.os=N>>8),512&S.flags&&(at[0]=255&N,at[1]=N>>>8&255,S.check=p(S.check,at,2,0)),L=N=0,S.mode=5;case 5:if(1024&S.flags){for(;L<16;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}S.length=N,S.head&&(S.head.extra_len=N),512&S.flags&&(at[0]=255&N,at[1]=N>>>8&255,S.check=p(S.check,at,2,0)),L=N=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(jt<(At=S.length)&&(At=jt),At&&(S.head&&(b=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),m.arraySet(S.head.extra,St,ot,At,b)),512&S.flags&&(S.check=p(S.check,St,At,ot)),jt-=At,ot+=At,S.length-=At),S.length))break t;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(jt===0)break t;for(At=0;b=St[ot+At++],S.head&&b&&S.length<65536&&(S.head.name+=String.fromCharCode(b)),b&&At<jt;);if(512&S.flags&&(S.check=p(S.check,St,At,ot)),jt-=At,ot+=At,b)break t}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(jt===0)break t;for(At=0;b=St[ot+At++],S.head&&b&&S.length<65536&&(S.head.comment+=String.fromCharCode(b)),b&&At<jt;);if(512&S.flags&&(S.check=p(S.check,St,At,ot)),jt-=At,ot+=At,b)break t}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;L<16;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if(N!==(65535&S.check)){G.msg="header crc mismatch",S.mode=30;break}L=N=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),G.adler=S.check=0,S.mode=12;break;case 10:for(;L<32;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}G.adler=S.check=D(N),L=N=0,S.mode=11;case 11:if(S.havedict===0)return G.next_out=Ut,G.avail_out=Ht,G.next_in=ot,G.avail_in=jt,S.hold=N,S.bits=L,2;G.adler=S.check=1,S.mode=12;case 12:if(yt===5||yt===6)break t;case 13:if(S.last){N>>>=7&L,L-=7&L,S.mode=27;break}for(;L<3;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}switch(S.last=1&N,L-=1,3&(N>>>=1)){case 0:S.mode=14;break;case 1:if(Ct(S),S.mode=20,yt!==6)break;N>>>=2,L-=2;break t;case 2:S.mode=17;break;case 3:G.msg="invalid block type",S.mode=30}N>>>=2,L-=2;break;case 14:for(N>>>=7&L,L-=7&L;L<32;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if((65535&N)!=(N>>>16^65535)){G.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&N,L=N=0,S.mode=15,yt===6)break t;case 15:S.mode=16;case 16:if(At=S.length){if(jt<At&&(At=jt),Ht<At&&(At=Ht),At===0)break t;m.arraySet(ut,St,ot,At,Ut),jt-=At,ot+=At,Ht-=At,Ut+=At,S.length-=At;break}S.mode=12;break;case 17:for(;L<14;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if(S.nlen=257+(31&N),N>>>=5,L-=5,S.ndist=1+(31&N),N>>>=5,L-=5,S.ncode=4+(15&N),N>>>=4,L-=4,286<S.nlen||30<S.ndist){G.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;L<3;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}S.lens[Nt[S.have++]]=7&N,N>>>=3,L-=3}for(;S.have<19;)S.lens[Nt[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,dt={bits:S.lenbits},ct=g(0,S.lens,0,19,S.lencode,0,S.work,dt),S.lenbits=dt.bits,ct){G.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;Rt=(U=S.lencode[N&(1<<S.lenbits)-1])>>>16&255,xt=65535&U,!((se=U>>>24)<=L);){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if(xt<16)N>>>=se,L-=se,S.lens[S.have++]=xt;else{if(xt===16){for(q=se+2;L<q;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if(N>>>=se,L-=se,S.have===0){G.msg="invalid bit length repeat",S.mode=30;break}b=S.lens[S.have-1],At=3+(3&N),N>>>=2,L-=2}else if(xt===17){for(q=se+3;L<q;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}L-=se,b=0,At=3+(7&(N>>>=se)),N>>>=3,L-=3}else{for(q=se+7;L<q;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}L-=se,b=0,At=11+(127&(N>>>=se)),N>>>=7,L-=7}if(S.have+At>S.nlen+S.ndist){G.msg="invalid bit length repeat",S.mode=30;break}for(;At--;)S.lens[S.have++]=b}}if(S.mode===30)break;if(S.lens[256]===0){G.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,dt={bits:S.lenbits},ct=g(k,S.lens,0,S.nlen,S.lencode,0,S.work,dt),S.lenbits=dt.bits,ct){G.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,dt={bits:S.distbits},ct=g(C,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,dt),S.distbits=dt.bits,ct){G.msg="invalid distances set",S.mode=30;break}if(S.mode=20,yt===6)break t;case 20:S.mode=21;case 21:if(6<=jt&&258<=Ht){G.next_out=Ut,G.avail_out=Ht,G.next_in=ot,G.avail_in=jt,S.hold=N,S.bits=L,v(G,wt),Ut=G.next_out,ut=G.output,Ht=G.avail_out,ot=G.next_in,St=G.input,jt=G.avail_in,N=S.hold,L=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;Rt=(U=S.lencode[N&(1<<S.lenbits)-1])>>>16&255,xt=65535&U,!((se=U>>>24)<=L);){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if(Rt&&(240&Rt)==0){for(Qt=se,Zt=Rt,oe=xt;Rt=(U=S.lencode[oe+((N&(1<<Qt+Zt)-1)>>Qt)])>>>16&255,xt=65535&U,!(Qt+(se=U>>>24)<=L);){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}N>>>=Qt,L-=Qt,S.back+=Qt}if(N>>>=se,L-=se,S.back+=se,S.length=xt,Rt===0){S.mode=26;break}if(32&Rt){S.back=-1,S.mode=12;break}if(64&Rt){G.msg="invalid literal/length code",S.mode=30;break}S.extra=15&Rt,S.mode=22;case 22:if(S.extra){for(q=S.extra;L<q;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}S.length+=N&(1<<S.extra)-1,N>>>=S.extra,L-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;Rt=(U=S.distcode[N&(1<<S.distbits)-1])>>>16&255,xt=65535&U,!((se=U>>>24)<=L);){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if((240&Rt)==0){for(Qt=se,Zt=Rt,oe=xt;Rt=(U=S.distcode[oe+((N&(1<<Qt+Zt)-1)>>Qt)])>>>16&255,xt=65535&U,!(Qt+(se=U>>>24)<=L);){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}N>>>=Qt,L-=Qt,S.back+=Qt}if(N>>>=se,L-=se,S.back+=se,64&Rt){G.msg="invalid distance code",S.mode=30;break}S.offset=xt,S.extra=15&Rt,S.mode=24;case 24:if(S.extra){for(q=S.extra;L<q;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}S.offset+=N&(1<<S.extra)-1,N>>>=S.extra,L-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){G.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Ht===0)break t;if(At=wt-Ht,S.offset>At){if((At=S.offset-At)>S.whave&&S.sane){G.msg="invalid distance too far back",S.mode=30;break}te=At>S.wnext?(At-=S.wnext,S.wsize-At):S.wnext-At,At>S.length&&(At=S.length),ue=S.window}else ue=ut,te=Ut-S.offset,At=S.length;for(Ht<At&&(At=Ht),Ht-=At,S.length-=At;ut[Ut++]=ue[te++],--At;);S.length===0&&(S.mode=21);break;case 26:if(Ht===0)break t;ut[Ut++]=S.length,Ht--,S.mode=21;break;case 27:if(S.wrap){for(;L<32;){if(jt===0)break t;jt--,N|=St[ot++]<<L,L+=8}if(wt-=Ht,G.total_out+=wt,S.total+=wt,wt&&(G.adler=S.check=S.flags?p(S.check,ut,wt,Ut-wt):x(S.check,ut,wt,Ut-wt)),wt=Ht,(S.flags?N:D(N))!==S.check){G.msg="incorrect data check",S.mode=30;break}L=N=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;L<32;){if(jt===0)break t;jt--,N+=St[ot++]<<L,L+=8}if(N!==(4294967295&S.total)){G.msg="incorrect length check",S.mode=30;break}L=N=0}S.mode=29;case 29:ct=1;break t;case 30:ct=-3;break t;case 31:return-4;default:return T}return G.next_out=Ut,G.avail_out=Ht,G.next_in=ot,G.avail_in=jt,S.hold=N,S.bits=L,(S.wsize||wt!==G.avail_out&&S.mode<30&&(S.mode<27||yt!==4))&&Vt(G,G.output,G.next_out,wt-G.avail_out)?(S.mode=31,-4):(Et-=G.avail_in,wt-=G.avail_out,G.total_in+=Et,G.total_out+=wt,S.total+=wt,S.wrap&&wt&&(G.adler=S.check=S.flags?p(S.check,ut,wt,G.next_out-wt):x(S.check,ut,wt,G.next_out-wt)),G.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(Et==0&&wt===0||yt===4)&&ct===O&&(ct=-5),ct)},y.inflateEnd=function(G){if(!G||!G.state)return T;var yt=G.state;return yt.window&&(yt.window=null),G.state=null,O},y.inflateGetHeader=function(G,yt){var S;return G&&G.state?(2&(S=G.state).wrap)==0?T:((S.head=yt).done=!1,O):T},y.inflateSetDictionary=function(G,yt){var S,St=yt.length;return G&&G.state?(S=G.state).wrap!==0&&S.mode!==11?T:S.mode===11&&x(1,yt,St,0)!==S.check?-3:Vt(G,yt,St,St)?(S.mode=31,-4):(S.havedict=1,O):T},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,c,y){var m=o("../utils/common"),x=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(k,C,O,T,A,w,R,D){var H,Y,J,I,Z,X,mt,tt,Ct,Vt=D.bits,G=0,yt=0,S=0,St=0,ut=0,ot=0,Ut=0,jt=0,Ht=0,N=0,L=null,Et=0,wt=new m.Buf16(16),At=new m.Buf16(16),te=null,ue=0;for(G=0;G<=15;G++)wt[G]=0;for(yt=0;yt<T;yt++)wt[C[O+yt]]++;for(ut=Vt,St=15;1<=St&&wt[St]===0;St--);if(St<ut&&(ut=St),St===0)return A[w++]=20971520,A[w++]=20971520,D.bits=1,0;for(S=1;S<St&&wt[S]===0;S++);for(ut<S&&(ut=S),G=jt=1;G<=15;G++)if(jt<<=1,(jt-=wt[G])<0)return-1;if(0<jt&&(k===0||St!==1))return-1;for(At[1]=0,G=1;G<15;G++)At[G+1]=At[G]+wt[G];for(yt=0;yt<T;yt++)C[O+yt]!==0&&(R[At[C[O+yt]]++]=yt);if(X=k===0?(L=te=R,19):k===1?(L=x,Et-=257,te=p,ue-=257,256):(L=v,te=g,-1),G=S,Z=w,Ut=yt=N=0,J=-1,I=(Ht=1<<(ot=ut))-1,k===1&&852<Ht||k===2&&592<Ht)return 1;for(;;){for(mt=G-Ut,Ct=R[yt]<X?(tt=0,R[yt]):R[yt]>X?(tt=te[ue+R[yt]],L[Et+R[yt]]):(tt=96,0),H=1<<G-Ut,S=Y=1<<ot;A[Z+(N>>Ut)+(Y-=H)]=mt<<24|tt<<16|Ct|0,Y!==0;);for(H=1<<G-1;N&H;)H>>=1;if(H!==0?(N&=H-1,N+=H):N=0,yt++,--wt[G]==0){if(G===St)break;G=C[O+R[yt]]}if(ut<G&&(N&I)!==J){for(Ut===0&&(Ut=ut),Z+=S,jt=1<<(ot=G-Ut);ot+Ut<St&&!((jt-=wt[ot+Ut])<=0);)ot++,jt<<=1;if(Ht+=1<<ot,k===1&&852<Ht||k===2&&592<Ht)return 1;A[J=N&I]=ut<<24|ot<<16|Z-w|0}}return N!==0&&(A[Z+N]=G-Ut<<24|64<<16|0),D.bits=ut,0}},{"../utils/common":41}],51:[function(o,c,y){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,c,y){var m=o("../utils/common"),x=0,p=1;function v(U){for(var at=U.length;0<=--at;)U[at]=0}var g=0,k=29,C=256,O=C+1+k,T=30,A=19,w=2*O+1,R=15,D=16,H=7,Y=256,J=16,I=17,Z=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],mt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Vt=new Array(2*(O+2));v(Vt);var G=new Array(2*T);v(G);var yt=new Array(512);v(yt);var S=new Array(256);v(S);var St=new Array(k);v(St);var ut,ot,Ut,jt=new Array(T);function Ht(U,at,Nt,Tt,ft){this.static_tree=U,this.extra_bits=at,this.extra_base=Nt,this.elems=Tt,this.max_length=ft,this.has_stree=U&&U.length}function N(U,at){this.dyn_tree=U,this.max_code=0,this.stat_desc=at}function L(U){return U<256?yt[U]:yt[256+(U>>>7)]}function Et(U,at){U.pending_buf[U.pending++]=255&at,U.pending_buf[U.pending++]=at>>>8&255}function wt(U,at,Nt){U.bi_valid>D-Nt?(U.bi_buf|=at<<U.bi_valid&65535,Et(U,U.bi_buf),U.bi_buf=at>>D-U.bi_valid,U.bi_valid+=Nt-D):(U.bi_buf|=at<<U.bi_valid&65535,U.bi_valid+=Nt)}function At(U,at,Nt){wt(U,Nt[2*at],Nt[2*at+1])}function te(U,at){for(var Nt=0;Nt|=1&U,U>>>=1,Nt<<=1,0<--at;);return Nt>>>1}function ue(U,at,Nt){var Tt,ft,Bt=new Array(R+1),Xt=0;for(Tt=1;Tt<=R;Tt++)Bt[Tt]=Xt=Xt+Nt[Tt-1]<<1;for(ft=0;ft<=at;ft++){var Kt=U[2*ft+1];Kt!==0&&(U[2*ft]=te(Bt[Kt]++,Kt))}}function se(U){var at;for(at=0;at<O;at++)U.dyn_ltree[2*at]=0;for(at=0;at<T;at++)U.dyn_dtree[2*at]=0;for(at=0;at<A;at++)U.bl_tree[2*at]=0;U.dyn_ltree[2*Y]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function Rt(U){8<U.bi_valid?Et(U,U.bi_buf):0<U.bi_valid&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function xt(U,at,Nt,Tt){var ft=2*at,Bt=2*Nt;return U[ft]<U[Bt]||U[ft]===U[Bt]&&Tt[at]<=Tt[Nt]}function Qt(U,at,Nt){for(var Tt=U.heap[Nt],ft=Nt<<1;ft<=U.heap_len&&(ft<U.heap_len&&xt(at,U.heap[ft+1],U.heap[ft],U.depth)&&ft++,!xt(at,Tt,U.heap[ft],U.depth));)U.heap[Nt]=U.heap[ft],Nt=ft,ft<<=1;U.heap[Nt]=Tt}function Zt(U,at,Nt){var Tt,ft,Bt,Xt,Kt=0;if(U.last_lit!==0)for(;Tt=U.pending_buf[U.d_buf+2*Kt]<<8|U.pending_buf[U.d_buf+2*Kt+1],ft=U.pending_buf[U.l_buf+Kt],Kt++,Tt===0?At(U,ft,at):(At(U,(Bt=S[ft])+C+1,at),(Xt=X[Bt])!==0&&wt(U,ft-=St[Bt],Xt),At(U,Bt=L(--Tt),Nt),(Xt=mt[Bt])!==0&&wt(U,Tt-=jt[Bt],Xt)),Kt<U.last_lit;);At(U,Y,at)}function oe(U,at){var Nt,Tt,ft,Bt=at.dyn_tree,Xt=at.stat_desc.static_tree,Kt=at.stat_desc.has_stree,ae=at.stat_desc.elems,xe=-1;for(U.heap_len=0,U.heap_max=w,Nt=0;Nt<ae;Nt++)Bt[2*Nt]!==0?(U.heap[++U.heap_len]=xe=Nt,U.depth[Nt]=0):Bt[2*Nt+1]=0;for(;U.heap_len<2;)Bt[2*(ft=U.heap[++U.heap_len]=xe<2?++xe:0)]=1,U.depth[ft]=0,U.opt_len--,Kt&&(U.static_len-=Xt[2*ft+1]);for(at.max_code=xe,Nt=U.heap_len>>1;1<=Nt;Nt--)Qt(U,Bt,Nt);for(ft=ae;Nt=U.heap[1],U.heap[1]=U.heap[U.heap_len--],Qt(U,Bt,1),Tt=U.heap[1],U.heap[--U.heap_max]=Nt,U.heap[--U.heap_max]=Tt,Bt[2*ft]=Bt[2*Nt]+Bt[2*Tt],U.depth[ft]=(U.depth[Nt]>=U.depth[Tt]?U.depth[Nt]:U.depth[Tt])+1,Bt[2*Nt+1]=Bt[2*Tt+1]=ft,U.heap[1]=ft++,Qt(U,Bt,1),2<=U.heap_len;);U.heap[--U.heap_max]=U.heap[1],(function(me,an){var $n,yn,An,je,Qe,Ie,Jt=an.dyn_tree,_a=an.max_code,da=an.stat_desc.static_tree,ci=an.stat_desc.has_stree,It=an.stat_desc.extra_bits,ma=an.stat_desc.extra_base,Zn=an.stat_desc.max_length,En=0;for(je=0;je<=R;je++)me.bl_count[je]=0;for(Jt[2*me.heap[me.heap_max]+1]=0,$n=me.heap_max+1;$n<w;$n++)Zn<(je=Jt[2*Jt[2*(yn=me.heap[$n])+1]+1]+1)&&(je=Zn,En++),Jt[2*yn+1]=je,_a<yn||(me.bl_count[je]++,Qe=0,ma<=yn&&(Qe=It[yn-ma]),Ie=Jt[2*yn],me.opt_len+=Ie*(je+Qe),ci&&(me.static_len+=Ie*(da[2*yn+1]+Qe)));if(En!==0){do{for(je=Zn-1;me.bl_count[je]===0;)je--;me.bl_count[je]--,me.bl_count[je+1]+=2,me.bl_count[Zn]--,En-=2}while(0<En);for(je=Zn;je!==0;je--)for(yn=me.bl_count[je];yn!==0;)_a<(An=me.heap[--$n])||(Jt[2*An+1]!==je&&(me.opt_len+=(je-Jt[2*An+1])*Jt[2*An],Jt[2*An+1]=je),yn--)}})(U,at),ue(Bt,xe,U.bl_count)}function b(U,at,Nt){var Tt,ft,Bt=-1,Xt=at[1],Kt=0,ae=7,xe=4;for(Xt===0&&(ae=138,xe=3),at[2*(Nt+1)+1]=65535,Tt=0;Tt<=Nt;Tt++)ft=Xt,Xt=at[2*(Tt+1)+1],++Kt<ae&&ft===Xt||(Kt<xe?U.bl_tree[2*ft]+=Kt:ft!==0?(ft!==Bt&&U.bl_tree[2*ft]++,U.bl_tree[2*J]++):Kt<=10?U.bl_tree[2*I]++:U.bl_tree[2*Z]++,Bt=ft,xe=(Kt=0)===Xt?(ae=138,3):ft===Xt?(ae=6,3):(ae=7,4))}function ct(U,at,Nt){var Tt,ft,Bt=-1,Xt=at[1],Kt=0,ae=7,xe=4;for(Xt===0&&(ae=138,xe=3),Tt=0;Tt<=Nt;Tt++)if(ft=Xt,Xt=at[2*(Tt+1)+1],!(++Kt<ae&&ft===Xt)){if(Kt<xe)for(;At(U,ft,U.bl_tree),--Kt!=0;);else ft!==0?(ft!==Bt&&(At(U,ft,U.bl_tree),Kt--),At(U,J,U.bl_tree),wt(U,Kt-3,2)):Kt<=10?(At(U,I,U.bl_tree),wt(U,Kt-3,3)):(At(U,Z,U.bl_tree),wt(U,Kt-11,7));Bt=ft,xe=(Kt=0)===Xt?(ae=138,3):ft===Xt?(ae=6,3):(ae=7,4)}}v(jt);var dt=!1;function q(U,at,Nt,Tt){wt(U,(g<<1)+(Tt?1:0),3),(function(ft,Bt,Xt,Kt){Rt(ft),Et(ft,Xt),Et(ft,~Xt),m.arraySet(ft.pending_buf,ft.window,Bt,Xt,ft.pending),ft.pending+=Xt})(U,at,Nt)}y._tr_init=function(U){dt||((function(){var at,Nt,Tt,ft,Bt,Xt=new Array(R+1);for(ft=Tt=0;ft<k-1;ft++)for(St[ft]=Tt,at=0;at<1<<X[ft];at++)S[Tt++]=ft;for(S[Tt-1]=ft,ft=Bt=0;ft<16;ft++)for(jt[ft]=Bt,at=0;at<1<<mt[ft];at++)yt[Bt++]=ft;for(Bt>>=7;ft<T;ft++)for(jt[ft]=Bt<<7,at=0;at<1<<mt[ft]-7;at++)yt[256+Bt++]=ft;for(Nt=0;Nt<=R;Nt++)Xt[Nt]=0;for(at=0;at<=143;)Vt[2*at+1]=8,at++,Xt[8]++;for(;at<=255;)Vt[2*at+1]=9,at++,Xt[9]++;for(;at<=279;)Vt[2*at+1]=7,at++,Xt[7]++;for(;at<=287;)Vt[2*at+1]=8,at++,Xt[8]++;for(ue(Vt,O+1,Xt),at=0;at<T;at++)G[2*at+1]=5,G[2*at]=te(at,5);ut=new Ht(Vt,X,C+1,O,R),ot=new Ht(G,mt,0,T,R),Ut=new Ht(new Array(0),tt,0,A,H)})(),dt=!0),U.l_desc=new N(U.dyn_ltree,ut),U.d_desc=new N(U.dyn_dtree,ot),U.bl_desc=new N(U.bl_tree,Ut),U.bi_buf=0,U.bi_valid=0,se(U)},y._tr_stored_block=q,y._tr_flush_block=function(U,at,Nt,Tt){var ft,Bt,Xt=0;0<U.level?(U.strm.data_type===2&&(U.strm.data_type=(function(Kt){var ae,xe=4093624447;for(ae=0;ae<=31;ae++,xe>>>=1)if(1&xe&&Kt.dyn_ltree[2*ae]!==0)return x;if(Kt.dyn_ltree[18]!==0||Kt.dyn_ltree[20]!==0||Kt.dyn_ltree[26]!==0)return p;for(ae=32;ae<C;ae++)if(Kt.dyn_ltree[2*ae]!==0)return p;return x})(U)),oe(U,U.l_desc),oe(U,U.d_desc),Xt=(function(Kt){var ae;for(b(Kt,Kt.dyn_ltree,Kt.l_desc.max_code),b(Kt,Kt.dyn_dtree,Kt.d_desc.max_code),oe(Kt,Kt.bl_desc),ae=A-1;3<=ae&&Kt.bl_tree[2*Ct[ae]+1]===0;ae--);return Kt.opt_len+=3*(ae+1)+5+5+4,ae})(U),ft=U.opt_len+3+7>>>3,(Bt=U.static_len+3+7>>>3)<=ft&&(ft=Bt)):ft=Bt=Nt+5,Nt+4<=ft&&at!==-1?q(U,at,Nt,Tt):U.strategy===4||Bt===ft?(wt(U,2+(Tt?1:0),3),Zt(U,Vt,G)):(wt(U,4+(Tt?1:0),3),(function(Kt,ae,xe,me){var an;for(wt(Kt,ae-257,5),wt(Kt,xe-1,5),wt(Kt,me-4,4),an=0;an<me;an++)wt(Kt,Kt.bl_tree[2*Ct[an]+1],3);ct(Kt,Kt.dyn_ltree,ae-1),ct(Kt,Kt.dyn_dtree,xe-1)})(U,U.l_desc.max_code+1,U.d_desc.max_code+1,Xt+1),Zt(U,U.dyn_ltree,U.dyn_dtree)),se(U),Tt&&Rt(U)},y._tr_tally=function(U,at,Nt){return U.pending_buf[U.d_buf+2*U.last_lit]=at>>>8&255,U.pending_buf[U.d_buf+2*U.last_lit+1]=255&at,U.pending_buf[U.l_buf+U.last_lit]=255&Nt,U.last_lit++,at===0?U.dyn_ltree[2*Nt]++:(U.matches++,at--,U.dyn_ltree[2*(S[Nt]+C+1)]++,U.dyn_dtree[2*L(at)]++),U.last_lit===U.lit_bufsize-1},y._tr_align=function(U){wt(U,2,3),At(U,Y,Vt),(function(at){at.bi_valid===16?(Et(at,at.bi_buf),at.bi_buf=0,at.bi_valid=0):8<=at.bi_valid&&(at.pending_buf[at.pending++]=255&at.bi_buf,at.bi_buf>>=8,at.bi_valid-=8)})(U)}},{"../utils/common":41}],53:[function(o,c,y){c.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,c,y){(function(m){(function(x,p){if(!x.setImmediate){var v,g,k,C,O=1,T={},A=!1,w=x.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(x);R=R&&R.setTimeout?R:x,v={}.toString.call(x.process)==="[object process]"?function(J){process.nextTick(function(){H(J)})}:(function(){if(x.postMessage&&!x.importScripts){var J=!0,I=x.onmessage;return x.onmessage=function(){J=!1},x.postMessage("","*"),x.onmessage=I,J}})()?(C="setImmediate$"+Math.random()+"$",x.addEventListener?x.addEventListener("message",Y,!1):x.attachEvent("onmessage",Y),function(J){x.postMessage(C+J,"*")}):x.MessageChannel?((k=new MessageChannel).port1.onmessage=function(J){H(J.data)},function(J){k.port2.postMessage(J)}):w&&"onreadystatechange"in w.createElement("script")?(g=w.documentElement,function(J){var I=w.createElement("script");I.onreadystatechange=function(){H(J),I.onreadystatechange=null,g.removeChild(I),I=null},g.appendChild(I)}):function(J){setTimeout(H,0,J)},R.setImmediate=function(J){typeof J!="function"&&(J=new Function(""+J));for(var I=new Array(arguments.length-1),Z=0;Z<I.length;Z++)I[Z]=arguments[Z+1];var X={callback:J,args:I};return T[O]=X,v(O),O++},R.clearImmediate=D}function D(J){delete T[J]}function H(J){if(A)setTimeout(H,0,J);else{var I=T[J];if(I){A=!0;try{(function(Z){var X=Z.callback,mt=Z.args;switch(mt.length){case 0:X();break;case 1:X(mt[0]);break;case 2:X(mt[0],mt[1]);break;case 3:X(mt[0],mt[1],mt[2]);break;default:X.apply(p,mt)}})(I)}finally{D(J),A=!1}}}}function Y(J){J.source===x&&typeof J.data=="string"&&J.data.indexOf(C)===0&&H(+J.data.slice(C.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,typeof gs<"u"?gs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(qc)),qc.exports}var Xv=Gv();const Hm=Xc(Xv),Vv="1.0";async function Qv(M){return new Promise(f=>{const o=new Image;o.onload=()=>{const c=document.createElement("canvas"),y=1280,m=720;c.width=y,c.height=m;const x=c.getContext("2d");x.imageSmoothingEnabled=!0,x.imageSmoothingQuality="high";const p=o.width/o.height,v=16/9;let g=0,k=0,C=o.width,O=o.height;p>v?(C=o.height*v,g=(o.width-C)/2):(O=o.width/v,k=(o.height-O)/2),x.drawImage(o,g,k,C,O,0,0,y,m),c.toBlob(T=>{f({blob:T,extension:"jpg"})},"image/jpeg",.92)},o.src=M})}async function Jv(M){const f=await xa.projects.get(M);if(!f)throw new Error("Proyecto no encontrado");const o=new Hm,c=o.folder("images"),y={};for(const x of f.segments)if(x.thumbnail)try{const{blob:p,extension:v}=await Qv(x.thumbnail),g=`kue_${x.id.slice(0,8)}.${v}`;c.file(g,p),y[x.id]=g}catch(p){console.warn(`Could not process thumbnail for segment ${x.id}`,p)}const m={version:Vv,projectId:f.id,name:f.name,createdAt:f.createdAt,updatedAt:f.updatedAt,bpm:f.bpm,segments:f.segments,mediaFileName:"media"+Fv(f.audioBlob),imageMap:y};return o.file("project.json",JSON.stringify(m,null,2)),o.file(m.mediaFileName,f.audioBlob),o.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})}function Fv(M){const f=M.type;return f.includes("mp4")?".mp4":f.includes("webm")?".webm":f.includes("mp3")?".mp3":f.includes("wav")?".wav":f.includes("ogg")?".ogg":f.includes("audio")?".audio":".media"}async function Iv(M){const f=await Hm.loadAsync(M),o=f.file("project.json");if(!o)throw new Error("Archivo .kue invlido: falta project.json");const c=await o.async("text"),y=JSON.parse(c),m=f.file(y.mediaFileName);if(!m)throw new Error("Archivo .kue invlido: falta archivo de media");const x=await m.async("blob"),p=new Map,v=f.folder("images");if(v)for(const[g,k]of Object.entries(y.imageMap)){const C=v.file(k);if(C){const O=await C.async("blob");p.set(g,O)}}return{manifest:y,mediaBlob:x,images:p}}async function Pv(M){const f=await xa.projects.get(M.projectId);return f?{exists:!0,localProject:f,localIsNewer:f.updatedAt>M.updatedAt}:{exists:!1}}async function gm(M,f,o,c=!1){const y=await xa.projects.get(M.projectId),x={id:y&&!c?crypto.randomUUID():M.projectId,name:M.name+(y&&!c?" (importado)":""),createdAt:y&&!c?Date.now():M.createdAt,updatedAt:Date.now(),audioBlob:f,bpm:M.bpm,segments:M.segments};return y&&c?await xa.projects.put(x):await xa.projects.add(x),x}function ym(M){return new Date(M).toLocaleString("es-MX",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}const Wv=({isOpen:M,onClose:f,onImportSuccess:o})=>{const[c,y]=Wt.useState({status:"idle"}),m=Wt.useRef(null);if(!M)return null;const x=async k=>{const C=k.target.files?.[0];if(C){if(!C.name.endsWith(".kue")&&!C.name.endsWith(".zip")){y({status:"error",message:"Por favor selecciona un archivo .kue vlido"});return}y({status:"loading",message:"Leyendo archivo..."});try{const{manifest:O,mediaBlob:T,images:A}=await Iv(C);y({status:"loading",message:"Verificando conflictos..."});const w=await Pv(O);if(w.exists&&w.localProject)y({status:"conflict",manifest:O,mediaBlob:T,images:A,localProject:w.localProject,localIsNewer:w.localIsNewer||!1});else{y({status:"loading",message:"Importando proyecto..."});const R=await gm(O,T,A,!1);y({status:"success",project:R})}}catch(O){console.error("Import error:",O),y({status:"error",message:O instanceof Error?O.message:"Error al importar el proyecto"})}k.target&&(k.target.value="")}},p=async k=>{if(c.status==="conflict"){y({status:"loading",message:k?"Sobrescribiendo proyecto...":"Importando como copia..."});try{const C=await gm(c.manifest,c.mediaBlob,c.images,k);y({status:"success",project:C})}catch(C){console.error("Import error:",C),y({status:"error",message:C instanceof Error?C.message:"Error al importar el proyecto"})}}},v=()=>{c.status==="success"&&(o(c.project),g())},g=()=>{y({status:"idle"}),f()};return E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-cyber-gray border border-green-500/30 rounded-2xl w-full max-w-md flex flex-col shadow-2xl shadow-green-500/20",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[E.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[E.jsx(ys,{size:24,className:"text-green-400"}),"Importar Proyecto"]}),E.jsx("button",{onClick:g,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:E.jsx(Bm,{size:20,className:"text-white/60"})})]}),E.jsxs("div",{className:"p-6",children:[E.jsx("input",{ref:m,type:"file",accept:".kue,.zip",onChange:x,className:"hidden"}),c.status==="idle"&&E.jsx("div",{className:"text-center",children:E.jsxs("div",{onClick:()=>m.current?.click(),className:"border-2 border-dashed border-white/20 rounded-xl p-8 hover:border-green-400/50 hover:bg-green-500/5 transition-all cursor-pointer group",children:[E.jsx(Dm,{size:48,className:"mx-auto mb-4 text-white/40 group-hover:text-green-400 transition-colors"}),E.jsxs("p",{className:"text-white/60 group-hover:text-white transition-colors",children:["Haz clic para seleccionar un archivo ",E.jsx("strong",{children:".kue"})]}),E.jsx("p",{className:"text-white/30 text-sm mt-2",children:"o arrastra y suelta aqu"})]})}),c.status==="loading"&&E.jsxs("div",{className:"text-center py-8",children:[E.jsx(Nm,{size:48,className:"mx-auto mb-4 text-green-400 animate-spin"}),E.jsx("p",{className:"text-white/80",children:c.message})]}),c.status==="error"&&E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6 mb-4",children:[E.jsx(Gc,{size:48,className:"mx-auto mb-4 text-red-400"}),E.jsx("p",{className:"text-red-400 font-medium",children:c.message})]}),E.jsx("button",{onClick:()=>y({status:"idle"}),className:"px-6 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:"Intentar de nuevo"})]}),c.status==="conflict"&&E.jsxs("div",{children:[E.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4 mb-4",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(cv,{size:24,className:"text-amber-400 shrink-0 mt-0.5"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-amber-400 font-medium mb-1",children:"Este proyecto ya existe!"}),E.jsxs("p",{className:"text-white/60 text-sm",children:['"',c.manifest.name,'" ya est en tu biblioteca.']})]})]})}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[E.jsxs("div",{className:`p-3 rounded-lg border ${c.localIsNewer?"border-green-500/50 bg-green-500/5":"border-white/10 bg-white/5"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(jm,{size:14,className:"text-white/40"}),E.jsx("span",{className:"text-xs font-mono text-white/40",children:"LOCAL"}),c.localIsNewer&&E.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded",children:"MS NUEVO"})]}),E.jsx("p",{className:"text-white text-sm font-medium truncate",children:c.localProject.name}),E.jsx("p",{className:"text-white/40 text-xs",children:ym(c.localProject.updatedAt)}),E.jsxs("p",{className:"text-white/40 text-xs",children:[c.localProject.segments?.length||0," Kues"]})]}),E.jsxs("div",{className:`p-3 rounded-lg border ${c.localIsNewer?"border-white/10 bg-white/5":"border-green-500/50 bg-green-500/5"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(ys,{size:14,className:"text-white/40"}),E.jsx("span",{className:"text-xs font-mono text-white/40",children:"ARCHIVO"}),!c.localIsNewer&&E.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded",children:"MS NUEVO"})]}),E.jsx("p",{className:"text-white text-sm font-medium truncate",children:c.manifest.name}),E.jsx("p",{className:"text-white/40 text-xs",children:ym(c.manifest.updatedAt)}),E.jsxs("p",{className:"text-white/40 text-xs",children:[c.manifest.segments?.length||0," Kues"]})]})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>p(!1),className:"flex-1 p-3 bg-white/10 hover:bg-white/20 rounded-xl text-white transition-colors text-sm",children:"Guardar como copia"}),E.jsx("button",{onClick:()=>p(!0),className:`flex-1 p-3 rounded-xl font-medium transition-colors text-sm ${c.localIsNewer?"bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/30":"bg-green-500 hover:bg-green-600 text-black"}`,children:c.localIsNewer?"Sobrescribir (perder cambios)":"Actualizar proyecto"})]})]}),c.status==="success"&&E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-6 mb-4",children:[E.jsx(Qc,{size:48,className:"mx-auto mb-4 text-green-400"}),E.jsx("p",{className:"text-green-400 font-medium mb-1",children:"Proyecto importado!"}),E.jsx("p",{className:"text-white text-lg font-bold",children:c.project.name}),E.jsxs("p",{className:"text-white/40 text-sm",children:[c.project.segments?.length||0," Kues"]})]}),E.jsx("button",{onClick:v,className:"w-full p-3 bg-green-500 hover:bg-green-600 rounded-xl text-black font-bold transition-colors",children:"Abrir Proyecto"})]})]})]})})};function $v({onOpenProject:M,onCreateProject:f}){const o=Wt.useRef(null),[c,y]=Wt.useState(!1),m=Zv(()=>xa.projects.orderBy("createdAt").reverse().toArray()),x=v=>{const g=v.target.files?.[0];g&&f(g)},p=async(v,g)=>{g.stopPropagation(),confirm("Seguro que quieres borrar este proyecto?")&&await xa.projects.delete(v)};return E.jsxs("div",{className:"h-screen bg-neon-dark text-white flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,var(--tw-gradient-stops))] from-neon-purple/20 via-black to-black -z-10"}),E.jsx("img",{src:"./logo.png",alt:"KueStudio",className:"w-24 h-24 mb-4 drop-shadow-[0_0_30px_rgba(139,92,246,0.5)]"}),E.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-[0.2em] mb-2 text-transparent bg-clip-text bg-linear-to-r from-white to-neon-purple",children:["KUE",E.jsx("span",{className:"font-light text-white",children:"STUDIO"})]}),E.jsx("p",{className:"text-white/40 font-mono text-sm mb-12 tracking-widest",children:"V2.0.0"}),E.jsx("div",{className:"w-full max-w-2xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8 max-h-[50vh] overflow-y-auto px-4 scrollbar-thin scrollbar-thumb-neon-purple/20",children:!m||m.length===0?E.jsxs("div",{className:"col-span-full text-center text-white/30 py-10 border border-dashed border-white/10 rounded-xl",children:[E.jsx("div",{className:"text-4xl mb-3",children:""}),"Sin proyectos. Crea uno nuevo "]}):m.map(v=>E.jsxs("div",{onClick:()=>M(v),className:"group bg-white/5 border border-white/10 p-4 rounded-xl cursor-pointer hover:bg-white/10 hover:border-neon-purple/50 transition-all relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-linear-to-r from-neon-purple to-pink-500 opacity-70"}),E.jsxs("div",{className:"flex justify-between items-start mb-4 mt-1",children:[E.jsx("div",{className:"p-3 bg-black/40 rounded-lg text-neon-purple",children:E.jsx(_v,{size:20})}),E.jsx("button",{onClick:g=>p(v.id,g),className:"text-white/20 hover:text-red-500 transition-colors p-1",children:E.jsx(Ic,{size:16})})]}),E.jsx("h3",{className:"font-bold text-lg truncate mb-1 text-white group-hover:text-neon-purple transition-colors",children:v.name}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/40",children:[E.jsx(X0,{size:12}),new Date(v.createdAt).toLocaleDateString()]}),E.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[v.bpm>0&&E.jsxs("span",{className:"text-xs font-mono bg-amber-500/20 text-amber-400 px-2 py-1 rounded",children:[v.bpm," BPM"]}),E.jsxs("span",{className:"text-xs font-mono bg-neon-purple/20 text-neon-purple px-2 py-1 rounded",children:[v.segments?.length||0," Kues"]})]})]},v.id))}),E.jsx("input",{id:"audio-upload",name:"audio-upload",type:"file",ref:o,onChange:x,className:"hidden",accept:"video/*,audio/*"}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsx("button",{onClick:()=>o.current?.click(),className:"group relative px-8 py-4 bg-neon-purple text-black font-bold rounded-full text-lg tracking-wider hover:scale-105 transition-all shadow-[0_0_20px_rgba(139,92,246,0.5)]",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(jv,{size:24,strokeWidth:3}),"NUEVO PROYECTO"]})}),E.jsx("button",{onClick:()=>y(!0),className:"group relative px-8 py-4 bg-green-500 text-black font-bold rounded-full text-lg tracking-wider hover:scale-105 transition-all shadow-[0_0_20px_rgba(34,197,94,0.5)]",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(ys,{size:24,strokeWidth:2}),"CARGAR .KUE"]})})]}),E.jsx(Wv,{isOpen:c,onClose:()=>y(!1),onImportSuccess:v=>M(v)}),E.jsx(Um,{})]})}function Lm(){const[M,f]=Wt.useState(!1),[o,c]=Wt.useState(!1),y=Wt.useRef(null),m=ee(R=>R.currentTime),x=ee(R=>R.isPlaying),p=ee(R=>R.setIsPlaying),v=ee(R=>R.cutAtPosition),g=ee(R=>R.closeToEnd),k=ee(R=>R.getSegmentNumber),C=ee(R=>R.showToast),O=Wt.useCallback(()=>{f(!1),y.current=setTimeout(()=>{f(!0),navigator.vibrate&&navigator.vibrate(100),c(!0)},1500)},[]),T=Wt.useCallback(()=>{if(y.current&&(clearTimeout(y.current),y.current=null),M){f(!1);return}const R=v(m);if(R){const D=k(R.id);C(`Kue #${D} creado`),x||p(!0)}},[M,m,v,k,C,x,p]),A=Wt.useCallback(()=>{y.current&&(clearTimeout(y.current),y.current=null),f(!1)},[]),w=Wt.useCallback(R=>{if(c(!1),R){const D=g();if(D){const H=k(D.id);C(`Kue #${H} cerrado hasta el final`)}else C("Ya est cerrado hasta el final")}},[g,k,C]);return Wt.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]),{isLongPressing:M,showCloseConfirm:o,handlePress:O,handleRelease:T,handleCancel:A,handleCloseConfirm:w}}const tg=()=>{const M=Wt.useRef(null),{videoUrl:f,isPlaying:o,setIsPlaying:c,setCurrentTime:y,currentTime:m,setDuration:x}=ee();Wt.useEffect(()=>{M.current&&(o?M.current.play().catch(()=>c(!1)):M.current.pause())},[o,c]),Wt.useEffect(()=>{M.current&&Math.abs(M.current.currentTime-m)>.5&&(M.current.currentTime=m)},[m]);const p=()=>{M.current&&y(M.current.currentTime)},v=()=>{M.current&&x(M.current.duration)};return f?E.jsxs("div",{className:"relative w-full aspect-video bg-black rounded-lg overflow-hidden border border-neon-purple shadow-[0_0_20px_rgba(139,92,246,0.2)]",children:[E.jsx("video",{ref:M,src:f,className:"w-full h-full object-contain",onTimeUpdate:p,onLoadedMetadata:v,onEnded:()=>c(!1),onPlay:()=>c(!0),onPause:()=>c(!1)}),E.jsx("div",{className:"absolute top-2 right-2 font-mono text-xs text-neon-purple bg-black/50 px-2 py-1 rounded",children:"REC"})]}):E.jsx("div",{className:"w-full aspect-video bg-black flex items-center justify-center border border-neon-purple/30 rounded-lg shadow-[0_0_15px_rgba(139,92,246,0.1)]",children:E.jsx("p",{className:"text-sm font-bold tracking-widest text-white/40 uppercase",children:"SIN SEAL"})})},eg=()=>{const{segments:M,currentTime:f,isPlaying:o,setIsPlaying:c}=ee(),[y,m]=Wt.useState(null),[x,p]=Wt.useState(-1),[v,g]=Wt.useState(!1),k=Wt.useRef(0);Wt.useEffect(()=>{const A=M.findIndex(w=>f>=w.start&&f<w.end);A!==x&&(p(A),A>=0&&M[A]?.thumbnail?m(M[A].thumbnail):m(null))},[f,M,x]),Wt.useEffect(()=>{x>=M.length&&(p(-1),m(null))},[M.length,x]);const C=()=>{const A=Date.now();A-k.current<300&&(c(!o),g(!0),setTimeout(()=>g(!1),600)),k.current=A},O=M.some(A=>A.thumbnail),T=x>=0&&x<M.length?M[x]:null;return E.jsxs("div",{className:"w-full h-full bg-black flex items-center justify-center relative overflow-hidden cursor-pointer select-none",onClick:C,onTouchEnd:C,children:[y?E.jsx("img",{src:y,alt:`Storyboard frame ${x+1}`,className:"w-full h-full object-contain animate-fade-in pointer-events-none"},y):E.jsxs("div",{className:"flex flex-col items-center justify-center text-white/30 gap-4 pointer-events-none",children:[E.jsx(zm,{size:48,strokeWidth:1}),O?E.jsx("p",{className:"text-sm font-mono",children:o?"Sin imagen en este segmento":"Doble-tap para play"}):E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-sm font-bold tracking-widest text-white/40 uppercase",children:"STORYBOARD"}),E.jsx("p",{className:"text-xs text-white/20 mt-1",children:"Sube imgenes a los Kues"}),E.jsx("p",{className:"text-xs text-white/40 mt-3",children:" Doble-tap para play/pause"})]})]}),v&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none animate-fade-in",children:E.jsx("div",{className:"p-6 bg-black/60 rounded-full backdrop-blur-sm",children:o?E.jsx(Fc,{size:48,className:"text-white",fill:"white"}):E.jsx(Om,{size:48,className:"text-white",fill:"white"})})}),T&&E.jsxs("div",{className:"absolute bottom-4 left-4 font-mono text-xs bg-black/70 text-neon-purple px-3 py-1 rounded-full backdrop-blur-sm flex items-center gap-2 pointer-events-none",children:[E.jsx("span",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:T.color||"#8b5cf6"}}),"KUE #",x+1]}),T&&E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/10 pointer-events-none",children:E.jsx("div",{className:"h-full transition-all duration-100",style:{width:`${Math.min(100,Math.max(0,(f-T.start)/(T.end-T.start)*100))}%`,backgroundColor:T.color||"#8b5cf6"}})})]})};function Dn(M,f,o,c){return new(o||(o=Promise))((function(y,m){function x(g){try{v(c.next(g))}catch(k){m(k)}}function p(g){try{v(c.throw(g))}catch(k){m(k)}}function v(g){var k;g.done?y(g.value):(k=g.value,k instanceof o?k:new o((function(C){C(k)}))).then(x,p)}v((c=c.apply(M,f||[])).next())}))}class xs{constructor(){this.listeners={}}on(f,o,c){if(this.listeners[f]||(this.listeners[f]=new Set),c?.once){const y=(...m)=>{this.un(f,y),o(...m)};return this.listeners[f].add(y),()=>this.un(f,y)}return this.listeners[f].add(o),()=>this.un(f,o)}un(f,o){var c;(c=this.listeners[f])===null||c===void 0||c.delete(o)}once(f,o){return this.on(f,o,{once:!0})}unAll(){this.listeners={}}emit(f,...o){this.listeners[f]&&this.listeners[f].forEach((c=>c(...o)))}}const Ru={decode:function(M,f){return Dn(this,void 0,void 0,(function*(){const o=new AudioContext({sampleRate:f});try{return yield o.decodeAudioData(M)}finally{o.close()}}))},createBuffer:function(M,f){if(!M||M.length===0)throw new Error("channelData must be a non-empty array");if(f<=0)throw new Error("duration must be greater than 0");if(typeof M[0]=="number"&&(M=[M]),!M[0]||M[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(c){const y=c[0];if(y.some((m=>m>1||m<-1))){const m=y.length;let x=0;for(let p=0;p<m;p++){const v=Math.abs(y[p]);v>x&&(x=v)}for(const p of c)for(let v=0;v<m;v++)p[v]/=x}})(M);const o=M.map((c=>c instanceof Float32Array?c:Float32Array.from(c)));return{duration:f,length:o[0].length,sampleRate:o[0].length/f,numberOfChannels:o.length,getChannelData:c=>{const y=o[c];if(!y)throw new Error(`Channel ${c} not found`);return y},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function qm(M,f){const o=f.xmlns?document.createElementNS(f.xmlns,M):document.createElement(M);for(const[c,y]of Object.entries(f))if(c==="children"&&y)for(const[m,x]of Object.entries(y))x instanceof Node?o.appendChild(x):typeof x=="string"?o.appendChild(document.createTextNode(x)):o.appendChild(qm(m,x));else c==="style"?Object.assign(o.style,y):c==="textContent"?o.textContent=y:o.setAttribute(c,y.toString());return o}function bm(M,f,o){const c=qm(M,f||{});return o?.appendChild(c),c}var ng=Object.freeze({__proto__:null,createElement:bm,default:bm});const ag={fetchBlob:function(M,f,o){return Dn(this,void 0,void 0,(function*(){const c=yield fetch(M,o);if(c.status>=400)throw new Error(`Failed to fetch ${M}: ${c.status} (${c.statusText})`);return(function(y,m){Dn(this,void 0,void 0,(function*(){if(!y.body||!y.headers)return;const x=y.body.getReader(),p=Number(y.headers.get("Content-Length"))||0;let v=0;const g=k=>{v+=k?.length||0;const C=Math.round(v/p*100);m(C)};try{for(;;){const k=yield x.read();if(k.done)break;g(k.value)}}catch(k){console.warn("Progress tracking error:",k)}}))})(c.clone(),f),c.blob()}))}};function nn(M){let f=M;const o=new Set;return{get value(){return f},set(c){Object.is(f,c)||(f=c,o.forEach((y=>y(f))))},update(c){this.set(c(f))},subscribe:c=>(o.add(c),()=>o.delete(c))}}function wr(M,f){const o=nn(M());return f.forEach((c=>c.subscribe((()=>{const y=M();Object.is(o.value,y)||o.set(y)})))),{get value(){return o.value},subscribe:c=>o.subscribe(c)}}function Xi(M,f){let o;const c=()=>{o&&(o(),o=void 0),o=M()},y=f.map((m=>m.subscribe(c)));return c(),()=>{o&&(o(),o=void 0),y.forEach((m=>m()))}}class ig extends xs{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(f){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],f.media?(this.media=f.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=nn(!1),this._currentTime=nn(0),this._duration=nn(0),this._volume=nn(this.media.volume),this._muted=nn(this.media.muted),this._playbackRate=nn(this.media.playbackRate||1),this._seeking=nn(!1),this.setupReactiveMediaEvents(),f.mediaControls&&(this.media.controls=!0),f.autoplay&&(this.media.autoplay=!0),f.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{f.playbackRate!=null&&(this.media.playbackRate=f.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(f,o,c){return this.media.addEventListener(f,o,c),()=>this.media.removeEventListener(f,o,c)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const f=this.getSrc();f.startsWith("blob:")&&URL.revokeObjectURL(f)}canPlayType(f){return this.media.canPlayType(f)!==""}setSrc(f,o){const c=this.getSrc();if(f&&c===f)return;this.revokeSrc();const y=o instanceof Blob&&(this.canPlayType(o.type)||!f)?URL.createObjectURL(o):f;if(c&&this.media.removeAttribute("src"),y||f)try{this.media.src=y}catch{this.media.src=f}}destroy(){this.reactiveMediaEventCleanups.forEach((f=>f())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(f){this.reactiveMediaEventCleanups.forEach((o=>o())),this.reactiveMediaEventCleanups=[],this.media=f,this.setupReactiveMediaEvents()}play(){return Dn(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(f){if(f instanceof DOMException&&f.name==="AbortError")return;throw f}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(f){this.media.currentTime=Math.max(0,Math.min(f,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(f){this.media.volume=f}getMuted(){return this.media.muted}setMuted(f){this.media.muted=f}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(f,o){o!=null&&(this.media.preservesPitch=o),this.media.playbackRate=f}getMediaElement(){return this.media}setSinkId(f){return this.media.setSinkId(f)}}function rg({maxTop:M,maxBottom:f,halfHeight:o,vScale:c,barMinHeight:y=0,barAlign:m}){let x=Math.round(M*o*c),p=x+Math.round(f*o*c)||1;return p<y&&(p=y,m||(x=p/2)),{topHeight:x,totalHeight:p}}function lg({barAlign:M,halfHeight:f,topHeight:o,totalHeight:c,canvasHeight:y}){return M==="top"?0:M==="bottom"?y-c:f-o}function xm(M,f,o){const c=f-M.left,y=o-M.top;return[c/M.width,y/M.height]}function Km(M){return!!(M.barWidth||M.barGap||M.barAlign)}function _m(M,f){if(!Km(f))return M;const o=f.barWidth||.5,c=o+(f.barGap||o/2);return c===0?M:Math.floor(M/c)*c}function wm({scrollLeft:M,totalWidth:f,numCanvases:o}){if(f===0)return[0];const c=M/f,y=Math.floor(c*o);return[y-1,y,y+1]}function Ym(M){const f=M._cleanup;typeof f=="function"&&f()}function sg(M){const f=nn({scrollLeft:M.scrollLeft,scrollWidth:M.scrollWidth,clientWidth:M.clientWidth}),o=wr((()=>(function(m){const{scrollLeft:x,scrollWidth:p,clientWidth:v}=m;if(p===0)return{startX:0,endX:1};const g=x/p,k=(x+v)/p;return{startX:Math.max(0,Math.min(1,g)),endX:Math.max(0,Math.min(1,k))}})(f.value)),[f]),c=wr((()=>(function(m){return{left:m.scrollLeft,right:m.scrollLeft+m.clientWidth}})(f.value)),[f]),y=()=>{f.set({scrollLeft:M.scrollLeft,scrollWidth:M.scrollWidth,clientWidth:M.clientWidth})};return M.addEventListener("scroll",y,{passive:!0}),{scrollData:f,percentages:o,bounds:c,cleanup:()=>{M.removeEventListener("scroll",y),Ym(f)}}}class ug extends xs{constructor(f,o){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=f;const c=this.parentFromOptionsContainer(f.container);this.parent=c;const[y,m]=this.initHtml();c.appendChild(y),this.container=y,this.scrollContainer=m.querySelector(".scroll"),this.wrapper=m.querySelector(".wrapper"),this.canvasWrapper=m.querySelector(".canvases"),this.progressWrapper=m.querySelector(".progress"),this.cursor=m.querySelector(".cursor"),o&&m.appendChild(o),this.initEvents()}parentFromOptionsContainer(f){let o;if(typeof f=="string"?o=document.querySelector(f):f instanceof HTMLElement&&(o=f),!o)throw new Error("Container not found");return o}initEvents(){this.wrapper.addEventListener("click",(o=>{const c=this.wrapper.getBoundingClientRect(),[y,m]=xm(c,o.clientX,o.clientY);this.emit("click",y,m)})),this.wrapper.addEventListener("dblclick",(o=>{const c=this.wrapper.getBoundingClientRect(),[y,m]=xm(c,o.clientX,o.clientY);this.emit("dblclick",y,m)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollStream=sg(this.scrollContainer);const f=Xi((()=>{const{startX:o,endX:c}=this.scrollStream.percentages.value,{left:y,right:m}=this.scrollStream.bounds.value;this.emit("scroll",o,c,y,m)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(f),typeof ResizeObserver=="function"){const o=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{o().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const f=this.parent.clientWidth;f===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=f,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=(function(o,c={}){const{threshold:y=3,mouseButton:m=0,touchDelay:x=100}=c,p=nn(null),v=new Map,g=matchMedia("(pointer: coarse)").matches;let k=()=>{};const C=O=>{if(O.button!==m||(v.set(O.pointerId,O),v.size>1))return;let T=O.clientX,A=O.clientY,w=!1;const R=Date.now(),D=o.getBoundingClientRect(),{left:H,top:Y}=D,J=tt=>{if(tt.defaultPrevented||v.size>1||g&&Date.now()-R<x)return;const Ct=tt.clientX,Vt=tt.clientY,G=Ct-T,yt=Vt-A;(w||Math.abs(G)>y||Math.abs(yt)>y)&&(tt.preventDefault(),tt.stopPropagation(),w||(p.set({type:"start",x:T-H,y:A-Y}),w=!0),p.set({type:"move",x:Ct-H,y:Vt-Y,deltaX:G,deltaY:yt}),T=Ct,A=Vt)},I=tt=>{if(v.delete(tt.pointerId),w){const Ct=tt.clientX,Vt=tt.clientY;p.set({type:"end",x:Ct-H,y:Vt-Y})}k()},Z=tt=>{v.delete(tt.pointerId),tt.relatedTarget&&tt.relatedTarget!==document.documentElement||I(tt)},X=tt=>{w&&(tt.stopPropagation(),tt.preventDefault())},mt=tt=>{tt.defaultPrevented||v.size>1||w&&tt.preventDefault()};document.addEventListener("pointermove",J),document.addEventListener("pointerup",I),document.addEventListener("pointerout",Z),document.addEventListener("pointercancel",Z),document.addEventListener("touchmove",mt,{passive:!1}),document.addEventListener("click",X,{capture:!0}),k=()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",I),document.removeEventListener("pointerout",Z),document.removeEventListener("pointercancel",Z),document.removeEventListener("touchmove",mt),setTimeout((()=>{document.removeEventListener("click",X,{capture:!0})}),10)}};return o.addEventListener("pointerdown",C),{signal:p,cleanup:()=>{k(),o.removeEventListener("pointerdown",C),v.clear(),Ym(p)}}})(this.wrapper);const f=Xi((()=>{const o=this.dragStream.signal.value;if(!o)return;const c=this.wrapper.getBoundingClientRect().width,y=(m=o.x/c)<0?0:m>1?1:m;var m;o.type==="start"?(this.isDragging=!0,this.emit("dragstart",y)):o.type==="move"?this.emit("drag",y):o.type==="end"&&(this.isDragging=!1,this.emit("dragend",y))}),[this.dragStream.signal]);this.subscriptions.push(f)}initHtml(){const f=document.createElement("div"),o=f.attachShadow({mode:"open"}),c=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return o.innerHTML=`
      <style${c?` nonce="${c}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[f,o]}setOptions(f){if(this.options.container!==f.container){const o=this.parentFromOptionsContainer(f.container);o.appendChild(this.container),this.parent=o}f.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=f,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(f){this.scrollContainer.scrollLeft=f}setScrollPercentage(f){const{scrollWidth:o}=this.scrollContainer,c=o*f;this.setScroll(c)}destroy(){var f;this.subscriptions.forEach((o=>o())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(f=this.unsubscribeOnScroll)===null||f===void 0||f.forEach((o=>o())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(f=10){let o,c;const y=()=>{o&&(clearTimeout(o),o=void 0),c&&(c(),c=void 0)};return this.timeouts.push(y),()=>new Promise(((m,x)=>{y(),c=x,o=setTimeout((()=>{o=void 0,c=void 0,m()}),f)}))}getHeight(f,o){var c;const y=((c=this.audioData)===null||c===void 0?void 0:c.numberOfChannels)||1;return(function({optionsHeight:m,optionsSplitChannels:x,parentHeight:p,numberOfChannels:v,defaultHeight:g=128}){if(m==null)return g;const k=Number(m);if(!isNaN(k))return k;if(m==="auto"){const C=p||g;return x?.every((O=>!O.overlay))?C/v:C}return g})({optionsHeight:f,optionsSplitChannels:o,parentHeight:this.parent.clientHeight,numberOfChannels:y,defaultHeight:128})}convertColorValues(f,o){return(function(c,y,m){if(!Array.isArray(c))return c||"";if(c.length===0)return"#999";if(c.length<2)return c[0]||"";const x=document.createElement("canvas"),p=x.getContext("2d"),v=m??x.height*y,g=p.createLinearGradient(0,0,0,v||y),k=1/(c.length-1);return c.forEach(((C,O)=>{g.addColorStop(O*k,C)})),g})(f,this.getPixelRatio(),o?.canvas.height)}getPixelRatio(){return f=window.devicePixelRatio,Math.max(1,f||1);var f}renderBarWaveform(f,o,c,y){const{width:m,height:x}=c.canvas,{halfHeight:p,barWidth:v,barRadius:g,barIndexScale:k,barSpacing:C,barMinHeight:O}=(function({width:A,height:w,length:R,options:D,pixelRatio:H}){const Y=w/2,J=D.barWidth?D.barWidth*H:1,I=D.barGap?D.barGap*H:D.barWidth?J/2:0,Z=J+I||1;return{halfHeight:Y,barWidth:J,barGap:I,barRadius:D.barRadius||0,barMinHeight:D.barMinHeight?D.barMinHeight*H:0,barIndexScale:R>0?A/Z/R:0,barSpacing:Z}})({width:m,height:x,length:(f[0]||[]).length,options:o,pixelRatio:this.getPixelRatio()}),T=(function({channelData:A,barIndexScale:w,barSpacing:R,barWidth:D,halfHeight:H,vScale:Y,canvasHeight:J,barAlign:I,barMinHeight:Z}){const X=A[0]||[],mt=A[1]||X,tt=X.length,Ct=[];let Vt=0,G=0,yt=0;for(let S=0;S<=tt;S++){const St=Math.round(S*w);if(St>Vt){const{topHeight:Ut,totalHeight:jt}=rg({maxTop:G,maxBottom:yt,halfHeight:H,vScale:Y,barMinHeight:Z,barAlign:I}),Ht=lg({barAlign:I,halfHeight:H,topHeight:Ut,totalHeight:jt,canvasHeight:J});Ct.push({x:Vt*R,y:Ht,width:D,height:jt}),Vt=St,G=0,yt=0}const ut=Math.abs(X[S]||0),ot=Math.abs(mt[S]||0);ut>G&&(G=ut),ot>yt&&(yt=ot)}return Ct})({channelData:f,barIndexScale:k,barSpacing:C,barWidth:v,halfHeight:p,vScale:y,canvasHeight:x,barAlign:o.barAlign,barMinHeight:O});c.beginPath();for(const A of T)g&&"roundRect"in c?c.roundRect(A.x,A.y,A.width,A.height,g):c.rect(A.x,A.y,A.width,A.height);c.fill(),c.closePath()}renderLineWaveform(f,o,c,y){const{width:m,height:x}=c.canvas,p=(function({channelData:v,width:g,height:k,vScale:C}){const O=k/2,T=v[0]||[];return[T,v[1]||T].map(((A,w)=>{const R=A.length,D=R?g/R:0,H=O,Y=w===0?-1:1,J=[{x:0,y:H}];let I=0,Z=0;for(let X=0;X<=R;X++){const mt=Math.round(X*D);if(mt>I){const Ct=H+(Math.round(Z*O*C)||1)*Y;J.push({x:I,y:Ct}),I=mt,Z=0}const tt=Math.abs(A[X]||0);tt>Z&&(Z=tt)}return J.push({x:I,y:H}),J}))})({channelData:f,width:m,height:x,vScale:y});c.beginPath();for(const v of p)if(v.length){c.moveTo(v[0].x,v[0].y);for(let g=1;g<v.length;g++){const k=v[g];c.lineTo(k.x,k.y)}}c.fill(),c.closePath()}renderWaveform(f,o,c){if(c.fillStyle=this.convertColorValues(o.waveColor,c),o.renderFunction)return void o.renderFunction(f,c);const y=(function({channelData:m,barHeight:x,normalize:p,maxPeak:v}){var g;const k=x||1;if(!p)return k;const C=m[0];if(!C||C.length===0)return k;let O=v??0;if(!v)for(let T=0;T<C.length;T++){const A=(g=C[T])!==null&&g!==void 0?g:0,w=Math.abs(A);w>O&&(O=w)}return O?k/O:k})({channelData:f,barHeight:o.barHeight,normalize:o.normalize,maxPeak:o.maxPeak});Km(o)?this.renderBarWaveform(f,o,c,y):this.renderLineWaveform(f,o,c,y)}renderSingleCanvas(f,o,c,y,m,x,p){const v=this.getPixelRatio(),g=document.createElement("canvas");g.width=Math.round(c*v),g.height=Math.round(y*v),g.style.width=`${c}px`,g.style.height=`${y}px`,g.style.left=`${Math.round(m)}px`,x.appendChild(g);const k=g.getContext("2d");if(o.renderFunction?(k.fillStyle=this.convertColorValues(o.waveColor,k),o.renderFunction(f,k)):this.renderWaveform(f,o,k),g.width>0&&g.height>0){const C=g.cloneNode(),O=C.getContext("2d");O.drawImage(g,0,0),O.globalCompositeOperation="source-in",O.fillStyle=this.convertColorValues(o.progressColor,O),O.fillRect(0,0,g.width,g.height),p.appendChild(C)}}renderMultiCanvas(f,o,c,y,m,x){const p=this.getPixelRatio(),{clientWidth:v}=this.scrollContainer,g=c/p,k=(function({clientWidth:A,totalWidth:w,options:R}){return _m(Math.min(8e3,A,w),R)})({clientWidth:v,totalWidth:g,options:o});let C={};if(k===0)return;const O=A=>{if(A<0||A>=T||C[A])return;C[A]=!0;const w=A*k;let R=Math.min(g-w,k);if(R=_m(R,o),R<=0)return;const D=(function({channelData:H,offset:Y,clampedWidth:J,totalWidth:I}){return H.map((Z=>{const X=Math.floor(Y/I*Z.length),mt=Math.floor((Y+J)/I*Z.length);return Z.slice(X,mt)}))})({channelData:f,offset:w,clampedWidth:R,totalWidth:g});this.renderSingleCanvas(D,o,R,y,w,m,x)},T=Math.ceil(g/k);if(!this.isScrollable){for(let A=0;A<T;A++)O(A);return}if(wm({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:g,numCanvases:T}).forEach((A=>O(A))),T>1){const A=this.on("scroll",(()=>{const{scrollLeft:w}=this.scrollContainer;Object.keys(C).length>10&&(m.innerHTML="",x.innerHTML="",C={}),wm({scrollLeft:w,totalWidth:g,numCanvases:T}).forEach((R=>O(R)))}));this.unsubscribeOnScroll.push(A)}}renderChannel(f,o,c,y){var{overlay:m}=o,x=(function(k,C){var O={};for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&C.indexOf(T)<0&&(O[T]=k[T]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function"){var A=0;for(T=Object.getOwnPropertySymbols(k);A<T.length;A++)C.indexOf(T[A])<0&&Object.prototype.propertyIsEnumerable.call(k,T[A])&&(O[T[A]]=k[T[A]])}return O})(o,["overlay"]);const p=document.createElement("div"),v=this.getHeight(x.height,x.splitChannels);p.style.height=`${v}px`,m&&y>0&&(p.style.marginTop=`-${v}px`),this.canvasWrapper.style.minHeight=`${v}px`,this.canvasWrapper.appendChild(p);const g=p.cloneNode();this.progressWrapper.appendChild(g),this.renderMultiCanvas(f,x,c,v,p,g)}render(f){return Dn(this,void 0,void 0,(function*(){var o;this.timeouts.forEach((g=>g())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const c=this.getPixelRatio(),y=this.scrollContainer.clientWidth,{scrollWidth:m,isScrollable:x,useParentWidth:p,width:v}=(function({duration:g,minPxPerSec:k=0,parentWidth:C,fillParent:O,pixelRatio:T}){const A=Math.ceil(g*k),w=A>C,R=!!(O&&!w);return{scrollWidth:A,isScrollable:w,useParentWidth:R,width:(R?C:A)*T}})({duration:f.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:y,fillParent:this.options.fillParent,pixelRatio:c});if(this.isScrollable=x,this.wrapper.style.width=p?"100%":`${m}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=f,this.emit("render"),this.options.splitChannels)for(let g=0;g<f.numberOfChannels;g++){const k=Object.assign(Object.assign({},this.options),(o=this.options.splitChannels)===null||o===void 0?void 0:o[g]);this.renderChannel([f.getChannelData(g)],k,v,g)}else{const g=[f.getChannelData(0)];f.numberOfChannels>1&&g.push(f.getChannelData(1)),this.renderChannel(g,this.options,v,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((c=>c())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:f}=this.scrollContainer,{right:o}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&f!==this.scrollContainer.scrollWidth){const{right:c}=this.progressWrapper.getBoundingClientRect(),y=(function(m){const x=2*m;return(x<0?Math.floor(x):Math.ceil(x))/2})(c-o);this.scrollContainer.scrollLeft+=y}}zoom(f){this.options.minPxPerSec=f,this.reRender()}scrollIntoView(f,o=!1){const{scrollLeft:c,scrollWidth:y,clientWidth:m}=this.scrollContainer,x=f*y,p=c,v=c+m,g=m/2;if(this.isDragging)x+30>v?this.scrollContainer.scrollLeft+=30:x-30<p&&(this.scrollContainer.scrollLeft-=30);else{(x<p||x>v)&&(this.scrollContainer.scrollLeft=x-(this.options.autoCenter?g:0));const k=x-c-g;o&&this.options.autoCenter&&k>0&&(this.scrollContainer.scrollLeft+=k)}}renderProgress(f,o){if(isNaN(f))return;const c=100*f;this.canvasWrapper.style.clipPath=`polygon(${c}% 0%, 100% 0%, 100% 100%, ${c}% 100%)`,this.progressWrapper.style.width=`${c}%`,this.cursor.style.left=`${c}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${f*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(f,o)}exportImage(f,o,c){return Dn(this,void 0,void 0,(function*(){const y=this.canvasWrapper.querySelectorAll("canvas");if(!y.length)throw new Error("No waveform data");if(c==="dataURL"){const m=Array.from(y).map((x=>x.toDataURL(f,o)));return Promise.resolve(m)}return Promise.all(Array.from(y).map((m=>new Promise(((x,p)=>{m.toBlob((v=>{v?x(v):p(new Error("Could not export image"))}),f,o)})))))}))}}class og extends xs{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const f=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(f))};f()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class Kc extends xs{constructor(f=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=f,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Dn(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(f){if(this.currentSrc=f,this._duration=void 0,!f)return this.buffer=null,void this.emit("emptied");fetch(f).then((o=>{if(o.status>=400)throw new Error(`Failed to fetch ${f}: ${o.status} (${o.statusText})`);return o.arrayBuffer()})).then((o=>this.currentSrc!==f?null:this.audioContext.decodeAudioData(o))).then((o=>{this.currentSrc===f&&(this.buffer=o,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((o=>{console.error("WebAudioPlayer load error:",o)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let f=this.playedDuration*this._playbackRate;(f>=this.duration||f<0)&&(f=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,f),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var f;this.paused=!0,(f=this.bufferNode)===null||f===void 0||f.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Dn(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(f){const o=f-this.currentTime,c=this.bufferNode;c?.stop(this.audioContext.currentTime+o),c?.addEventListener("ended",(()=>{c===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(f){return Dn(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(f)}))}get playbackRate(){return this._playbackRate}set playbackRate(f){this._playbackRate=f,this.bufferNode&&(this.bufferNode.playbackRate.value=f)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(f){const o=!this.paused;o&&this._pause(),this.playedDuration=f/this._playbackRate,o&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var f,o;return(f=this._duration)!==null&&f!==void 0?f:((o=this.buffer)===null||o===void 0?void 0:o.duration)||0}set duration(f){this._duration=f}get volume(){return this.gainNode.gain.value}set volume(f){this.gainNode.gain.value=f,this.emit("volumechange")}get muted(){return this._muted}set muted(f){this._muted!==f&&(this._muted=f,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(f){return/^(audio|video)\//.test(f)}getGainNode(){return this.gainNode}getChannelData(){const f=[];if(!this.buffer)return f;const o=this.buffer.numberOfChannels;for(let c=0;c<o;c++)f.push(this.buffer.getChannelData(c));return f}removeAttribute(f){switch(f){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const cg={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class bs extends ig{static create(f){return new bs(f)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(f){const o=f.media||(f.backend==="WebAudio"?new Kc:void 0);super({media:o,mediaControls:f.mediaControls,autoplay:f.autoplay,playbackRate:f.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},cg,f);const{state:c,actions:y}=(function(p){var v,g,k,C,O,T;const A=(v=p?.currentTime)!==null&&v!==void 0?v:nn(0),w=(g=p?.duration)!==null&&g!==void 0?g:nn(0),R=(k=p?.isPlaying)!==null&&k!==void 0?k:nn(!1),D=(C=p?.isSeeking)!==null&&C!==void 0?C:nn(!1),H=(O=p?.volume)!==null&&O!==void 0?O:nn(1),Y=(T=p?.playbackRate)!==null&&T!==void 0?T:nn(1),J=nn(null),I=nn(null),Z=nn(""),X=nn(0),mt=nn(0),tt=wr((()=>!R.value),[R]),Ct=wr((()=>J.value!==null),[J]),Vt=wr((()=>Ct.value&&w.value>0),[Ct,w]),G=wr((()=>A.value),[A]),yt=wr((()=>w.value>0?A.value/w.value:0),[A,w]);return{state:{currentTime:A,duration:w,isPlaying:R,isPaused:tt,isSeeking:D,volume:H,playbackRate:Y,audioBuffer:J,peaks:I,url:Z,zoom:X,scrollPosition:mt,canPlay:Ct,isReady:Vt,progress:G,progressPercent:yt},actions:{setCurrentTime:S=>{const St=Math.max(0,Math.min(w.value||1/0,S));A.set(St)},setDuration:S=>{w.set(Math.max(0,S))},setPlaying:S=>{R.set(S)},setSeeking:S=>{D.set(S)},setVolume:S=>{const St=Math.max(0,Math.min(1,S));H.set(St)},setPlaybackRate:S=>{const St=Math.max(.1,Math.min(16,S));Y.set(St)},setAudioBuffer:S=>{J.set(S),S&&w.set(S.duration)},setPeaks:S=>{I.set(S)},setUrl:S=>{Z.set(S)},setZoom:S=>{X.set(Math.max(0,S))},setScrollPosition:S=>{mt.set(Math.max(0,S))}}}})({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=c,this.wavesurferActions=y,this.timer=new og;const m=o?void 0:this.getMediaElement();this.renderer=new ug(this.options,m),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const x=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:p,duration:v}=this.options;(x||p&&v)&&this.load(x,p,v).catch((g=>{this.emit("error",g instanceof Error?g:new Error(String(g)))}))}))}updateProgress(f=this.getCurrentTime()){return this.renderer.renderProgress(f/this.getDuration(),this.isPlaying()),f}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const f=this.updateProgress();this.emit("timeupdate",f),this.emit("audioprocess",f),this.stopAtPosition!=null&&this.isPlaying()&&f>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push((function(f,o){const c=[];c.push(Xi((()=>{const x=f.isPlaying.value;o.emit(x?"play":"pause")}),[f.isPlaying])),c.push(Xi((()=>{const x=f.currentTime.value;o.emit("timeupdate",x),f.isPlaying.value&&o.emit("audioprocess",x)}),[f.currentTime,f.isPlaying])),c.push(Xi((()=>{f.isSeeking.value&&o.emit("seeking",f.currentTime.value)}),[f.isSeeking,f.currentTime]));let y=!1;c.push(Xi((()=>{f.isReady.value&&!y&&(y=!0,o.emit("ready",f.duration.value))}),[f.isReady,f.duration]));let m=!1;return c.push(Xi((()=>{const x=f.isPlaying.value,p=f.currentTime.value,v=f.duration.value,g=v>0&&p>=v;m&&!x&&g&&o.emit("finish"),m=x&&g}),[f.isPlaying,f.currentTime,f.duration])),c.push(Xi((()=>{const x=f.zoom.value;x>0&&o.emit("zoom",x)}),[f.zoom])),()=>{c.forEach((x=>x()))}})(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const f=this.updateProgress();this.emit("timeupdate",f)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var f;this.emit("error",(f=this.getMediaElement().error)!==null&&f!==void 0?f:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((f,o)=>{this.options.interact&&(this.seekTo(f),this.emit("interaction",f*this.getDuration()),this.emit("click",f,o))})),this.renderer.on("dblclick",((f,o)=>{this.emit("dblclick",f,o)})),this.renderer.on("scroll",((f,o,c,y)=>{const m=this.getDuration();this.emit("scroll",f*m,o*m,c,y)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(f=>{this.emit("dragstart",f)})),this.renderer.on("dragend",(f=>{this.emit("dragend",f)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let f;const o=this.renderer.on("drag",(c=>{var y;if(!this.options.interact)return;this.renderer.renderProgress(c),clearTimeout(f);let m=0;const x=this.options.dragToSeek;this.isPlaying()?m=0:x===!0?m=200:x&&typeof x=="object"&&(m=(y=x.debounceTime)!==null&&y!==void 0?y:200),f=setTimeout((()=>{this.seekTo(c)}),m),this.emit("interaction",c*this.getDuration()),this.emit("drag",c)}));this.subscriptions.push((()=>{clearTimeout(f),o()}))}}initPlugins(){var f;!((f=this.options.plugins)===null||f===void 0)&&f.length&&this.options.plugins.forEach((o=>{this.registerPlugin(o)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((f=>f())),this.mediaSubscriptions=[]}setOptions(f){this.options=Object.assign({},this.options,f),f.duration&&!f.peaks&&(this.decodedData=Ru.createBuffer(this.exportPeaks(),f.duration)),f.peaks&&f.duration&&(this.decodedData=Ru.createBuffer(f.peaks,f.duration)),this.renderer.setOptions(this.options),f.audioRate&&this.setPlaybackRate(f.audioRate),f.mediaControls!=null&&(this.getMediaElement().controls=f.mediaControls)}registerPlugin(f){if(this.plugins.includes(f))return f;f._init(this),this.plugins.push(f);const o=f.once("destroy",(()=>{this.plugins=this.plugins.filter((c=>c!==f)),this.subscriptions=this.subscriptions.filter((c=>c!==o))}));return this.subscriptions.push(o),f}unregisterPlugin(f){this.plugins=this.plugins.filter((o=>o!==f)),f.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(f){return this.renderer.setScroll(f)}setScrollTime(f){const o=f/this.getDuration();this.renderer.setScrollPercentage(o)}getActivePlugins(){return this.plugins}loadAudio(f,o,c,y){return Dn(this,void 0,void 0,(function*(){var m;if(this.emit("load",f),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(m=this.abortController)===null||m===void 0||m.abort(),this.abortController=null,!o&&!c){const p=this.options.fetchParams||{};window.AbortController&&!p.signal&&(this.abortController=new AbortController,p.signal=this.abortController.signal);const v=k=>this.emit("loading",k);o=yield ag.fetchBlob(f,v,p);const g=this.options.blobMimeType;g&&(o=new Blob([o],{type:g}))}this.setSrc(f,o);const x=yield new Promise((p=>{const v=y||this.getDuration();v?p(v):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>p(this.getDuration())),{once:!0}))}));if(!f&&!o){const p=this.getMediaElement();p instanceof Kc&&(p.duration=x)}if(c)this.decodedData=Ru.createBuffer(c,x||0);else if(o){const p=yield o.arrayBuffer();this.decodedData=yield Ru.decode(p,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(f,o,c){return Dn(this,void 0,void 0,(function*(){try{return yield this.loadAudio(f,void 0,o,c)}catch(y){throw this.emit("error",y),y}}))}loadBlob(f,o,c){return Dn(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",f,o,c)}catch(y){throw this.emit("error",y),y}}))}zoom(f){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(f),this.emit("zoom",f)}getDecodedData(){return this.decodedData}exportPeaks({channels:f=2,maxLength:o=8e3,precision:c=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const y=Math.min(f,this.decodedData.numberOfChannels),m=[];for(let x=0;x<y;x++){const p=this.decodedData.getChannelData(x),v=[],g=p.length/o;for(let k=0;k<o;k++){const C=p.slice(Math.floor(k*g),Math.ceil((k+1)*g));let O=0;for(let T=0;T<C.length;T++){const A=C[T];Math.abs(A)>Math.abs(O)&&(O=A)}v.push(Math.round(O*c)/c)}m.push(v)}return m}getDuration(){let f=super.getDuration()||0;return f!==0&&f!==1/0||!this.decodedData||(f=this.decodedData.duration),f}toggleInteraction(f){this.options.interact=f}setTime(f){this.stopAtPosition=null,super.setTime(f),this.updateProgress(f),this.emit("timeupdate",f)}seekTo(f){const o=this.getDuration()*f;this.setTime(o)}play(f,o){const c=Object.create(null,{play:{get:()=>super.play}});return Dn(this,void 0,void 0,(function*(){f!=null&&this.setTime(f);const y=yield c.play.call(this);return o!=null&&(this.media instanceof Kc?this.media.stopAt(o):this.stopAtPosition=o),y}))}playPause(){return Dn(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(f){this.setTime(this.getCurrentTime()+f)}empty(){this.load("",[[0]],.001)}setMediaElement(f){this.unsubscribePlayerEvents(),super.setMediaElement(f),this.initPlayerEvents()}exportImage(){return Dn(this,arguments,void 0,(function*(f="image/png",o=1,c="dataURL"){return this.renderer.exportImage(f,o,c)}))}destroy(){var f;this.emit("destroy"),(f=this.abortController)===null||f===void 0||f.abort(),this.plugins.forEach((o=>o.destroy())),this.subscriptions.forEach((o=>o())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((o=>o())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}bs.BasePlugin=class extends xs{constructor(M){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=M}onInit(){}_init(M){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=M,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((M=>M())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},bs.dom=ng;const Zm=Wt.memo(()=>{const M=Wt.useRef(null),f=Wt.useRef(null),o=Wt.useRef(null),c=Wt.useRef(null),[y,m]=Wt.useState(!1),[x,p]=Wt.useState(null),[v,g]=Wt.useState(null),k=ee(xt=>xt.videoUrl),C=ee(xt=>xt.isPlaying),O=ee(xt=>xt.currentTime),T=ee(xt=>xt.zoom),A=ee(xt=>xt.segments),w=ee(xt=>xt.duration),R=ee(xt=>xt.activeSegmentId),D=ee(xt=>xt.setCurrentTime),H=ee(xt=>xt.setDuration),Y=ee(xt=>xt.setIsPlaying),J=ee(xt=>xt.setActiveSegmentId),I=ee(xt=>xt.deleteSegment),Z=ee(xt=>xt.updateSegment),X=ee(xt=>xt.showToast),mt=ee(xt=>xt.cutAtPosition),[tt,Ct]=Wt.useState(null),[Vt,G]=Wt.useState(null),yt=Wt.useRef(null),[S,St]=Wt.useState(!1),ut=Math.max(w*T,100);Wt.useEffect(()=>{if(!k)return;const xt=document.createElement("div");xt.style.display="none",document.body.appendChild(xt);const Qt=bs.create({container:xt,waveColor:"transparent",progressColor:"transparent",height:1,interact:!1});o.current=Qt,Qt.load(k),Qt.setVolume(0),Qt.on("ready",()=>{H(Qt.getDuration()),m(!0)});let Zt=0;return Qt.on("audioprocess",oe=>{const b=Date.now();b-Zt>50&&(D(oe),Zt=b)}),()=>{try{Qt.destroy()}catch{}o.current=null;try{document.body.removeChild(xt)}catch{}m(!1)}},[k]),Wt.useEffect(()=>{!o.current||!y||(C&&!o.current.isPlaying()?o.current.play().catch(()=>{}):!C&&o.current.isPlaying()&&o.current.pause())},[C,y]),Wt.useEffect(()=>{if(!o.current||!y)return;const xt=o.current.getCurrentTime();Math.abs(xt-O)>.1&&o.current.setTime(O)},[O,y]),Wt.useEffect(()=>{if(!f.current||!C||S)return;const xt=O*T,Qt=f.current,Zt=Qt.clientWidth,oe=Qt.scrollLeft;xt>oe+Zt-50&&(Qt.scrollLeft=xt-Zt/2),xt<oe+50&&(Qt.scrollLeft=Math.max(0,xt-50))},[O,T,C,S]);const ot=xt=>{if(!f.current||S||xt.target.closest(".kue-block")||xt.target.closest(".color-picker"))return;const Qt=f.current.getBoundingClientRect(),Zt=f.current.scrollLeft,b=(xt.clientX-Qt.left+Zt)/T;b>=0&&b<=w&&D(b)},Ut=xt=>{if(!f.current||xt.target.closest(".kue-block"))return;const Qt=f.current.getBoundingClientRect(),Zt=f.current.scrollLeft,b=(xt.clientX-Qt.left+Zt)/T;if(b>=0&&b<=w){const ct=mt(b);if(ct){const dt=ee.getState().getSegmentNumber(ct.id);X(`Kue #${dt} creado`)}}};Wt.useEffect(()=>{if(!f.current)return;const xt=f.current,Qt=ee.getState().setZoom,Zt=oe=>{if(oe.altKey){oe.preventDefault();const b=ee.getState().zoom,ct=oe.deltaY>0?-5:5;Qt(Math.max(5,Math.min(200,b+ct)))}};return xt.addEventListener("wheel",Zt,{passive:!1}),()=>xt.removeEventListener("wheel",Zt)},[]),Wt.useEffect(()=>{if(!f.current)return;const xt=f.current,Qt=ee.getState().setZoom;let Zt=0,oe=0;const b=dt=>{if(dt.touches.length===2){const q=dt.touches[0].clientX-dt.touches[1].clientX,U=dt.touches[0].clientY-dt.touches[1].clientY;Zt=Math.sqrt(q*q+U*U),oe=ee.getState().zoom}},ct=dt=>{if(dt.touches.length===2&&Zt>0){dt.preventDefault();const q=dt.touches[0].clientX-dt.touches[1].clientX,U=dt.touches[0].clientY-dt.touches[1].clientY,Nt=Math.sqrt(q*q+U*U)/Zt;Qt(Math.max(5,Math.min(200,Math.round(oe*Nt))))}};return xt.addEventListener("touchstart",b,{passive:!0}),xt.addEventListener("touchmove",ct,{passive:!1}),()=>{xt.removeEventListener("touchstart",b),xt.removeEventListener("touchmove",ct)}},[]);const jt=(xt,Qt)=>{xt.stopPropagation(),R===Qt.id?(J(null),p(null)):(J(Qt.id),D(Qt.start),Y(!1),p(null))},Ht=A.find(xt=>xt.id===R),N=Ht?A.indexOf(Ht):-1,L=N>0?A[N-1]:null,Et=N<A.length-1?A[N+1]:null,wt=(xt,Qt,Zt)=>{xt.stopPropagation(),xt.preventDefault(),St(!0);const oe="touches"in xt?xt.touches[0].clientX:xt.clientX;let b=0;Qt==="left"&&Ht?b=Ht.start:Qt==="right"&&Ht?b=Ht.end:Qt==="junction"&&Zt!==void 0&&(b=A[Zt].end),yt.current={x:oe,originalTime:b},Ct(Qt),Zt!==void 0&&G(Zt);const ct=q=>{if(!yt.current)return;q.preventDefault();const Nt=(("touches"in q?q.touches[0]?.clientX??yt.current.x:q.clientX)-yt.current.x)/T;let Tt=yt.current.originalTime+Nt;if(Qt==="left"&&Ht){const ft=L?L.end:0,Bt=Ht.end-.5;Tt=Math.max(ft,Math.min(Bt,Tt)),Z(Ht.id,{start:Tt})}else if(Qt==="right"&&Ht){const ft=Ht.start+.5,Bt=Et?Et.start:w;Tt=Math.max(ft,Math.min(Bt,Tt)),Z(Ht.id,{end:Tt})}else if(Qt==="junction"&&Zt!==void 0){const ft=A[Zt],Bt=A[Zt+1];if(ft&&Bt){const Xt=ft.start+.5,Kt=Bt.end-.5;Tt=Math.max(Xt,Math.min(Kt,Tt)),Z(ft.id,{end:Tt}),Z(Bt.id,{start:Tt})}}},dt=()=>{yt.current=null,Ct(null),G(null),St(!1),document.removeEventListener("mousemove",ct),document.removeEventListener("mouseup",dt),document.removeEventListener("touchmove",ct),document.removeEventListener("touchend",dt),navigator.vibrate&&navigator.vibrate(20)};document.addEventListener("mousemove",ct),document.addEventListener("mouseup",dt),document.addEventListener("touchmove",ct,{passive:!1}),document.addEventListener("touchend",dt)},At=(xt,Qt,Zt)=>{const oe=Yn[Qt];Z(xt,{color:Zt?oe.hero:oe.fill,isHero:Zt}),p(null),X(Zt?"Color Hero ":"Color Fill ")},te=(xt,Qt)=>{Z(xt,{colorName:Qt})},ue=xt=>{const Qt=xt.target.files?.[0];if(!Qt||!v)return;const Zt=new Image;Zt.onload=()=>{const oe=document.createElement("canvas"),b=640,ct=360;oe.width=b,oe.height=ct;const dt=oe.getContext("2d"),q=Zt.width/Zt.height,U=16/9;let at=0,Nt=0,Tt=Zt.width,ft=Zt.height;q>U?(Tt=Zt.height*U,at=(Zt.width-Tt)/2):(ft=Zt.width/U,Nt=(Zt.height-ft)/2),dt.drawImage(Zt,at,Nt,Tt,ft,0,0,b,ct);const Bt=oe.toDataURL("image/jpeg",.85);Z(v,{thumbnail:Bt}),X("Imagen 16:9 "),g(null)},Zt.src=URL.createObjectURL(Qt),xt.target.value=""},se=xt=>{g(xt),c.current?.click()},Rt=[];for(let xt=0;xt<A.length-1;xt++)Math.abs(A[xt].end-A[xt+1].start)<.05&&Rt.push(xt);return E.jsxs("div",{ref:M,className:"w-full h-full bg-black/80 border-t border-b border-neon-purple/30 relative",children:[E.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:ue,className:"hidden"}),E.jsx("div",{ref:f,className:`w-full h-full overflow-x-auto overflow-y-hidden cursor-pointer ${S?"overflow-hidden":""}`,onClick:ot,onDoubleClick:Ut,children:E.jsxs("div",{className:"relative h-full",style:{width:`${ut}px`,minWidth:"100%"},children:[y&&Array.from({length:Math.ceil(w)+1}).map((xt,Qt)=>E.jsx("div",{className:"absolute top-0 h-full border-l border-white/10",style:{left:`${Qt*T}px`},children:E.jsxs("span",{className:"absolute top-1 left-1 text-[10px] text-white/40 font-mono",children:[Math.floor(Qt/60),":",String(Qt%60).padStart(2,"0")]})},`marker-${Qt}`)),A.map((xt,Qt)=>{const Zt=xt.start*T,oe=Math.max(40,(xt.end-xt.start)*T),b=R===xt.id;return E.jsxs("div",{onClick:ct=>jt(ct,xt),className:`
                                    kue-block absolute top-3 bottom-3 cursor-pointer select-none
                                    flex flex-col overflow-visible transition-all group rounded-lg
                                    ${b?"ring-2 ring-white z-30 brightness-110 shadow-xl":"hover:brightness-110 z-10"}
                                `,style:{left:`${Zt}px`,width:`${oe}px`,backgroundColor:xt.color||"#8b5cf6",touchAction:b?"none":"auto",backgroundImage:xt.thumbnail?`url(${xt.thumbnail})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[xt.thumbnail&&E.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/70 to-transparent rounded-lg"}),E.jsxs("div",{className:"flex items-center justify-between px-2 py-1 relative z-10",children:[E.jsxs("span",{className:"text-xs font-bold font-mono text-white bg-black/50 px-1.5 py-0.5 rounded flex items-center gap-1",children:["#",Qt+1,xt.isHero?E.jsx(Uu,{size:10,className:"text-amber-400",fill:"currentColor"}):E.jsx(Jc,{size:10,className:"text-white/50"})]}),E.jsxs("div",{className:`flex gap-1 ${b?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity`,children:[E.jsx("button",{onClick:ct=>{ct.stopPropagation(),p(x===xt.id?null:xt.id)},className:"p-1 bg-black/50 rounded hover:bg-white/20 transition-colors",title:"Cambiar color",children:E.jsx(Zc,{size:12,className:"text-white"})}),E.jsx("button",{onClick:ct=>{ct.stopPropagation(),se(xt.id)},className:"p-1 bg-black/50 rounded hover:bg-white/20 transition-colors",title:"Cargar imagen",children:E.jsx(gv,{size:12,className:"text-white"})}),E.jsx("button",{onClick:ct=>{ct.stopPropagation(),I(xt.id),X(`Kue #${Qt+1} eliminado`)},className:"p-1 bg-red-500/50 rounded hover:bg-red-500 transition-colors",title:"Eliminar",children:E.jsx(Ic,{size:12,className:"text-white"})})]})]}),oe>60&&xt.note&&E.jsx("span",{className:"absolute bottom-1 left-2 right-2 text-[10px] font-mono text-white/90 truncate bg-black/30 px-1 rounded z-10",children:xt.note}),x===xt.id&&E.jsxs("div",{className:"color-picker absolute bottom-full left-0 mb-2 bg-black/95 border border-white/30 rounded-xl p-3 shadow-2xl",style:{zIndex:9999},onClick:ct=>ct.stopPropagation(),children:[E.jsx("div",{className:"mb-2",children:E.jsx("input",{type:"text",placeholder:"Nombre entorno...",value:xt.colorName||"",onChange:ct=>te(xt.id,ct.target.value),onClick:ct=>ct.stopPropagation(),className:"w-full px-2 py-1 text-xs bg-white/10 border border-white/20 rounded text-white placeholder-white/40 outline-none focus:border-neon-purple"})}),E.jsx("div",{className:"grid grid-cols-5 gap-1",children:Yn.map((ct,dt)=>E.jsxs("div",{className:"flex flex-col gap-0.5",children:[E.jsx("button",{onClick:()=>At(xt.id,dt,!0),className:"w-7 h-6 rounded-t border border-white/30 hover:scale-110 transition-transform flex items-center justify-center",style:{backgroundColor:ct.hero},title:"Hero (brillante)",children:E.jsx(Uu,{size:10,className:"text-white/80"})}),E.jsx("button",{onClick:()=>At(xt.id,dt,!1),className:"w-7 h-6 rounded-b border border-white/30 hover:scale-110 transition-transform",style:{backgroundColor:ct.fill},title:"Fill (apagado)"})]},dt))})]}),b&&E.jsxs(E.Fragment,{children:[E.jsx("div",{onMouseDown:ct=>wt(ct,"left"),onTouchStart:ct=>wt(ct,"left"),className:`absolute -left-4 top-0 bottom-0 w-8 flex items-center justify-center cursor-ew-resize bg-white rounded-l-xl shadow-xl hover:scale-105 transition-transform ${tt==="left"?"bg-amber-400 scale-105":""}`,style:{touchAction:"none"},children:E.jsx(pm,{size:16,className:"text-black/70"})}),E.jsx("div",{onMouseDown:ct=>wt(ct,"right"),onTouchStart:ct=>wt(ct,"right"),className:`absolute -right-4 top-0 bottom-0 w-8 flex items-center justify-center cursor-ew-resize bg-white rounded-r-xl shadow-xl hover:scale-105 transition-transform ${tt==="right"?"bg-amber-400 scale-105":""}`,style:{touchAction:"none"},children:E.jsx(pm,{size:16,className:"text-black/70"})})]})]},xt.id)}),Rt.map(xt=>{const Qt=A[xt],Zt=A[xt+1],oe=Qt.end*T;return R===Qt.id||R===Zt.id?E.jsx("div",{onMouseDown:ct=>wt(ct,"junction",xt),onTouchStart:ct=>wt(ct,"junction",xt),className:`absolute top-2 bottom-2 z-40 cursor-ew-resize flex items-center justify-center rounded-lg transition-all hover:scale-110 ${tt==="junction"&&Vt===xt?"bg-amber-400 scale-110":"bg-white/90 hover:bg-amber-300"}`,style:{left:`${oe-10}px`,width:"20px",touchAction:"none"},title:"Mueve el punto de corte",children:E.jsx("div",{className:"w-1 h-1/2 bg-black/40 rounded"})},`junction-${xt}`):null}),E.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-white shadow-[0_0_15px_rgba(255,255,255,0.9)] z-50 pointer-events-none",style:{left:`${O*T}px`},children:E.jsx("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-10 border-t-white drop-shadow-lg"})})]})}),y&&A.length===0&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:E.jsxs("div",{className:"text-white/40 text-sm font-mono bg-black/60 px-4 py-3 rounded-lg text-center",children:[E.jsx("div",{className:"hidden md:block",children:"Doble-click para cortar  Alt + Rueda: Zoom"}),E.jsx("div",{className:"md:hidden",children:"Toca KUE para cortar  Pellizca: Zoom"})]})})]})});Zm.displayName="Waveform";function oi(M,f=!0){if(!isFinite(M))return"00:00.000";const o=Math.floor(M/60),c=Math.floor(M%60),y=Math.floor(M%1*1e3);return f?`${o}:${c.toString().padStart(2,"0")}.${y.toString().padStart(3,"0")}`:`${o}:${c.toString().padStart(2,"0")}`}const Sm=M=>{const f=[],o=M.prompt;return o?.subject&&f.push(o.subject),o?.action&&f.push(o.action),M.colorName&&f.push(`in ${M.colorName}`),o?.lighting&&f.push(`${o.lighting} lighting`),o?.camera&&o.camera!=="Static"&&f.push(`${o.camera} camera`),o?.style&&f.push(`${o.style} style`),f.join(", ")||M.note||""},Gm=Wt.memo(({segment:M,segmentNumber:f})=>{const[o,c]=Wt.useState(!1),y=ee(k=>k.updateSegment),m=M.prompt||{subject:"",action:"",lighting:"",camera:"",style:""},x=(k,C)=>{y(M.id,{prompt:{...m,[k]:C}})},p=(k,C)=>{const O=Yn[k];y(M.id,{color:C?O.hero:O.fill,isHero:C})},v=k=>{y(M.id,{colorName:k})},g=async()=>{const k=Sm(M);await navigator.clipboard.writeText(k),c(!0),setTimeout(()=>c(!1),2e3)};return E.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-lg p-4 space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-5 h-5 rounded",style:{backgroundColor:M.color||"#8b5cf6"}}),E.jsxs("span",{className:"text-white font-bold",children:["Kue #",f]}),M.isHero?E.jsxs("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-400 px-1.5 py-0.5 rounded flex items-center gap-1",children:[E.jsx(Uu,{size:10})," HERO"]}):E.jsxs("span",{className:"text-[10px] bg-white/10 text-white/50 px-1.5 py-0.5 rounded flex items-center gap-1",children:[E.jsx(Jc,{size:10})," FILL"]})]}),E.jsxs("button",{onClick:g,className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${o?"bg-green-500/20 text-green-400":"bg-neon-purple/20 text-neon-purple hover:bg-neon-purple/30"}`,children:[o?E.jsx(Qc,{size:14}):E.jsx(Tm,{size:14}),o?"Copiado!":"Copiar Prompt"]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-2",children:[E.jsx(Zc,{size:10})," Color"]}),E.jsx("div",{className:"flex flex-wrap gap-1",children:Yn.map((k,C)=>E.jsxs("div",{className:"flex flex-col gap-0.5",children:[E.jsx("button",{onClick:()=>p(C,!0),title:"Hero (brillante)",className:`w-6 h-5 rounded-t border transition-all ${M.color===k.hero&&M.isHero?"ring-2 ring-white scale-110 border-white":"hover:scale-105 border-white/20"}`,style:{backgroundColor:k.hero}}),E.jsx("button",{onClick:()=>p(C,!1),title:"Fill (apagado)",className:`w-6 h-5 rounded-b border transition-all ${M.color===k.fill&&!M.isHero?"ring-2 ring-white scale-110 border-white":"hover:scale-105 border-white/20"}`,style:{backgroundColor:k.fill}})]},C))})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-2",children:[E.jsx(Lc,{size:10})," Entorno (texto libre)"]}),E.jsx("input",{type:"text",value:M.colorName||"",onChange:k=>v(k.target.value),placeholder:"Ej: Playa al atardecer, Club nocturno...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/30 outline-none focus:border-neon-purple/50"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[E.jsx(Lc,{size:10})," Sujeto"]}),E.jsx("input",{type:"text",value:m.subject,onChange:k=>x("subject",k.target.value),placeholder:"Mujer joven, vestido rojo...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/20 outline-none focus:border-neon-purple/50"})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[E.jsx(Lc,{size:10})," Accin"]}),E.jsx("input",{type:"text",value:m.action,onChange:k=>x("action",k.target.value),placeholder:"Caminando, mirando a cmara...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/20 outline-none focus:border-neon-purple/50"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[E.jsx(Dv,{size:10})," Iluminacin"]}),E.jsxs("select",{value:m.lighting,onChange:k=>x("lighting",k.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm outline-none focus:border-neon-purple/50 cursor-pointer",children:[E.jsx("option",{value:"",className:"bg-cyber-gray",children:"Seleccionar..."}),T0.map(k=>E.jsx("option",{value:k,className:"bg-cyber-gray",children:k},k))]})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[E.jsx(Q0,{size:10})," Cmara"]}),E.jsxs("select",{value:m.camera,onChange:k=>x("camera",k.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm outline-none focus:border-neon-purple/50 cursor-pointer",children:[E.jsx("option",{value:"",className:"bg-cyber-gray",children:"Seleccionar..."}),A0.map(k=>E.jsx("option",{value:k,className:"bg-cyber-gray",children:k},k))]})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[E.jsx(Zc,{size:10})," Estilo"]}),E.jsxs("select",{value:m.style,onChange:k=>x("style",k.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm outline-none focus:border-neon-purple/50 cursor-pointer",children:[E.jsx("option",{value:"",className:"bg-cyber-gray",children:"Seleccionar..."}),z0.map(k=>E.jsx("option",{value:k,className:"bg-cyber-gray",children:k},k))]})]})]}),E.jsxs("div",{className:"bg-white/5 border border-white/10 rounded p-3",children:[E.jsx("div",{className:"text-[10px] text-white/40 uppercase tracking-wider mb-1",children:"Prompt Generado"}),E.jsx("p",{className:"text-white/80 text-sm italic",children:Sm(M)||"Completa los campos para generar el prompt..."})]})]})});Gm.displayName="PromptBuilder";const Xm=Wt.memo(()=>{const M=ee(w=>w.segments),f=ee(w=>w.activeSegmentId),o=ee(w=>w.isPlaying),c=ee(w=>w.setActiveSegmentId),y=ee(w=>w.deleteSegment),m=ee(w=>w.updateSegment),x=ee(w=>w.setCurrentTime),p=ee(w=>w.setIsPlaying),v=Wt.useRef(null),[g,k]=Wt.useState(null),C=Wt.useRef(new Map);Wt.useEffect(()=>{if(!o)return;const w=setInterval(()=>{const{currentTime:R,segments:D,activeSegmentId:H}=ee.getState(),Y=D.find(J=>R>=J.start&&R<J.end);if(Y&&H!==Y.id&&(c(Y.id),v.current)){const J=v.current.querySelector(`[data-seg-id="${Y.id}"]`);J&&J.scrollIntoView({behavior:"auto",block:"nearest"})}},100);return()=>clearInterval(w)},[o,c]);const O=w=>{x(w),p(!0)},T=(w,R)=>{const D=R.target.files?.[0];if(!D)return;const H=new FileReader;H.onload=Y=>{const J=Y.target?.result;m(w,{thumbnail:J})},H.readAsDataURL(D)},A=w=>{k(g===w?null:w)};return E.jsxs("div",{className:"h-full flex flex-col bg-cyber-gray",children:[E.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/10 bg-black/40",children:[E.jsxs("h2",{className:"text-lg font-bold text-neon-purple tracking-widest flex items-center gap-2",children:[E.jsx(jm,{size:18,className:"opacity-60"}),"GUIN"]}),E.jsxs("span",{className:"text-xs font-mono bg-neon-purple/20 text-neon-purple px-2 py-1 rounded",children:[M.length," Kues"]})]}),E.jsxs("div",{ref:v,className:"flex-1 overflow-y-auto p-3 space-y-2 scrollbar-thin scrollbar-thumb-neon-purple/20",children:[M.map((w,R)=>{const D=g===w.id,H=f===w.id;return E.jsxs("div",{"data-seg-id":w.id,className:`
                                rounded-lg border transition-all overflow-hidden
                                ${H?"border-white/30":"border-white/5 hover:border-white/20"}
                            `,style:{boxShadow:H?`0 0 10px ${w.color||"#8b5cf6"}40`:"none"},children:[E.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-white/5",onClick:()=>A(w.id),children:[E.jsx("button",{className:"text-white/40 hover:text-white shrink-0",children:D?E.jsx(km,{size:16}):E.jsx(P0,{size:16})}),E.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center text-white font-bold text-sm shrink-0",style:{backgroundColor:w.color||"#8b5cf6"},children:R+1}),w.isHero?E.jsx(Uu,{size:12,className:"text-yellow-400 shrink-0"}):E.jsx(Jc,{size:12,className:"text-white/30 shrink-0"}),E.jsx("div",{className:"font-mono text-xs text-white/60 shrink-0",children:oi(w.start)}),E.jsx("div",{className:"flex-1 text-sm text-white/70 truncate",children:w.prompt?.subject||w.note||E.jsx("span",{className:"text-white/30 italic",children:"Sin descripcin"})}),E.jsxs("div",{className:"text-xs font-mono text-white/40 shrink-0",children:[(w.end-w.start).toFixed(1),"s"]}),E.jsxs("div",{className:"flex gap-1 shrink-0",children:[E.jsx("button",{onClick:Y=>{Y.stopPropagation(),O(w.start)},className:"p-1.5 rounded hover:bg-neon-purple/20 text-white/50 hover:text-neon-purple transition-colors",title:"Reproducir",children:E.jsx(Fc,{size:14,fill:"currentColor"})}),E.jsx("button",{onClick:Y=>{Y.stopPropagation(),y(w.id)},className:"p-1.5 rounded hover:bg-red-500/20 text-white/50 hover:text-red-400 transition-colors",title:"Eliminar",children:E.jsx(Ic,{size:14})})]})]}),D&&E.jsxs("div",{className:"border-t border-white/10",children:[E.jsx("div",{className:"p-3 bg-black/20",children:E.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden cursor-pointer",style:{backgroundColor:`${w.color||"#8b5cf6"}20`},children:[w.thumbnail?E.jsx("img",{src:w.thumbnail,alt:`Storyboard ${R+1}`,className:"w-full h-full object-cover",onClick:()=>O(w.start)}):E.jsxs("label",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",children:[E.jsx(Dm,{size:32,className:"text-white/20 mb-2"}),E.jsx("span",{className:"text-xs text-white/30",children:"Click para subir imagen de referencia"}),E.jsx("input",{id:`image-upload-${w.id}`,name:`image-upload-${w.id}`,type:"file",accept:"image/*",className:"hidden",onChange:Y=>T(w.id,Y),ref:Y=>{Y&&C.current.set(w.id,Y)}})]}),w.thumbnail&&E.jsx("button",{onClick:()=>C.current.get(w.id)?.click(),className:"absolute bottom-2 right-2 p-2 bg-black/60 rounded text-white/70 hover:text-white transition-colors",title:"Cambiar imagen",children:E.jsx(zm,{size:16})})]})}),E.jsx("div",{className:"p-3",children:E.jsx(Gm,{segment:w,segmentNumber:R+1})})]})]},w.id)}),M.length===0&&E.jsxs("div",{className:"text-center text-white/20 mt-10 font-mono text-sm py-8 border border-dashed border-white/10 rounded-lg",children:[E.jsx("div",{className:"text-3xl mb-3",children:""}),E.jsx("div",{className:"mb-2",children:"An no hay Kues"}),E.jsx("div",{className:"text-xs text-white/40",children:"Presiona KUE para crear cortes"})]})]})]})});Xm.displayName="SegmentList";const Vm=Wt.memo(({showLyrics:M,setShowLyrics:f,showMobileDrawer:o,setShowMobileDrawer:c})=>{const y=ee(Z=>Z.isPlaying),m=ee(Z=>Z.currentTime),x=ee(Z=>Z.duration),p=ee(Z=>Z.segments),v=ee(Z=>Z.setIsPlaying),g=ee(Z=>Z.setCurrentTime),k=ee(Z=>Z.undo),C=ee(Z=>Z.canUndo),O=ee(Z=>Z.showToast),{isLongPressing:T,handlePress:A,handleRelease:w,handleCancel:R}=Lm(),[D,H]=Wt.useState(!1),Y=Wt.useRef(null),J=()=>{k()&&O("Deshecho")},I=()=>{if(v(!1),D){g(0),H(!1),O(" Inicio");return}if(p.length>0){const Z=[...p].sort((tt,Ct)=>tt.start-Ct.start);let X=0,mt=null;for(const tt of Z)if(m>=tt.start&&m<tt.end){X=tt.end,mt=tt;break}if(!mt){for(const tt of Z)if(tt.end>m){X=tt.end,mt=tt;break}}if(!mt&&Z.length>0&&(X=Z[Z.length-1].end,mt=Z[Z.length-1]),mt){const tt=ee.getState().getSegmentNumber(mt.id);g(X),O(` Fin Kue #${tt}`),H(!0),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{H(!1)},1e3);return}}g(0),O(" Inicio")};return E.jsxs("div",{className:"h-16 border-t border-white/10 bg-black/80 flex items-center justify-center gap-3 md:gap-6 shrink-0 px-3",children:[E.jsxs("div",{className:"font-mono text-xs md:text-sm text-white/60",children:[E.jsx("span",{className:"text-white font-bold",children:oi(m)}),E.jsx("span",{className:"mx-1 hidden md:inline",children:"/"}),E.jsx("span",{className:"hidden md:inline",children:oi(x)})]}),E.jsx("button",{onClick:()=>v(!y),className:"p-3 rounded-full bg-white/5 hover:bg-white/10 text-white transition-all hover:scale-110 active:scale-95 shadow-lg",children:y?E.jsx(Om,{size:20,fill:"currentColor"}):E.jsx(Fc,{size:20,fill:"currentColor"})}),E.jsx("button",{onClick:I,className:`p-2.5 rounded-lg transition-all ${D?"bg-red-500/30 text-red-400 ring-1 ring-red-500/50":"bg-white/5 hover:bg-red-500/20 text-white/60 hover:text-red-400"}`,title:D?"Toca de nuevo para ir al inicio":"Ir al fin del Kue actual",children:E.jsx(Nv,{size:16,fill:"currentColor"})}),E.jsxs("button",{onMouseDown:A,onMouseUp:w,onMouseLeave:R,onTouchStart:A,onTouchEnd:w,className:`
          flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-base transition-all
          active:scale-95 shadow-lg select-none
          ${T?"bg-linear-to-r from-green-500 to-green-700 text-white shadow-green-500/30":"bg-linear-to-r from-neon-purple to-pink-600 text-white shadow-neon-purple/30 hover:scale-105"}
        `,children:[E.jsx(Mm,{size:18}),"KUE"]}),E.jsx("button",{onClick:J,disabled:!C(),className:"p-2.5 rounded-lg bg-white/5 hover:bg-white/10 text-white/60 hover:text-white transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:"Deshacer",children:E.jsx(Hv,{size:18})}),E.jsx("button",{onClick:()=>f(!M),className:`p-2.5 rounded-lg transition-all ${M?"bg-neon-purple/30 text-neon-purple":"bg-white/5 hover:bg-white/10 text-white/60 hover:text-neon-purple"}`,title:"Mostrar/ocultar lyrics de referencia",children:E.jsx(Am,{size:18})}),E.jsx("button",{onClick:()=>c(!o),className:`p-2.5 rounded-lg transition-all ${o?"bg-neon-purple/30 text-neon-purple":"bg-white/5 hover:bg-white/10 text-white/60 hover:text-neon-purple"}`,title:"Ver prompts/guin",children:o?E.jsx(km,{size:18}):E.jsx($0,{size:18})})]})});Vm.displayName="ControlBar";const Qm=Wt.memo(({currentKue:M,currentKueNumber:f})=>{const o=ee(c=>c.updateSegment);return E.jsxs("div",{className:"bg-black/60 border-t border-white/10 px-4 py-2 shrink-0",children:[E.jsxs("div",{className:"flex items-center justify-between gap-3",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-4 h-4 rounded shrink-0",style:{backgroundColor:M.color||"#8b5cf6"}}),E.jsxs("span",{className:"text-white font-bold text-sm shrink-0",children:["#",f]}),E.jsxs("span",{className:"text-white/40 text-xs shrink-0 hidden md:inline",children:[oi(M.start),"  ",oi(M.end)]})]}),E.jsxs("span",{className:"text-white/60 text-xs font-mono shrink-0",children:[(M.end-M.start).toFixed(1),"s"]})]}),E.jsx("input",{type:"text",value:M.note||"",onChange:c=>o(M.id,{note:c.target.value}),placeholder:"Escribe la nota/lyric de este Kue...",className:"w-full mt-2 px-3 py-1.5 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/30 outline-none focus:border-neon-purple/50 transition-colors"})]})});Qm.displayName="KueInfoBar";const Jm=Wt.memo(({projectLyrics:M,setProjectLyrics:f})=>{const o=ee(x=>x.segments),c=ee(x=>x.assignLyricsToKues),y=ee(x=>x.showToast),m=()=>{if(!M.trim()){y("Escribe o pega la letra primero");return}if(o.length===0){y("Primero crea algunos Kues");return}c(M)};return E.jsxs("div",{className:"border-t border-neon-purple/30 bg-black/40 px-4 py-3 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(Am,{size:14,className:"text-neon-purple"}),E.jsx("span",{className:"text-white/60 text-xs font-mono",children:"LYRICS / REFERENCIA"}),E.jsx("div",{className:"flex-1"}),E.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-[10px] bg-white/10 hover:bg-neon-purple/20 text-white/60 hover:text-neon-purple px-2 py-1 rounded transition-colors",title:"Asignar cada lnea de texto a un Kue existente",children:[E.jsx(K0,{size:12}),"Distribuir en Kues"]})]}),E.jsx("textarea",{value:M,onChange:x=>f(x.target.value),placeholder:`Pega aqu la letra de la cancin como referencia...
Lnea 1
Lnea 2
...`,className:"w-full h-24 md:h-32 px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/20 outline-none focus:border-neon-purple/50 transition-colors resize-none font-mono leading-relaxed"})]})});Jm.displayName="LyricsPanel";const Fm=Wt.memo(()=>{const M=ee(y=>y.segments),f=ee(y=>y.duration),o=ee(y=>y.currentTime);if(f<=0)return null;const c=M.reduce((y,m)=>y+(m.end-m.start),0);return E.jsxs("div",{className:"h-8 bg-black/80 border-t border-white/10 flex items-center px-4 gap-3 shrink-0",children:[E.jsxs("div",{className:"flex-1 h-2 bg-white/10 rounded-full overflow-hidden relative",children:[M.map(y=>{const m=y.start/f*100,x=(y.end-y.start)/f*100;return E.jsx("div",{className:"absolute top-0 h-full rounded-full",style:{left:`${m}%`,width:`${x}%`,backgroundColor:y.color||"#8b5cf6"}},y.id)}),E.jsx("div",{className:"absolute top-0 w-0.5 h-full bg-white shadow-lg",style:{left:`${o/f*100}%`}})]}),E.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono text-white/50 shrink-0",children:[E.jsxs("span",{className:"text-neon-purple",children:[M.length," Kues"]}),E.jsx("span",{children:""}),E.jsxs("span",{children:[oi(c)," cubiertos"]})]})]})});Fm.displayName="ProgressBar";const Em=8,fg=({isOpen:M,onClose:f,projectName:o,projectId:c})=>{const{segments:y,bpm:m}=ee(),[x,p]=Wt.useState(!1),[v,g]=Wt.useState("script"),[k,C]=Wt.useState(!1),[O,T]=Wt.useState(null);if(!M)return null;const A=()=>{const Z={projectName:o,projectId:c,bpm:m,exportedAt:new Date().toISOString(),segments:y.map(X=>({id:X.id,start:X.start,end:X.end,duration:X.end-X.start,note:X.note,color:X.color,hasThumbnail:!!X.thumbnail}))};return JSON.stringify(Z,null,2)},w=()=>{const Z="Shot,Start,End,Duration,Note",X=y.map((mt,tt)=>`${tt+1},${mt.start.toFixed(3)},${mt.end.toFixed(3)},${(mt.end-mt.start).toFixed(3)},"${mt.note.replace(/"/g,'""')}"`);return[Z,...X].join(`
`)},R=()=>{const Z=[];Z.push(""),Z.push(`    ${o.toUpperCase()}`),Z.push("   Guin Cinematogrfico para IA"),Z.push(""),Z.push(""),Z.push(` BPM: ${m||"No detectado"}`),Z.push(` Total Shots: ${y.length}`),Z.push(`  Duracin Total: ${oi(y.reduce((mt,tt)=>mt+(tt.end-tt.start),0),!1)}`),Z.push("");const X=y.filter(mt=>mt.end-mt.start>Em);return X.length>0&&(Z.push("  ADVERTENCIA: Los siguientes shots exceden 8 segundos."),Z.push("    Considera dividirlos para mejor generacin"),X.forEach(mt=>{const tt=y.findIndex(Ct=>Ct.id===mt.id)+1;Z.push(`    - Shot ${tt.toString().padStart(2,"0")}: ${(mt.end-mt.start).toFixed(1)}s`)}),Z.push("")),Z.push(""),Z.push(""),y.forEach((mt,tt)=>{const Ct=mt.end-mt.start,Vt=Math.round(Ct*24),G=(tt+1).toString().padStart(2,"0"),yt=Ct>Em;Z.push(""),Z.push(`  SHOT ${G}  ${yt?"":"  "}                                            `),Z.push(""),Z.push(`    Duracin: ${Ct.toFixed(2)}s (${Vt} frames @ 24fps)`),Z.push(`   Tiempo: ${oi(mt.start)}  ${oi(mt.end)}`),Z.push(""),Z.push("   PROMPT:");const S=mt.note||"[Sin descripcin - Agrega una nota en el editor]";D(S,55).forEach(ut=>{Z.push(`     ${ut}`)}),Z.push(""),Z.push(""),Z.push("")}),Z.push(""),Z.push(""),Z.push(" TIPS PARA GENERACIN DE VIDEO CON IA:"),Z.push("    Mximo recomendado por clip: 8 segundos"),Z.push('    Incluye estilo visual: "cinematic", "anime", "realistic"'),Z.push('    Describe movimientos de cmara: "slow pan", "dolly in"'),Z.push("    Mantn consistencia de personajes entre shots"),Z.push(""),Z.push(`Generado con KueStudio  ${new Date().toLocaleString()}`),Z.join(`
`)},D=(Z,X)=>{const mt=Z.split(" "),tt=[];let Ct="";return mt.forEach(Vt=>{(Ct+" "+Vt).trim().length<=X?Ct=(Ct+" "+Vt).trim():(Ct&&tt.push(Ct),Ct=Vt)}),Ct&&tt.push(Ct),tt.length>0?tt:[""]},H=()=>{switch(v){case"json":return A();case"csv":return w();case"script":return R();case"project":return` Proyecto: ${o}

Este archivo .kue contiene:
 Audio/Video original
 ${y.length} Kues con toda su informacin
 ${y.filter(Z=>Z.thumbnail).length} imgenes en alta calidad (1280x720)
 Metadata (BPM: ${m||"N/A"})

El archivo .kue es un ZIP que puedes abrir
con cualquier programa de descompresin
para extraer las imgenes si lo necesitas.`}},Y=async()=>{C(!0),T(null);try{const Z=await Jv(c),X=document.createElement("a");X.href=URL.createObjectURL(Z),X.download=`${o}.kue`,X.click(),URL.revokeObjectURL(X.href)}catch(Z){console.error("Error exporting project:",Z),T("Error al exportar el proyecto")}finally{C(!1)}},J=()=>{if(v==="project"){Y();return}const Z=H(),X={json:"json",csv:"csv",script:"txt",project:"kue"},mt={json:"application/json",csv:"text/csv",script:"text/plain",project:"application/zip"},tt=new Blob([Z||""],{type:mt[v]}),Ct=document.createElement("a");Ct.href=URL.createObjectURL(tt),Ct.download=`${o}_${v}.${X[v]}`,Ct.click()},I=async()=>{await navigator.clipboard.writeText(H()),p(!0),setTimeout(()=>p(!1),2e3)};return E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-cyber-gray border border-neon-purple/30 rounded-2xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl shadow-neon-purple/20",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[E.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[E.jsx(Hc,{size:24,className:"text-neon-purple"}),"Exportar Proyecto"]}),E.jsx("button",{onClick:f,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:E.jsx(Bm,{size:20,className:"text-white/60"})})]}),E.jsxs("div",{className:"flex border-b border-white/10 overflow-x-auto",children:[E.jsxs("button",{onClick:()=>g("project"),className:`flex-1 p-3 flex items-center justify-center gap-2 transition-colors min-w-fit ${v==="project"?"bg-green-500/20 text-green-400 border-b-2 border-green-400":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[E.jsx(ys,{size:18}),E.jsx("span",{className:"font-medium whitespace-nowrap",children:".kue"})]}),E.jsxs("button",{onClick:()=>g("script"),className:`flex-1 p-3 flex items-center justify-center gap-2 transition-colors ${v==="script"?"bg-neon-purple/20 text-neon-purple border-b-2 border-neon-purple":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[E.jsx(Hc,{size:18}),E.jsx("span",{className:"font-medium",children:"Guin"})]}),E.jsxs("button",{onClick:()=>g("json"),className:`flex-1 p-3 flex items-center justify-center gap-2 transition-colors ${v==="json"?"bg-neon-purple/20 text-neon-purple border-b-2 border-neon-purple":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[E.jsx(uv,{size:18}),E.jsx("span",{className:"font-medium hidden sm:inline",children:"JSON"})]}),E.jsxs("button",{onClick:()=>g("csv"),className:`flex-1 p-3 flex items-center justify-center gap-2 transition-colors ${v==="csv"?"bg-neon-purple/20 text-neon-purple border-b-2 border-neon-purple":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[E.jsx(hv,{size:18}),E.jsx("span",{className:"font-medium hidden sm:inline",children:"CSV"})]})]}),E.jsx("div",{className:"flex-1 overflow-auto p-4",children:E.jsx("pre",{className:"bg-black/50 rounded-lg p-4 text-sm text-white/80 font-mono whitespace-pre-wrap overflow-auto max-h-[400px] border border-white/10",children:H()})}),y.length===0&&E.jsxs("div",{className:"mx-4 mb-4 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-center gap-3 text-amber-400",children:[E.jsx(Gc,{size:20}),E.jsx("span",{className:"text-sm",children:"No hay segmentos para exportar. Crea algunos Kues primero."})]}),O&&E.jsxs("div",{className:"mx-4 mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg flex items-center gap-3 text-red-400",children:[E.jsx(Gc,{size:20}),E.jsx("span",{className:"text-sm",children:O})]}),E.jsxs("div",{className:"flex gap-3 p-4 border-t border-white/10",children:[v!=="project"&&E.jsxs("button",{onClick:I,className:"flex-1 p-3 bg-white/5 hover:bg-white/10 rounded-xl flex items-center justify-center gap-2 text-white transition-colors",children:[x?E.jsx(Qc,{size:18,className:"text-green-400"}):E.jsx(Tm,{size:18}),x?"Copiado!":"Copiar"]}),E.jsx("button",{onClick:J,disabled:k||v!=="project"&&y.length===0,className:`flex-1 p-3 rounded-xl flex items-center justify-center gap-2 font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${v==="project"?"bg-green-500 hover:bg-green-600 text-black":"bg-neon-purple hover:bg-neon-purple/80 text-black"}`,children:k?E.jsxs(E.Fragment,{children:[E.jsx(Nm,{size:18,className:"animate-spin"}),"Empaquetando..."]}):v==="project"?E.jsxs(E.Fragment,{children:[E.jsx(ys,{size:18}),"Descargar .kue"]}):E.jsxs(E.Fragment,{children:[E.jsx(Hc,{size:18}),"Descargar"]})})]})]})})},Im=Wt.memo(({isOpen:M,onConfirm:f})=>M?E.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-cyber-gray border border-neon-purple/30 rounded-xl p-6 max-w-sm mx-4",children:[E.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Cerrar hasta el final?"}),E.jsx("p",{className:"text-white/60 text-sm mb-6",children:"Esto crear el ltimo Kue desde la posicin actual hasta el final de la pista."}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:()=>f(!0),className:"flex-1 px-4 py-2 bg-neon-purple text-black font-bold rounded-lg hover:bg-neon-purple/80 transition-colors",children:"Cerrar"})]})]})}):null);Im.displayName="CloseConfirmModal";const Pm=Wt.memo(({isOpen:M,onClose:f})=>{const[o,c]=Wt.useState(4),y=ee(p=>p.bpm),m=ee(p=>p.autoSplitByBpm);if(!M)return null;const x=()=>{confirm(" ARRIESGADO: Esto eliminar todos los Kues actuales y crear nuevos basados en el BPM. Continuar?")&&(m(o),f())};return E.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-cyber-gray border border-amber-500/30 rounded-xl p-6 max-w-sm mx-4 w-full shadow-[0_0_50px_rgba(245,158,11,0.2)]",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-400",children:[E.jsx(Rm,{size:24}),E.jsx("h3",{className:"font-bold text-lg",children:"Herramientas Mgicas"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[E.jsx("label",{className:"block text-xs uppercase tracking-wider text-white/40 mb-2",children:"Auto-Split por BPM"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Beats por Comps"}),E.jsx("input",{type:"number",value:o,onChange:p=>c(parseInt(p.target.value)||4),className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-white outline-none focus:border-amber-500/50"})]}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-xs text-white/60 mb-1",children:"BPM Actual"}),E.jsx("div",{className:"px-3 py-2 text-white/40 font-mono bg-black/20 rounded border border-white/5",children:y>0?y:"No definido"})]})]}),E.jsxs("button",{onClick:x,disabled:y<=0,className:"w-full mt-3 py-2 bg-amber-500/20 hover:bg-amber-500/30 text-amber-500 border border-amber-500/30 rounded font-bold text-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[E.jsx(Mm,{size:14}),y>0?"Dividir Pista Completa":"Define BPM primero"]}),E.jsx("p",{className:"text-[10px] text-white/30 mt-2 text-center",children:" Sobreescribir todos los Kues actuales"})]}),E.jsx("button",{onClick:f,className:"w-full py-3 text-white/40 hover:text-white transition-colors text-sm",children:"Cancelar"})]})]})})});Pm.displayName="ToolsModal";function hg({projectId:M,projectName:f,setProjectName:o,onBack:c}){const[y,m]=Wt.useState(!1),[x,p]=Wt.useState(!1),[v,g]=Wt.useState(!1),[k,C]=Wt.useState(!1),[O,T]=Wt.useState(""),A=ee(X=>X.segments),w=ee(X=>X.bpm),R=ee(X=>X.currentTime),D=ee(X=>X.setBpm),H=ee(X=>X.getSegmentNumber),{showCloseConfirm:Y,handleCloseConfirm:J}=Lm();Wt.useEffect(()=>{M&&A.length>=0&&xa.projects.update(M,{segments:A,updatedAt:Date.now()})},[A,M]);const I=A.find(X=>R>=X.start&&R<X.end),Z=I?H(I.id):null;return E.jsxs("div",{className:"h-screen bg-neon-dark text-cyber-text flex flex-col overflow-hidden font-sans fixed inset-0 touch-pan-x overscroll-none",children:[E.jsxs("header",{className:"h-14 border-b border-neon-purple/20 flex items-center px-4 bg-black/60 backdrop-blur justify-between shrink-0 z-20",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:c,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:E.jsx(Z0,{size:20,className:"text-white"})}),E.jsx("input",{type:"text",name:"project-name",value:f,onChange:X=>{o(X.target.value),xa.projects.update(M,{name:X.target.value})},className:"bg-transparent border-none text-white font-bold text-lg outline-none w-40 md:w-60"})]}),E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("input",{type:"number",value:w||"",onChange:X=>{const mt=parseInt(X.target.value)||0;D(mt),xa.projects.update(M,{bpm:mt})},placeholder:"BPM",className:"w-16 px-2 py-1 bg-amber-500/10 text-amber-400 text-xs border border-amber-500/20 rounded font-mono text-center outline-none focus:border-amber-400"}),E.jsx("button",{onClick:()=>m(!0),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-white/60 hover:text-neon-purple",title:"Exportar proyecto",children:E.jsx(lv,{size:18})}),E.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-white/60 hover:text-amber-400",title:"Herramientas Mgicas",children:E.jsx(Rm,{size:18})}),E.jsxs("div",{className:"hidden md:flex px-3 py-1 bg-green-500/10 text-green-400 text-xs border border-green-500/20 rounded items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"AUTO"]})]})]}),E.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsx("div",{className:"flex-1 flex items-center justify-center p-2 md:p-4 bg-black overflow-hidden min-h-0",children:E.jsxs("div",{className:"w-full max-w-4xl aspect-video shadow-2xl bg-black border border-neon-purple/30 rounded-lg overflow-hidden relative group",children:[E.jsx(eg,{}),E.jsx("div",{className:"hidden",children:E.jsx(tg,{})})]})}),I&&Z&&E.jsx(Qm,{currentKue:I,currentKueNumber:Z}),E.jsx(Vm,{showLyrics:k,setShowLyrics:C,showMobileDrawer:x,setShowMobileDrawer:p}),k&&E.jsx(Jm,{projectLyrics:O,setProjectLyrics:T}),E.jsxs("div",{className:"h-32 md:h-44 border-t border-neon-purple/30 bg-[#111115] relative shrink-0",children:[E.jsxs("div",{className:"absolute bottom-1 left-2 z-10 px-2 py-0.5 bg-neon-purple/20 text-neon-purple text-[10px] font-mono rounded border border-neon-purple/30",children:[A.length," Kues"]}),E.jsx(Zm,{})]}),x&&E.jsx("div",{className:"h-64 md:h-80 border-t border-neon-purple/30 bg-cyber-gray overflow-hidden shrink-0",children:E.jsx(Xm,{})}),E.jsx(Fm,{})]}),E.jsx(Um,{}),E.jsx(Im,{isOpen:Y,onConfirm:J}),E.jsx(Pm,{isOpen:v,onClose:()=>g(!1)}),E.jsx(fg,{isOpen:y,onClose:()=>m(!1),projectName:f,projectId:M})]})}function dg(){const[M,f]=Wt.useState("HOME"),[o,c]=Wt.useState(null),[y,m]=Wt.useState(""),x=ee(O=>O.setVideoUrl),p=ee(O=>O.loadSegments),v=ee(O=>O.setBpm),g=O=>{const T=URL.createObjectURL(O.audioBlob);c(O.id),m(O.name),x(T),p(O.segments||[]),v(O.bpm||0),f("EDITOR")},k=async O=>{const T=crypto.randomUUID(),A=URL.createObjectURL(O),w=O.name.split(".")[0];await xa.projects.add({id:T,name:w,createdAt:Date.now(),updatedAt:Date.now(),audioBlob:O,bpm:0,segments:[]}),c(T),m(w),x(A),p([]),f("EDITOR")},C=()=>{f("HOME"),c(null)};return M==="HOME"?E.jsx($v,{onOpenProject:g,onCreateProject:k}):E.jsx(hg,{projectId:o||"",projectName:y,setProjectName:m,onBack:C})}S0.createRoot(document.getElementById("root")).render(E.jsx(Wt.StrictMode,{children:E.jsx(dg,{})}));

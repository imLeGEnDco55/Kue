(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))d(x);new MutationObserver(x=>{for(const w of x)if(w.type==="childList")for(const N of w.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&d(N)}).observe(document,{childList:!0,subtree:!0});function m(x){const w={};return x.integrity&&(w.integrity=x.integrity),x.referrerPolicy&&(w.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?w.credentials="include":x.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function d(x){if(x.ep)return;x.ep=!0;const w=m(x);fetch(x.href,w)}})();var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pm(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Mc={exports:{}},pu={};var Vh;function nv(){if(Vh)return pu;Vh=1;var g=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function m(d,x,w){var N=null;if(w!==void 0&&(N=""+w),x.key!==void 0&&(N=""+x.key),"key"in x){w={};for(var D in x)D!=="key"&&(w[D]=x[D])}else w=x;return x=w.ref,{$$typeof:g,type:d,key:N,ref:x!==void 0?x:null,props:w}}return pu.Fragment=c,pu.jsx=m,pu.jsxs=m,pu}var Zh;function av(){return Zh||(Zh=1,Mc.exports=nv()),Mc.exports}var y=av(),Ac={exports:{}},Ve={};var Jh;function lv(){if(Jh)return Ve;Jh=1;var g=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),I=Symbol.iterator;function oe(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ve={};function ie(O,ne,me){this.props=O,this.context=ne,this.refs=ve,this.updater=me||P}ie.prototype.isReactComponent={},ie.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},ie.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function je(){}je.prototype=ie.prototype;function he(O,ne,me){this.props=O,this.context=ne,this.refs=ve,this.updater=me||P}var Ne=he.prototype=new je;Ne.constructor=he,J(Ne,ie.prototype),Ne.isPureReactComponent=!0;var Ae=Array.isArray;function ce(){}var re={H:null,A:null,T:null,S:null},Qe=Object.prototype.hasOwnProperty;function Re(O,ne,me){var _e=me.ref;return{$$typeof:g,type:O,key:ne,ref:_e!==void 0?_e:null,props:me}}function pt(O,ne){return Re(O.type,ne,O.props)}function vt(O){return typeof O=="object"&&O!==null&&O.$$typeof===g}function st(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(me){return ne[me]})}var ot=/\/+/g;function Xe(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?st(""+O.key):ne.toString(36)}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ce,ce):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function $(O,ne,me,_e,Ke){var Ge=typeof O;(Ge==="undefined"||Ge==="boolean")&&(O=null);var nt=!1;if(O===null)nt=!0;else switch(Ge){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(O.$$typeof){case g:case c:nt=!0;break;case R:return nt=O._init,$(nt(O._payload),ne,me,_e,Ke)}}if(nt)return Ke=Ke(O),nt=_e===""?"."+Xe(O,0):_e,Ae(Ke)?(me="",nt!=null&&(me=nt.replace(ot,"$&/")+"/"),$(Ke,ne,me,"",function(ee){return ee})):Ke!=null&&(vt(Ke)&&(Ke=pt(Ke,me+(Ke.key==null||O&&O.key===Ke.key?"":(""+Ke.key).replace(ot,"$&/")+"/")+nt)),ne.push(Ke)),1;nt=0;var $t=_e===""?".":_e+":";if(Ae(O))for(var be=0;be<O.length;be++)_e=O[be],Ge=$t+Xe(_e,be),nt+=$(_e,ne,me,Ge,Ke);else if(be=oe(O),typeof be=="function")for(O=be.call(O),be=0;!(_e=O.next()).done;)_e=_e.value,Ge=$t+Xe(_e,be++),nt+=$(_e,ne,me,Ge,Ke);else if(Ge==="object"){if(typeof O.then=="function")return $(Et(O),ne,me,_e,Ke);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return nt}function ye(O,ne,me){if(O==null)return O;var _e=[],Ke=0;return $(O,_e,"","",function(Ge){return ne.call(me,Ge,Ke++)}),_e}function ze(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(me){(O._status===0||O._status===-1)&&(O._status=1,O._result=me)},function(me){(O._status===0||O._status===-1)&&(O._status=2,O._result=me)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var We=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:ye,forEach:function(O,ne,me){ye(O,function(){ne.apply(this,arguments)},me)},count:function(O){var ne=0;return ye(O,function(){ne++}),ne},toArray:function(O){return ye(O,function(ne){return ne})||[]},only:function(O){if(!vt(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ve.Activity=L,Ve.Children=He,Ve.Component=ie,Ve.Fragment=m,Ve.Profiler=x,Ve.PureComponent=he,Ve.StrictMode=d,Ve.Suspense=C,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(O){return re.H.useMemoCache(O)}},Ve.cache=function(O){return function(){return O.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(O,ne,me){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var _e=J({},O.props),Ke=O.key;if(ne!=null)for(Ge in ne.key!==void 0&&(Ke=""+ne.key),ne)!Qe.call(ne,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&ne.ref===void 0||(_e[Ge]=ne[Ge]);var Ge=arguments.length-2;if(Ge===1)_e.children=me;else if(1<Ge){for(var nt=Array(Ge),$t=0;$t<Ge;$t++)nt[$t]=arguments[$t+2];_e.children=nt}return Re(O.type,Ke,_e)},Ve.createContext=function(O){return O={$$typeof:N,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:w,_context:O},O},Ve.createElement=function(O,ne,me){var _e,Ke={},Ge=null;if(ne!=null)for(_e in ne.key!==void 0&&(Ge=""+ne.key),ne)Qe.call(ne,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ke[_e]=ne[_e]);var nt=arguments.length-2;if(nt===1)Ke.children=me;else if(1<nt){for(var $t=Array(nt),be=0;be<nt;be++)$t[be]=arguments[be+2];Ke.children=$t}if(O&&O.defaultProps)for(_e in nt=O.defaultProps,nt)Ke[_e]===void 0&&(Ke[_e]=nt[_e]);return Re(O,Ge,Ke)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(O){return{$$typeof:D,render:O}},Ve.isValidElement=vt,Ve.lazy=function(O){return{$$typeof:R,_payload:{_status:-1,_result:O},_init:ze}},Ve.memo=function(O,ne){return{$$typeof:S,type:O,compare:ne===void 0?null:ne}},Ve.startTransition=function(O){var ne=re.T,me={};re.T=me;try{var _e=O(),Ke=re.S;Ke!==null&&Ke(me,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(ce,We)}catch(Ge){We(Ge)}finally{ne!==null&&me.types!==null&&(ne.types=me.types),re.T=ne}},Ve.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ve.use=function(O){return re.H.use(O)},Ve.useActionState=function(O,ne,me){return re.H.useActionState(O,ne,me)},Ve.useCallback=function(O,ne){return re.H.useCallback(O,ne)},Ve.useContext=function(O){return re.H.useContext(O)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(O,ne){return re.H.useDeferredValue(O,ne)},Ve.useEffect=function(O,ne){return re.H.useEffect(O,ne)},Ve.useEffectEvent=function(O){return re.H.useEffectEvent(O)},Ve.useId=function(){return re.H.useId()},Ve.useImperativeHandle=function(O,ne,me){return re.H.useImperativeHandle(O,ne,me)},Ve.useInsertionEffect=function(O,ne){return re.H.useInsertionEffect(O,ne)},Ve.useLayoutEffect=function(O,ne){return re.H.useLayoutEffect(O,ne)},Ve.useMemo=function(O,ne){return re.H.useMemo(O,ne)},Ve.useOptimistic=function(O,ne){return re.H.useOptimistic(O,ne)},Ve.useReducer=function(O,ne,me){return re.H.useReducer(O,ne,me)},Ve.useRef=function(O){return re.H.useRef(O)},Ve.useState=function(O){return re.H.useState(O)},Ve.useSyncExternalStore=function(O,ne,me){return re.H.useSyncExternalStore(O,ne,me)},Ve.useTransition=function(){return re.H.useTransition()},Ve.version="19.2.3",Ve}var $h;function Kc(){return $h||($h=1,Ac.exports=lv()),Ac.exports}var Te=Kc();const el=pm(Te);var Oc={exports:{}},vu={},zc={exports:{}},Dc={};var Wh;function iv(){return Wh||(Wh=1,(function(g){function c($,ye){var ze=$.length;$.push(ye);e:for(;0<ze;){var We=ze-1>>>1,He=$[We];if(0<x(He,ye))$[We]=ye,$[ze]=He,ze=We;else break e}}function m($){return $.length===0?null:$[0]}function d($){if($.length===0)return null;var ye=$[0],ze=$.pop();if(ze!==ye){$[0]=ze;e:for(var We=0,He=$.length,O=He>>>1;We<O;){var ne=2*(We+1)-1,me=$[ne],_e=ne+1,Ke=$[_e];if(0>x(me,ze))_e<He&&0>x(Ke,me)?($[We]=Ke,$[_e]=ze,We=_e):($[We]=me,$[ne]=ze,We=ne);else if(_e<He&&0>x(Ke,ze))$[We]=Ke,$[_e]=ze,We=_e;else break e}}return ye}function x($,ye){var ze=$.sortIndex-ye.sortIndex;return ze!==0?ze:$.id-ye.id}if(g.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;g.unstable_now=function(){return w.now()}}else{var N=Date,D=N.now();g.unstable_now=function(){return N.now()-D}}var C=[],S=[],R=1,L=null,I=3,oe=!1,P=!1,J=!1,ve=!1,ie=typeof setTimeout=="function"?setTimeout:null,je=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function Ne($){for(var ye=m(S);ye!==null;){if(ye.callback===null)d(S);else if(ye.startTime<=$)d(S),ye.sortIndex=ye.expirationTime,c(C,ye);else break;ye=m(S)}}function Ae($){if(J=!1,Ne($),!P)if(m(C)!==null)P=!0,ce||(ce=!0,st());else{var ye=m(S);ye!==null&&Et(Ae,ye.startTime-$)}}var ce=!1,re=-1,Qe=5,Re=-1;function pt(){return ve?!0:!(g.unstable_now()-Re<Qe)}function vt(){if(ve=!1,ce){var $=g.unstable_now();Re=$;var ye=!0;try{e:{P=!1,J&&(J=!1,je(re),re=-1),oe=!0;var ze=I;try{t:{for(Ne($),L=m(C);L!==null&&!(L.expirationTime>$&&pt());){var We=L.callback;if(typeof We=="function"){L.callback=null,I=L.priorityLevel;var He=We(L.expirationTime<=$);if($=g.unstable_now(),typeof He=="function"){L.callback=He,Ne($),ye=!0;break t}L===m(C)&&d(C),Ne($)}else d(C);L=m(C)}if(L!==null)ye=!0;else{var O=m(S);O!==null&&Et(Ae,O.startTime-$),ye=!1}}break e}finally{L=null,I=ze,oe=!1}ye=void 0}}finally{ye?st():ce=!1}}}var st;if(typeof he=="function")st=function(){he(vt)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,Xe=ot.port2;ot.port1.onmessage=vt,st=function(){Xe.postMessage(null)}}else st=function(){ie(vt,0)};function Et($,ye){re=ie(function(){$(g.unstable_now())},ye)}g.unstable_IdlePriority=5,g.unstable_ImmediatePriority=1,g.unstable_LowPriority=4,g.unstable_NormalPriority=3,g.unstable_Profiling=null,g.unstable_UserBlockingPriority=2,g.unstable_cancelCallback=function($){$.callback=null},g.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qe=0<$?Math.floor(1e3/$):5},g.unstable_getCurrentPriorityLevel=function(){return I},g.unstable_next=function($){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var ze=I;I=ye;try{return $()}finally{I=ze}},g.unstable_requestPaint=function(){ve=!0},g.unstable_runWithPriority=function($,ye){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ze=I;I=$;try{return ye()}finally{I=ze}},g.unstable_scheduleCallback=function($,ye,ze){var We=g.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?We+ze:We):ze=We,$){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ze+He,$={id:R++,callback:ye,priorityLevel:$,startTime:ze,expirationTime:He,sortIndex:-1},ze>We?($.sortIndex=ze,c(S,$),m(C)===null&&$===m(S)&&(J?(je(re),re=-1):J=!0,Et(Ae,ze-We))):($.sortIndex=He,c(C,$),P||oe||(P=!0,ce||(ce=!0,st()))),$},g.unstable_shouldYield=pt,g.unstable_wrapCallback=function($){var ye=I;return function(){var ze=I;I=ye;try{return $.apply(this,arguments)}finally{I=ze}}}})(Dc)),Dc}var Ph;function rv(){return Ph||(Ph=1,zc.exports=iv()),zc.exports}var Rc={exports:{}},yn={};var Fh;function uv(){if(Fh)return yn;Fh=1;var g=Kc();function c(C){var S="https://react.dev/errors/"+C;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)S+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+C+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var d={d:{f:m,r:function(){throw Error(c(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},x=Symbol.for("react.portal");function w(C,S,R){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:L==null?null:""+L,children:C,containerInfo:S,implementation:R}}var N=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function D(C,S){if(C==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,yn.createPortal=function(C,S){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(c(299));return w(C,S,null,R)},yn.flushSync=function(C){var S=N.T,R=d.p;try{if(N.T=null,d.p=2,C)return C()}finally{N.T=S,d.p=R,d.d.f()}},yn.preconnect=function(C,S){typeof C=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,d.d.C(C,S))},yn.prefetchDNS=function(C){typeof C=="string"&&d.d.D(C)},yn.preinit=function(C,S){if(typeof C=="string"&&S&&typeof S.as=="string"){var R=S.as,L=D(R,S.crossOrigin),I=typeof S.integrity=="string"?S.integrity:void 0,oe=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;R==="style"?d.d.S(C,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:L,integrity:I,fetchPriority:oe}):R==="script"&&d.d.X(C,{crossOrigin:L,integrity:I,fetchPriority:oe,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},yn.preinitModule=function(C,S){if(typeof C=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var R=D(S.as,S.crossOrigin);d.d.M(C,{crossOrigin:R,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&d.d.M(C)},yn.preload=function(C,S){if(typeof C=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var R=S.as,L=D(R,S.crossOrigin);d.d.L(C,R,{crossOrigin:L,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},yn.preloadModule=function(C,S){if(typeof C=="string")if(S){var R=D(S.as,S.crossOrigin);d.d.m(C,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:R,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else d.d.m(C)},yn.requestFormReset=function(C){d.d.r(C)},yn.unstable_batchedUpdates=function(C,S){return C(S)},yn.useFormState=function(C,S,R){return N.H.useFormState(C,S,R)},yn.useFormStatus=function(){return N.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Ih;function sv(){if(Ih)return Rc.exports;Ih=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(c){console.error(c)}}return g(),Rc.exports=uv(),Rc.exports}var em;function ov(){if(em)return vu;em=1;var g=rv(),c=Kc(),m=sv();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function N(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C(e){if(w(e)!==e)throw Error(d(188))}function S(e){var t=e.alternate;if(!t){if(t=w(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var u=i.alternate;if(u===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return C(i),e;if(u===a)return C(i),t;u=u.sibling}throw Error(d(188))}if(n.return!==a.return)n=i,a=u;else{for(var f=!1,v=i.child;v;){if(v===n){f=!0,n=i,a=u;break}if(v===a){f=!0,a=i,n=u;break}v=v.sibling}if(!f){for(v=u.child;v;){if(v===n){f=!0,n=u,a=i;break}if(v===a){f=!0,a=u,n=i;break}v=v.sibling}if(!f)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}var L=Object.assign,I=Symbol.for("react.element"),oe=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),je=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Re=Symbol.for("react.activity"),pt=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=vt&&e[vt]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Symbol.for("react.client.reference");function Xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ot?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ie:return"Profiler";case ve:return"StrictMode";case Ae:return"Suspense";case ce:return"SuspenseList";case Re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case he:return e.displayName||"Context";case je:return(e._context.displayName||"Context")+".Consumer";case Ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return t=e.displayName||null,t!==null?t:Xe(e.type)||"Memo";case Qe:t=e._payload,e=e._init;try{return Xe(e(t))}catch{}}return null}var Et=Array.isArray,$=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze={pending:!1,data:null,method:null,action:null},We=[],He=-1;function O(e){return{current:e}}function ne(e){0>He||(e.current=We[He],We[He]=null,He--)}function me(e,t){He++,We[He]=e.current,e.current=t}var _e=O(null),Ke=O(null),Ge=O(null),nt=O(null);function $t(e,t){switch(me(Ge,t),me(Ke,e),me(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ph(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ph(t),e=vh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ne(_e),me(_e,e)}function be(){ne(_e),ne(Ke),ne(Ge)}function ee(e){e.memoizedState!==null&&me(nt,e);var t=_e.current,n=vh(t,e.type);t!==n&&(me(Ke,e),me(_e,n))}function De(e){Ke.current===e&&(ne(_e),ne(Ke)),nt.current===e&&(ne(nt),fu._currentValue=ze)}var Se,Fe;function Ie(e){if(Se===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Se=t&&t[1]||"",Fe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+e+Fe}var ke=!1;function dt(e,t){if(!e||ke)return"";ke=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Z){var V=Z}Reflect.construct(e,[],le)}else{try{le.call()}catch(Z){V=Z}e.call(le.prototype)}}else{try{throw Error()}catch(Z){V=Z}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Z){if(Z&&V&&typeof Z.stack=="string")return[Z.stack,V.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),f=u[0],v=u[1];if(f&&v){var E=f.split(`
`),G=v.split(`
`);for(i=a=0;a<E.length&&!E[a].includes("DetermineComponentFrameRoot");)a++;for(;i<G.length&&!G[i].includes("DetermineComponentFrameRoot");)i++;if(a===E.length||i===G.length)for(a=E.length-1,i=G.length-1;1<=a&&0<=i&&E[a]!==G[i];)i--;for(;1<=a&&0<=i;a--,i--)if(E[a]!==G[i]){if(a!==1||i!==1)do if(a--,i--,0>i||E[a]!==G[i]){var F=`
`+E[a].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=a&&0<=i);break}}}finally{ke=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ie(n):""}function dn(e,t){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==t&&t!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return dt(e.type,!1);case 11:return dt(e.type.render,!1);case 1:return dt(e.type,!0);case 31:return Ie("Activity");default:return""}}function gn(e){try{var t="",n=null;do t+=dn(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ua=Object.prototype.hasOwnProperty,En=g.unstable_scheduleCallback,yt=g.unstable_cancelCallback,hn=g.unstable_shouldYield,an=g.unstable_requestPaint,Pt=g.unstable_now,Ea=g.unstable_getCurrentPriorityLevel,sa=g.unstable_ImmediatePriority,oa=g.unstable_UserBlockingPriority,nl=g.unstable_NormalPriority,ql=g.unstable_LowPriority,bi=g.unstable_IdlePriority,xi=g.log,Ta=g.unstable_setDisableYieldValue,ca=null,ln=null;function rn(e){if(typeof xi=="function"&&Ta(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(ca,e)}catch{}}var we=Math.clz32?Math.clz32:Si,Kl=Math.log,ja=Math.LN2;function Si(e){return e>>>=0,e===0?32:31-(Kl(e)/ja|0)|0}var xe=256,al=262144,Ll=4194304;function ta(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~u,a!==0?i=ta(a):(f&=v,f!==0?i=ta(f):n||(n=v&~e,n!==0&&(i=ta(n))))):(v=a&~u,v!==0?i=ta(v):f!==0?i=ta(f):n||(n=a&~e,n!==0&&(i=ta(n)))),i===0?0:t!==0&&t!==i&&(t&u)===0&&(u=i&-i,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:i}function Na(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ks(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(){var e=Ll;return Ll<<=1,(Ll&62914560)===0&&(Ll=4194304),e}function fa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mr(e,t,n,a,i,u){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,G=e.hiddenUpdates;for(n=f&~n;0<n;){var F=31-we(n),le=1<<F;v[F]=0,E[F]=-1;var V=G[F];if(V!==null)for(G[F]=null,F=0;F<V.length;F++){var Z=V[F];Z!==null&&(Z.lane&=-536870913)}n&=~le}a!==0&&Xl(e,a,0),u!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function Xl(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-we(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-we(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Ut(e,t){var n=t&-t;return n=(n&42)!==0?1:pr(n),(n&(e.suspendedLanes|t))!==0?0:n}function pr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ll(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gl(){var e=ye.p;return e!==0?e:(e=window.event,e===void 0?32:qh(e.type))}function Ql(e,t){var n=ye.p;try{return ye.p=e,t()}finally{ye.p=n}}var da=Math.random().toString(36).slice(2),Nt="__reactFiber$"+da,Bt="__reactProps$"+da,bn="__reactContainer$"+da,il="__reactEvents$"+da,Us="__reactListeners$"+da,ha="__reactHandles$"+da,vr="__reactResources$"+da,Dn="__reactMarker$"+da;function _i(e){delete e[Nt],delete e[Bt],delete e[il],delete e[Us],delete e[ha]}function ma(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bn]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wh(e);e!==null;){if(n=e[Nt])return n;e=wh(e)}return t}e=n,n=e.parentNode}return null}function xt(e){if(e=e[Nt]||e[bn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function mn(e){var t=e[vr];return t||(t=e[vr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ht(e){e[Dn]=!0}var Ca=new Set,Vl={};function na(e,t){pa(e,t),pa(e+"Capture",t)}function pa(e,t){for(Vl[e]=t,e=0;e<t.length;e++)Ca.add(t[e])}var Ma=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yr={},Zl={};function xu(e){return ua.call(Zl,e)?!0:ua.call(yr,e)?!1:Ma.test(e)?Zl[e]=!0:(yr[e]=!0,!1)}function Pe(e,t,n){if(xu(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Jl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Xn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Su(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(f){n=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){if(!e._valueTracker){var t=rl(e)?"checked":"value";e._valueTracker=Su(e,t,""+e[t])}}function gr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=rl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function ht(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $l=/[\n"\\]/g;function Ft(e){return e.replace($l,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function va(e,t,n,a,i,u,f,v){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+un(t)):e.value!==""+un(t)&&(e.value=""+un(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Wl(e,f,un(t)):n!=null?Wl(e,f,un(n)):a!=null&&e.removeAttribute("value"),i==null&&u!=null&&(e.defaultChecked=!!u),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+un(v):e.removeAttribute("name")}function Ei(e,t,n,a,i,u,f,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){wi(e);return}n=n!=null?""+un(n):"",t=t!=null?""+un(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),wi(e)}function Wl(e,t,n){t==="number"&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function aa(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function br(e,t,n){if(t!=null&&(t=""+un(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+un(n):""}function Pl(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Et(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=un(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),wi(e)}function Aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Bs.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function xr(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&rt(e,i,a)}else for(var u in t)t.hasOwnProperty(u)&&rt(e,u,t[u])}function Sr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return xn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var Gn=null;function Ti(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,Ct=null;function kn(e){var t=xt(e);if(t&&(e=t.stateNode)){var n=e[Bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(va(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Bt]||null;if(!i)throw Error(d(90));va(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&gr(a)}break e;case"textarea":br(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&aa(e,!!n.multiple,t,!1)}}}var za=!1;function ul(e,t,n){if(za)return e(t,n);za=!0;try{var a=e(t);return a}finally{if(za=!1,(Oa!==null||Ct!==null)&&(cs(),Oa&&(t=Oa,e=Ct,Ct=Oa=null,kn(t),e)))for(t=0;t<e.length;t++)kn(e[t])}}function Da(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Bt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(It)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){_r=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{_r=!1}var Qn=null,ji=null,sl=null;function ol(){if(sl)return sl;var e,t=ji,n=t.length,a,i="value"in Qn?Qn.value:Qn.textContent,u=i.length;for(e=0;e<n&&t[e]===i[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===i[u-a];a++);return sl=i.slice(e,1<a?1-a:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fl(){return!0}function _u(){return!1}function Yt(e){function t(n,a,i,u,f){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Fl:_u,this.isPropagationStopped=_u,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Yt(Ra),ya=L({},Ra,{view:0,detail:0}),Ci=Yt(ya),Il,wr,ei,Mi=L({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Il=e.screenX-ei.screenX,wr=e.screenY-ei.screenY):wr=Il=0,ei=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:wr}}),Ai=Yt(Mi),Er=L({},Mi,{dataTransfer:0}),wu=Yt(Er),Oi=L({},ya,{relatedTarget:0}),fl=Yt(Oi),zi=L({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Yt(zi),qs=L({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dl=Yt(qs),Tr=L({},Ra,{data:0}),Di=Yt(Tr),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},en={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ti(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=en[e])?!!t[e]:!1}function ka(){return ti}var Tu=L({},ya,{key:function(e){if(e.key){var t=jr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ri=Yt(Tu),ju=L({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cr=Yt(ju),ki=L({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Mr=Yt(ki),Ua=L({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ar=Yt(Ua),Or=L({},Mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ui=Yt(Or),zr=L({},Ra,{newState:0,oldState:0}),Nu=Yt(zr),Ks=[9,13,27,32],ni=It&&"CompositionEvent"in window,ga=null;It&&"documentMode"in document&&(ga=document.documentMode);var Ls=It&&"TextEvent"in window&&!ga,Bi=It&&(!ni||ga&&8<ga&&11>=ga),Hi=" ",Cu=!1;function Dr(e,t){switch(e){case"keyup":return Ks.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ba=!1;function Au(e,t){switch(e){case"compositionend":return Mu(t);case"keypress":return t.which!==32?null:(Cu=!0,Hi);case"textInput":return e=t.data,e===Hi&&Cu?null:e;default:return null}}function Ys(e,t){if(Ba)return e==="compositionend"||!ni&&Dr(e,t)?(e=ol(),sl=ji=Qn=null,Ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bi&&t.locale!=="ko"?null:t.data;default:return null}}var Ou={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ou[e.type]:t==="textarea"}function Rr(e,t,n,a){Oa?Ct?Ct.push(a):Ct=[a]:Oa=a,t=ys(t,"onChange"),0<t.length&&(n=new Ni("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var hl=null,ai=null;function Xs(e){oh(e,0)}function Ki(e){var t=Rn(e);if(gr(t))return e}function li(e,t){if(e==="change")return t}var Vn=!1;if(It){var Mt;if(It){var ml="oninput"in document;if(!ml){var Sn=document.createElement("div");Sn.setAttribute("oninput","return;"),ml=typeof Sn.oninput=="function"}Mt=ml}else Mt=!1;Vn=Mt&&(!document.documentMode||9<document.documentMode)}function zu(){hl&&(hl.detachEvent("onpropertychange",Li),ai=hl=null)}function Li(e){if(e.propertyName==="value"&&Ki(ai)){var t=[];Rr(t,ai,e,Ti(e)),ul(Xs,t)}}function Du(e,t,n){e==="focusin"?(zu(),hl=t,ai=n,hl.attachEvent("onpropertychange",Li)):e==="focusout"&&zu()}function Ha(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(ai)}function kr(e,t){if(e==="click")return Ki(t)}function pl(e,t){if(e==="input"||e==="change")return Ki(t)}function ba(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:ba;function l(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!ua.call(t,i)||!vn(e[i],t[i]))return!1}return!0}function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s(e,t){var n=r(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r(n)}}function o(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?o(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ht(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ht(e.document)}return t}function p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var b=It&&"documentMode"in document&&11>=document.documentMode,_=null,j=null,M=null,B=!1;function T(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B||_==null||_!==ht(a)||(a=_,"selectionStart"in a&&p(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),M&&l(M,a)||(M=a,a=ys(j,"onSelect"),0<a.length&&(t=new Ni("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=_)))}function q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var A={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionrun:q("Transition","TransitionRun"),transitionstart:q("Transition","TransitionStart"),transitioncancel:q("Transition","TransitionCancel"),transitionend:q("Transition","TransitionEnd")},k={},U={};It&&(U=document.createElement("div").style,"AnimationEvent"in window||(delete A.animationend.animation,delete A.animationiteration.animation,delete A.animationstart.animation),"TransitionEvent"in window||delete A.transitionend.transition);function H(e){if(k[e])return k[e];if(!A[e])return e;var t=A[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U)return k[e]=t[n];return e}var Y=H("animationend"),Q=H("animationiteration"),W=H("animationstart"),ae=H("transitionrun"),fe=H("transitionstart"),ge=H("transitioncancel"),ue=H("transitionend"),de=new Map,pe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pe.push("scrollEnd");function se(e,t){de.set(e,t),na(t,[e])}var Ee=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ue=[],Ye=0,Ze=0;function tn(){for(var e=Ye,t=Ze=Ye=0;t<e;){var n=Ue[t];Ue[t++]=null;var a=Ue[t];Ue[t++]=null;var i=Ue[t];Ue[t++]=null;var u=Ue[t];if(Ue[t++]=null,a!==null&&i!==null){var f=a.pending;f===null?i.next=i:(i.next=f.next,f.next=i),a.pending=i}u!==0&&ii(n,i,u)}}function Le(e,t,n,a){Ue[Ye++]=e,Ue[Ye++]=t,Ue[Ye++]=n,Ue[Ye++]=a,Ze|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Xt(e,t,n,a){return Le(e,t,n,a),Gt(e)}function zt(e,t){return Le(e,null,null,t),Gt(e)}function ii(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,u=e.return;u!==null;)u.childLanes|=n,a=u.alternate,a!==null&&(a.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(i=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,i&&t!==null&&(i=31-we(n),e=u.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),u):null}function Gt(e){if(50<lu)throw lu=0,Io=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var jn={};function Ur(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,t,n,a){return new Ur(e,t,n,a)}function Gs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qa(e,t){var n=e.alternate;return n===null?(n=Un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Gc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ru(e,t,n,a,i,u){var f=0;if(a=e,typeof e=="function")Gs(e)&&(f=1);else if(typeof e=="string")f=Xp(e,n,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Re:return e=Un(31,n,t,i),e.elementType=Re,e.lanes=u,e;case J:return ri(n.children,i,u,t);case ve:f=8,i|=24;break;case ie:return e=Un(12,n,t,i|2),e.elementType=ie,e.lanes=u,e;case Ae:return e=Un(13,n,t,i),e.elementType=Ae,e.lanes=u,e;case ce:return e=Un(19,n,t,i),e.elementType=ce,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case he:f=10;break e;case je:f=9;break e;case Ne:f=11;break e;case re:f=14;break e;case Qe:f=16,a=null;break e}f=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Un(f,n,t,i),t.elementType=e,t.type=a,t.lanes=u,t}function ri(e,t,n,a){return e=Un(7,e,a,t),e.lanes=n,e}function Qs(e,t,n){return e=Un(6,e,null,t),e.lanes=n,e}function Qc(e){var t=Un(18,null,null,0);return t.stateNode=e,t}function Vs(e,t,n){return t=Un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vc=new WeakMap;function Zn(e,t){if(typeof e=="object"&&e!==null){var n=Vc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:gn(t)},Vc.set(e,t),t)}return{value:e,source:t,stack:gn(t)}}var Yi=[],Xi=0,ku=null,Br=0,Jn=[],$n=0,vl=null,xa=1,Sa="";function Ka(e,t){Yi[Xi++]=Br,Yi[Xi++]=ku,ku=e,Br=t}function Zc(e,t,n){Jn[$n++]=xa,Jn[$n++]=Sa,Jn[$n++]=vl,vl=e;var a=xa;e=Sa;var i=32-we(a)-1;a&=~(1<<i),n+=1;var u=32-we(t)+i;if(30<u){var f=i-i%5;u=(a&(1<<f)-1).toString(32),a>>=f,i-=f,xa=1<<32-we(t)+i|n<<i|a,Sa=u+e}else xa=1<<u|n<<i|a,Sa=e}function Zs(e){e.return!==null&&(Ka(e,1),Zc(e,1,0))}function Js(e){for(;e===ku;)ku=Yi[--Xi],Yi[Xi]=null,Br=Yi[--Xi],Yi[Xi]=null;for(;e===vl;)vl=Jn[--$n],Jn[$n]=null,Sa=Jn[--$n],Jn[$n]=null,xa=Jn[--$n],Jn[$n]=null}function Jc(e,t){Jn[$n++]=xa,Jn[$n++]=Sa,Jn[$n++]=vl,xa=t.id,Sa=t.overflow,vl=e}var sn=null,At=null,ut=!1,yl=null,Wn=!1,$s=Error(d(519));function gl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hr(Zn(t,e)),$s}function $c(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Nt]=e,t[Bt]=a,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<ru.length;n++)tt(ru[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),Ei(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),Pl(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||hh(t.textContent,n)?(a.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),a.onScroll!=null&&tt("scroll",t),a.onScrollEnd!=null&&tt("scrollend",t),a.onClick!=null&&(t.onclick=Tn),t=!0):t=!1,t||gl(e,!0)}function Wc(e){for(sn=e.return;sn;)switch(sn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:sn=sn.return}}function Gi(e){if(e!==sn)return!1;if(!ut)return Wc(e),ut=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||mc(e.type,e.memoizedProps)),n=!n),n&&At&&gl(e),Wc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));At=_h(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));At=_h(e)}else t===27?(t=At,zl(e.type)?(e=bc,bc=null,At=e):At=t):At=sn?Fn(e.stateNode.nextSibling):null;return!0}function ui(){At=sn=null,ut=!1}function Ws(){var e=yl;return e!==null&&(An===null?An=e:An.push.apply(An,e),yl=null),e}function Hr(e){yl===null?yl=[e]:yl.push(e)}var Ps=O(null),si=null,La=null;function bl(e,t,n){me(Ps,t._currentValue),t._currentValue=n}function Ya(e){e._currentValue=Ps.current,ne(Ps)}function Fs(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Is(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){var f=i.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=i;for(var E=0;E<t.length;E++)if(v.context===t[E]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),Fs(u.return,n,e),a||(f=null);break e}u=v.next}}else if(i.tag===18){if(f=i.return,f===null)throw Error(d(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),Fs(f,n,e),f=null}else f=i.child;if(f!==null)f.return=i;else for(f=i;f!==null;){if(f===e){f=null;break}if(i=f.sibling,i!==null){i.return=f.return,f=i;break}f=f.return}i=f}}function Qi(e,t,n,a){e=null;for(var i=t,u=!1;i!==null;){if(!u){if((i.flags&524288)!==0)u=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var f=i.alternate;if(f===null)throw Error(d(387));if(f=f.memoizedProps,f!==null){var v=i.type;vn(i.pendingProps.value,f.value)||(e!==null?e.push(v):e=[v])}}else if(i===nt.current){if(f=i.alternate,f===null)throw Error(d(387));f.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(fu):e=[fu])}i=i.return}e!==null&&Is(t,e,n,a),t.flags|=262144}function Uu(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oi(e){si=e,La=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function on(e){return Pc(si,e)}function Bu(e,t){return si===null&&oi(e),Pc(e,t)}function Pc(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},La===null){if(e===null)throw Error(d(308));La=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else La=La.next=t;return n}var qm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Km=g.unstable_scheduleCallback,Lm=g.unstable_NormalPriority,Qt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eo(){return{controller:new qm,data:new Map,refCount:0}}function qr(e){e.refCount--,e.refCount===0&&Km(Lm,function(){e.controller.abort()})}var Kr=null,to=0,Vi=0,Zi=null;function Ym(e,t){if(Kr===null){var n=Kr=[];to=0,Vi=ic(),Zi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return to++,t.then(Fc,Fc),t}function Fc(){if(--to===0&&Kr!==null){Zi!==null&&(Zi.status="fulfilled");var e=Kr;Kr=null,Vi=0,Zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xm(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Ic=$.S;$.S=function(e,t){Bd=Pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ym(e,t),Ic!==null&&Ic(e,t)};var ci=O(null);function no(){var e=ci.current;return e!==null?e:jt.pooledCache}function Hu(e,t){t===null?me(ci,ci.current):me(ci,t.pool)}function ef(){var e=no();return e===null?null:{parent:Qt._currentValue,pool:e}}var Ji=Error(d(460)),ao=Error(d(474)),qu=Error(d(542)),Ku={then:function(){}};function tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Tn,Tn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lf(e),e;default:if(typeof t.status=="string")t.then(Tn,Tn);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lf(e),e}throw di=t,Ji}}function fi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(di=n,Ji):n}}var di=null;function af(){if(di===null)throw Error(d(459));var e=di;return di=null,e}function lf(e){if(e===Ji||e===qu)throw Error(d(483))}var $i=null,Lr=0;function Lu(e){var t=Lr;return Lr+=1,$i===null&&($i=[]),nf($i,e,t)}function Yr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yu(e,t){throw t.$$typeof===I?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function rf(e){function t(K,z){if(e){var X=K.deletions;X===null?(K.deletions=[z],K.flags|=16):X.push(z)}}function n(K,z){if(!e)return null;for(;z!==null;)t(K,z),z=z.sibling;return null}function a(K){for(var z=new Map;K!==null;)K.key!==null?z.set(K.key,K):z.set(K.index,K),K=K.sibling;return z}function i(K,z){return K=qa(K,z),K.index=0,K.sibling=null,K}function u(K,z,X){return K.index=X,e?(X=K.alternate,X!==null?(X=X.index,X<z?(K.flags|=67108866,z):X):(K.flags|=67108866,z)):(K.flags|=1048576,z)}function f(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function v(K,z,X,te){return z===null||z.tag!==6?(z=Qs(X,K.mode,te),z.return=K,z):(z=i(z,X),z.return=K,z)}function E(K,z,X,te){var Be=X.type;return Be===J?F(K,z,X.props.children,te,X.key):z!==null&&(z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Qe&&fi(Be)===z.type)?(z=i(z,X.props),Yr(z,X),z.return=K,z):(z=Ru(X.type,X.key,X.props,null,K.mode,te),Yr(z,X),z.return=K,z)}function G(K,z,X,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=Vs(X,K.mode,te),z.return=K,z):(z=i(z,X.children||[]),z.return=K,z)}function F(K,z,X,te,Be){return z===null||z.tag!==7?(z=ri(X,K.mode,te,Be),z.return=K,z):(z=i(z,X),z.return=K,z)}function le(K,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Qs(""+z,K.mode,X),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case oe:return X=Ru(z.type,z.key,z.props,null,K.mode,X),Yr(X,z),X.return=K,X;case P:return z=Vs(z,K.mode,X),z.return=K,z;case Qe:return z=fi(z),le(K,z,X)}if(Et(z)||st(z))return z=ri(z,K.mode,X,null),z.return=K,z;if(typeof z.then=="function")return le(K,Lu(z),X);if(z.$$typeof===he)return le(K,Bu(K,z),X);Yu(K,z)}return null}function V(K,z,X,te){var Be=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Be!==null?null:v(K,z,""+X,te);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case oe:return X.key===Be?E(K,z,X,te):null;case P:return X.key===Be?G(K,z,X,te):null;case Qe:return X=fi(X),V(K,z,X,te)}if(Et(X)||st(X))return Be!==null?null:F(K,z,X,te,null);if(typeof X.then=="function")return V(K,z,Lu(X),te);if(X.$$typeof===he)return V(K,z,Bu(K,X),te);Yu(K,X)}return null}function Z(K,z,X,te,Be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return K=K.get(X)||null,v(z,K,""+te,Be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case oe:return K=K.get(te.key===null?X:te.key)||null,E(z,K,te,Be);case P:return K=K.get(te.key===null?X:te.key)||null,G(z,K,te,Be);case Qe:return te=fi(te),Z(K,z,X,te,Be)}if(Et(te)||st(te))return K=K.get(X)||null,F(z,K,te,Be,null);if(typeof te.then=="function")return Z(K,z,X,Lu(te),Be);if(te.$$typeof===he)return Z(K,z,X,Bu(z,te),Be);Yu(z,te)}return null}function Me(K,z,X,te){for(var Be=null,ct=null,Oe=z,$e=z=0,lt=null;Oe!==null&&$e<X.length;$e++){Oe.index>$e?(lt=Oe,Oe=null):lt=Oe.sibling;var ft=V(K,Oe,X[$e],te);if(ft===null){Oe===null&&(Oe=lt);break}e&&Oe&&ft.alternate===null&&t(K,Oe),z=u(ft,z,$e),ct===null?Be=ft:ct.sibling=ft,ct=ft,Oe=lt}if($e===X.length)return n(K,Oe),ut&&Ka(K,$e),Be;if(Oe===null){for(;$e<X.length;$e++)Oe=le(K,X[$e],te),Oe!==null&&(z=u(Oe,z,$e),ct===null?Be=Oe:ct.sibling=Oe,ct=Oe);return ut&&Ka(K,$e),Be}for(Oe=a(Oe);$e<X.length;$e++)lt=Z(Oe,K,$e,X[$e],te),lt!==null&&(e&&lt.alternate!==null&&Oe.delete(lt.key===null?$e:lt.key),z=u(lt,z,$e),ct===null?Be=lt:ct.sibling=lt,ct=lt);return e&&Oe.forEach(function(Bl){return t(K,Bl)}),ut&&Ka(K,$e),Be}function qe(K,z,X,te){if(X==null)throw Error(d(151));for(var Be=null,ct=null,Oe=z,$e=z=0,lt=null,ft=X.next();Oe!==null&&!ft.done;$e++,ft=X.next()){Oe.index>$e?(lt=Oe,Oe=null):lt=Oe.sibling;var Bl=V(K,Oe,ft.value,te);if(Bl===null){Oe===null&&(Oe=lt);break}e&&Oe&&Bl.alternate===null&&t(K,Oe),z=u(Bl,z,$e),ct===null?Be=Bl:ct.sibling=Bl,ct=Bl,Oe=lt}if(ft.done)return n(K,Oe),ut&&Ka(K,$e),Be;if(Oe===null){for(;!ft.done;$e++,ft=X.next())ft=le(K,ft.value,te),ft!==null&&(z=u(ft,z,$e),ct===null?Be=ft:ct.sibling=ft,ct=ft);return ut&&Ka(K,$e),Be}for(Oe=a(Oe);!ft.done;$e++,ft=X.next())ft=Z(Oe,K,$e,ft.value,te),ft!==null&&(e&&ft.alternate!==null&&Oe.delete(ft.key===null?$e:ft.key),z=u(ft,z,$e),ct===null?Be=ft:ct.sibling=ft,ct=ft);return e&&Oe.forEach(function(ev){return t(K,ev)}),ut&&Ka(K,$e),Be}function wt(K,z,X,te){if(typeof X=="object"&&X!==null&&X.type===J&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case oe:e:{for(var Be=X.key;z!==null;){if(z.key===Be){if(Be=X.type,Be===J){if(z.tag===7){n(K,z.sibling),te=i(z,X.props.children),te.return=K,K=te;break e}}else if(z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Qe&&fi(Be)===z.type){n(K,z.sibling),te=i(z,X.props),Yr(te,X),te.return=K,K=te;break e}n(K,z);break}else t(K,z);z=z.sibling}X.type===J?(te=ri(X.props.children,K.mode,te,X.key),te.return=K,K=te):(te=Ru(X.type,X.key,X.props,null,K.mode,te),Yr(te,X),te.return=K,K=te)}return f(K);case P:e:{for(Be=X.key;z!==null;){if(z.key===Be)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){n(K,z.sibling),te=i(z,X.children||[]),te.return=K,K=te;break e}else{n(K,z);break}else t(K,z);z=z.sibling}te=Vs(X,K.mode,te),te.return=K,K=te}return f(K);case Qe:return X=fi(X),wt(K,z,X,te)}if(Et(X))return Me(K,z,X,te);if(st(X)){if(Be=st(X),typeof Be!="function")throw Error(d(150));return X=Be.call(X),qe(K,z,X,te)}if(typeof X.then=="function")return wt(K,z,Lu(X),te);if(X.$$typeof===he)return wt(K,z,Bu(K,X),te);Yu(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(n(K,z.sibling),te=i(z,X),te.return=K,K=te):(n(K,z),te=Qs(X,K.mode,te),te.return=K,K=te),f(K)):n(K,z)}return function(K,z,X,te){try{Lr=0;var Be=wt(K,z,X,te);return $i=null,Be}catch(Oe){if(Oe===Ji||Oe===qu)throw Oe;var ct=Un(29,Oe,null,K.mode);return ct.lanes=te,ct.return=K,ct}}}var hi=rf(!0),uf=rf(!1),xl=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _l(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(mt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Gt(e),ii(e,null,n),t}return Le(e,a,t,n),Gt(e)}function Xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tt(e,n)}}function ro(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?i=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?i=u=t:u=u.next=t}else i=u=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var uo=!1;function Gr(){if(uo){var e=Zi;if(e!==null)throw e}}function Qr(e,t,n,a){uo=!1;var i=e.updateQueue;xl=!1;var u=i.firstBaseUpdate,f=i.lastBaseUpdate,v=i.shared.pending;if(v!==null){i.shared.pending=null;var E=v,G=E.next;E.next=null,f===null?u=G:f.next=G,f=E;var F=e.alternate;F!==null&&(F=F.updateQueue,v=F.lastBaseUpdate,v!==f&&(v===null?F.firstBaseUpdate=G:v.next=G,F.lastBaseUpdate=E))}if(u!==null){var le=i.baseState;f=0,F=G=E=null,v=u;do{var V=v.lane&-536870913,Z=V!==v.lane;if(Z?(at&V)===V:(a&V)===V){V!==0&&V===Vi&&(uo=!0),F!==null&&(F=F.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Me=e,qe=v;V=t;var wt=n;switch(qe.tag){case 1:if(Me=qe.payload,typeof Me=="function"){le=Me.call(wt,le,V);break e}le=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=qe.payload,V=typeof Me=="function"?Me.call(wt,le,V):Me,V==null)break e;le=L({},le,V);break e;case 2:xl=!0}}V=v.callback,V!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=i.callbacks,Z===null?i.callbacks=[V]:Z.push(V))}else Z={lane:V,tag:v.tag,payload:v.payload,callback:v.callback,next:null},F===null?(G=F=Z,E=le):F=F.next=Z,f|=V;if(v=v.next,v===null){if(v=i.shared.pending,v===null)break;Z=v,v=Z.next,Z.next=null,i.lastBaseUpdate=Z,i.shared.pending=null}}while(!0);F===null&&(E=le),i.baseState=E,i.firstBaseUpdate=G,i.lastBaseUpdate=F,u===null&&(i.shared.lanes=0),Nl|=f,e.lanes=f,e.memoizedState=le}}function sf(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function of(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)sf(n[e],t)}var Wi=O(null),Xu=O(0);function cf(e,t){e=Pa,me(Xu,e),me(Wi,t),Pa=e|t.baseLanes}function so(){me(Xu,Pa),me(Wi,Wi.current)}function oo(){Pa=Xu.current,ne(Wi),ne(Xu)}var Bn=O(null),Pn=null;function wl(e){var t=e.alternate;me(qt,qt.current&1),me(Bn,e),Pn===null&&(t===null||Wi.current!==null||t.memoizedState!==null)&&(Pn=e)}function co(e){me(qt,qt.current),me(Bn,e),Pn===null&&(Pn=e)}function ff(e){e.tag===22?(me(qt,qt.current),me(Bn,e),Pn===null&&(Pn=e)):El()}function El(){me(qt,qt.current),me(Bn,Bn.current)}function Hn(e){ne(Bn),Pn===e&&(Pn=null),ne(qt)}var qt=O(0);function Gu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||yc(n)||gc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xa=0,Je=null,St=null,Vt=null,Qu=!1,Pi=!1,mi=!1,Vu=0,Vr=0,Fi=null,Gm=0;function Rt(){throw Error(d(321))}function fo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function ho(e,t,n,a,i,u){return Xa=u,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Jf:Co,mi=!1,u=n(a,i),mi=!1,Pi&&(u=hf(t,n,a,i)),df(e),u}function df(e){$.H=$r;var t=St!==null&&St.next!==null;if(Xa=0,Vt=St=Je=null,Qu=!1,Vr=0,Fi=null,t)throw Error(d(300));e===null||Zt||(e=e.dependencies,e!==null&&Uu(e)&&(Zt=!0))}function hf(e,t,n,a){Je=e;var i=0;do{if(Pi&&(Fi=null),Vr=0,Pi=!1,25<=i)throw Error(d(301));if(i+=1,Vt=St=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}$.H=$f,u=t(n,a)}while(Pi);return u}function Qm(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?Zr(t):t,e=e.useState()[0],(St!==null?St.memoizedState:null)!==e&&(Je.flags|=1024),t}function mo(){var e=Vu!==0;return Vu=0,e}function po(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vo(e){if(Qu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qu=!1}Xa=0,Vt=St=Je=null,Pi=!1,Vr=Vu=0,Fi=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Je.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function Kt(){if(St===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Vt===null?Je.memoizedState:Vt.next;if(t!==null)Vt=t,St=e;else{if(e===null)throw Je.alternate===null?Error(d(467)):Error(d(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Vt===null?Je.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zr(e){var t=Vr;return Vr+=1,Fi===null&&(Fi=[]),e=nf(Fi,e,t),t=Je,(Vt===null?t.memoizedState:Vt.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Jf:Co),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zr(e);if(e.$$typeof===he)return on(e)}throw Error(d(438,String(e)))}function yo(e){var t=null,n=Je.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Je.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Zu(),Je.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=pt;return t.index++,n}function Ga(e,t){return typeof t=="function"?t(e):t}function $u(e){var t=Kt();return go(t,St,e)}function go(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var i=e.baseQueue,u=a.pending;if(u!==null){if(i!==null){var f=i.next;i.next=u.next,u.next=f}t.baseQueue=i=u,a.pending=null}if(u=e.baseState,i===null)e.memoizedState=u;else{t=i.next;var v=f=null,E=null,G=t,F=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(at&le)===le:(Xa&le)===le){var V=G.revertLane;if(V===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===Vi&&(F=!0);else if((Xa&V)===V){G=G.next,V===Vi&&(F=!0);continue}else le={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(v=E=le,f=u):E=E.next=le,Je.lanes|=V,Nl|=V;le=G.action,mi&&n(u,le),u=G.hasEagerState?G.eagerState:n(u,le)}else V={lane:le,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(v=E=V,f=u):E=E.next=V,Je.lanes|=le,Nl|=le;G=G.next}while(G!==null&&G!==t);if(E===null?f=u:E.next=v,!vn(u,e.memoizedState)&&(Zt=!0,F&&(n=Zi,n!==null)))throw n;e.memoizedState=u,e.baseState=f,e.baseQueue=E,a.lastRenderedState=u}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function bo(e){var t=Kt(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,u=t.memoizedState;if(i!==null){n.pending=null;var f=i=i.next;do u=e(u,f.action),f=f.next;while(f!==i);vn(u,t.memoizedState)||(Zt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,a]}function mf(e,t,n){var a=Je,i=Kt(),u=ut;if(u){if(n===void 0)throw Error(d(407));n=n()}else n=t();var f=!vn((St||i).memoizedState,n);if(f&&(i.memoizedState=n,Zt=!0),i=i.queue,_o(yf.bind(null,a,i,e),[e]),i.getSnapshot!==t||f||Vt!==null&&Vt.memoizedState.tag&1){if(a.flags|=2048,Ii(9,{destroy:void 0},vf.bind(null,a,i,n,t),null),jt===null)throw Error(d(349));u||(Xa&127)!==0||pf(a,t,n)}return n}function pf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t=Zu(),Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vf(e,t,n,a){t.value=n,t.getSnapshot=a,gf(t)&&bf(e)}function yf(e,t,n){return n(function(){gf(t)&&bf(e)})}function gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch{return!0}}function bf(e){var t=zt(e,2);t!==null&&On(t,e,2)}function xo(e){var t=_n();if(typeof e=="function"){var n=e;if(e=n(),mi){rn(!0);try{n()}finally{rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:e},t}function xf(e,t,n,a){return e.baseState=n,go(e,St,typeof a=="function"?a:Ga)}function Vm(e,t,n,a,i){if(Fu(e))throw Error(d(485));if(e=t.action,e!==null){var u={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};$.T!==null?n(!0):u.isTransition=!1,a(u),n=t.pending,n===null?(u.next=t.pending=u,Sf(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Sf(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var u=$.T,f={};$.T=f;try{var v=n(i,a),E=$.S;E!==null&&E(f,v),_f(e,t,v)}catch(G){So(e,t,G)}finally{u!==null&&f.types!==null&&(u.types=f.types),$.T=u}}else try{u=n(i,a),_f(e,t,u)}catch(G){So(e,t,G)}}function _f(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){wf(e,t,a)},function(a){return So(e,t,a)}):wf(e,t,n)}function wf(e,t,n){t.status="fulfilled",t.value=n,Ef(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Sf(e,n)))}function So(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ef(t),t=t.next;while(t!==a)}e.action=null}function Ef(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Tf(e,t){return t}function jf(e,t){if(ut){var n=jt.formState;if(n!==null){e:{var a=Je;if(ut){if(At){t:{for(var i=At,u=Wn;i.nodeType!==8;){if(!u){i=null;break t}if(i=Fn(i.nextSibling),i===null){i=null;break t}}u=i.data,i=u==="F!"||u==="F"?i:null}if(i){At=Fn(i.nextSibling),a=i.data==="F!";break e}}gl(a)}a=!1}a&&(t=n[0])}}return n=_n(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:t},n.queue=a,n=Qf.bind(null,Je,a),a.dispatch=n,a=xo(!1),u=No.bind(null,Je,!1,a.queue),a=_n(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Vm.bind(null,Je,i,u,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Nf(e){var t=Kt();return Cf(t,St,e)}function Cf(e,t,n){if(t=go(e,t,Tf)[0],e=$u(Ga)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Zr(t)}catch(f){throw f===Ji?qu:f}else a=t;t=Kt();var i=t.queue,u=i.dispatch;return n!==t.memoizedState&&(Je.flags|=2048,Ii(9,{destroy:void 0},Zm.bind(null,i,n),null)),[a,u,e]}function Zm(e,t){e.action=t}function Mf(e){var t=Kt(),n=St;if(n!==null)return Cf(t,n,e);Kt(),t=t.memoizedState,n=Kt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ii(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Je.updateQueue,t===null&&(t=Zu(),Je.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Af(){return Kt().memoizedState}function Wu(e,t,n,a){var i=_n();Je.flags|=e,i.memoizedState=Ii(1|t,{destroy:void 0},n,a===void 0?null:a)}function Pu(e,t,n,a){var i=Kt();a=a===void 0?null:a;var u=i.memoizedState.inst;St!==null&&a!==null&&fo(a,St.memoizedState.deps)?i.memoizedState=Ii(t,u,n,a):(Je.flags|=e,i.memoizedState=Ii(1|t,u,n,a))}function Of(e,t){Wu(8390656,8,e,t)}function _o(e,t){Pu(2048,8,e,t)}function Jm(e){Je.flags|=4;var t=Je.updateQueue;if(t===null)t=Zu(),Je.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function zf(e){var t=Kt().memoizedState;return Jm({ref:t,nextImpl:e}),function(){if((mt&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Df(e,t){return Pu(4,2,e,t)}function Rf(e,t){return Pu(4,4,e,t)}function kf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uf(e,t,n){n=n!=null?n.concat([e]):null,Pu(4,4,kf.bind(null,t,e),n)}function wo(){}function Bf(e,t){var n=Kt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&fo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Hf(e,t){var n=Kt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&fo(t,a[1]))return a[0];if(a=e(),mi){rn(!0);try{e()}finally{rn(!1)}}return n.memoizedState=[a,t],a}function Eo(e,t,n){return n===void 0||(Xa&1073741824)!==0&&(at&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=qd(),Je.lanes|=e,Nl|=e,n)}function qf(e,t,n,a){return vn(n,t)?n:Wi.current!==null?(e=Eo(e,n,a),vn(e,t)||(Zt=!0),e):(Xa&42)===0||(Xa&1073741824)!==0&&(at&261930)===0?(Zt=!0,e.memoizedState=n):(e=qd(),Je.lanes|=e,Nl|=e,t)}function Kf(e,t,n,a,i){var u=ye.p;ye.p=u!==0&&8>u?u:8;var f=$.T,v={};$.T=v,No(e,!1,t,n);try{var E=i(),G=$.S;if(G!==null&&G(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var F=Xm(E,a);Jr(e,t,F,Ln(e))}else Jr(e,t,a,Ln(e))}catch(le){Jr(e,t,{then:function(){},status:"rejected",reason:le},Ln())}finally{ye.p=u,f!==null&&v.types!==null&&(f.types=v.types),$.T=f}}function $m(){}function To(e,t,n,a){if(e.tag!==5)throw Error(d(476));var i=Lf(e).queue;Kf(e,i,t,ze,n===null?$m:function(){return Yf(e),n(a)})}function Lf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ze,baseState:ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:ze},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yf(e){var t=Lf(e);t.next===null&&(t=e.alternate.memoizedState),Jr(e,t.next.queue,{},Ln())}function jo(){return on(fu)}function Xf(){return Kt().memoizedState}function Gf(){return Kt().memoizedState}function Wm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ln();e=Sl(n);var a=_l(t,e,n);a!==null&&(On(a,t,n),Xr(a,t,n)),t={cache:eo()},e.payload=t;return}t=t.return}}function Pm(e,t,n){var a=Ln();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Vf(t,n):(n=Xt(e,t,n,a),n!==null&&(On(n,e,a),Zf(n,t,a)))}function Qf(e,t,n){var a=Ln();Jr(e,t,n,a)}function Jr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Vf(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,v=u(f,n);if(i.hasEagerState=!0,i.eagerState=v,vn(v,f))return Le(e,t,i,0),jt===null&&tn(),!1}catch{}if(n=Xt(e,t,i,a),n!==null)return On(n,e,a),Zf(n,t,a),!0}return!1}function No(e,t,n,a){if(a={lane:2,revertLane:ic(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(t)throw Error(d(479))}else t=Xt(e,n,a,2),t!==null&&On(t,e,2)}function Fu(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function Vf(e,t){Pi=Qu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zf(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tt(e,n)}}var $r={readContext:on,use:Ju,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};$r.useEffectEvent=Rt;var Jf={readContext:on,use:Ju,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:Of,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Wu(4194308,4,kf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wu(4194308,4,e,t)},useInsertionEffect:function(e,t){Wu(4,2,e,t)},useMemo:function(e,t){var n=_n();t=t===void 0?null:t;var a=e();if(mi){rn(!0);try{e()}finally{rn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=_n();if(n!==void 0){var i=n(t);if(mi){rn(!0);try{n(t)}finally{rn(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Pm.bind(null,Je,e),[a.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:function(e){e=xo(e);var t=e.queue,n=Qf.bind(null,Je,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:wo,useDeferredValue:function(e,t){var n=_n();return Eo(n,e,t)},useTransition:function(){var e=xo(!1);return e=Kf.bind(null,Je,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Je,i=_n();if(ut){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),jt===null)throw Error(d(349));(at&127)!==0||pf(a,t,n)}i.memoizedState=n;var u={value:n,getSnapshot:t};return i.queue=u,Of(yf.bind(null,a,u,e),[e]),a.flags|=2048,Ii(9,{destroy:void 0},vf.bind(null,a,u,n,t),null),n},useId:function(){var e=_n(),t=jt.identifierPrefix;if(ut){var n=Sa,a=xa;n=(a&~(1<<32-we(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Vu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Gm++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:jo,useFormState:jf,useActionState:jf,useOptimistic:function(e){var t=_n();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=No.bind(null,Je,!0,n),n.dispatch=t,[e,t]},useMemoCache:yo,useCacheRefresh:function(){return _n().memoizedState=Wm.bind(null,Je)},useEffectEvent:function(e){var t=_n(),n={impl:e};return t.memoizedState=n,function(){if((mt&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},Co={readContext:on,use:Ju,useCallback:Bf,useContext:on,useEffect:_o,useImperativeHandle:Uf,useInsertionEffect:Df,useLayoutEffect:Rf,useMemo:Hf,useReducer:$u,useRef:Af,useState:function(){return $u(Ga)},useDebugValue:wo,useDeferredValue:function(e,t){var n=Kt();return qf(n,St.memoizedState,e,t)},useTransition:function(){var e=$u(Ga)[0],t=Kt().memoizedState;return[typeof e=="boolean"?e:Zr(e),t]},useSyncExternalStore:mf,useId:Xf,useHostTransitionStatus:jo,useFormState:Nf,useActionState:Nf,useOptimistic:function(e,t){var n=Kt();return xf(n,St,e,t)},useMemoCache:yo,useCacheRefresh:Gf};Co.useEffectEvent=zf;var $f={readContext:on,use:Ju,useCallback:Bf,useContext:on,useEffect:_o,useImperativeHandle:Uf,useInsertionEffect:Df,useLayoutEffect:Rf,useMemo:Hf,useReducer:bo,useRef:Af,useState:function(){return bo(Ga)},useDebugValue:wo,useDeferredValue:function(e,t){var n=Kt();return St===null?Eo(n,e,t):qf(n,St.memoizedState,e,t)},useTransition:function(){var e=bo(Ga)[0],t=Kt().memoizedState;return[typeof e=="boolean"?e:Zr(e),t]},useSyncExternalStore:mf,useId:Xf,useHostTransitionStatus:jo,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,t){var n=Kt();return St!==null?xf(n,St,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:yo,useCacheRefresh:Gf};$f.useEffectEvent=zf;function Mo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:L({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ao={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ln(),i=Sl(a);i.payload=t,n!=null&&(i.callback=n),t=_l(e,i,a),t!==null&&(On(t,e,a),Xr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ln(),i=Sl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_l(e,i,a),t!==null&&(On(t,e,a),Xr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ln(),a=Sl(n);a.tag=2,t!=null&&(a.callback=t),t=_l(e,a,n),t!==null&&(On(t,e,n),Xr(t,e,n))}};function Wf(e,t,n,a,i,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,f):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,u):!0}function Pf(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ao.enqueueReplaceState(t,t.state,null)}function pi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=L({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Ff(e){Ee(e)}function If(e){console.error(e)}function ed(e){Ee(e)}function Iu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function td(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Oo(e,t,n){return n=Sl(n),n.tag=3,n.payload={element:null},n.callback=function(){Iu(e,t)},n}function nd(e){return e=Sl(e),e.tag=3,e}function ad(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var u=a.value;e.payload=function(){return i(u)},e.callback=function(){td(t,n,a)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){td(t,n,a),typeof i!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function Fm(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Qi(t,n,i,!0),n=Bn.current,n!==null){switch(n.tag){case 31:case 13:return Pn===null?fs():n.alternate===null&&kt===0&&(kt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Ku?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),nc(e,a,i)),!1;case 22:return n.flags|=65536,a===Ku?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),nc(e,a,i)),!1}throw Error(d(435,n.tag))}return nc(e,a,i),fs(),!1}if(ut)return t=Bn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==$s&&(e=Error(d(422),{cause:a}),Hr(Zn(e,n)))):(a!==$s&&(t=Error(d(423),{cause:a}),Hr(Zn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Zn(a,n),i=Oo(e.stateNode,a,i),ro(e,i),kt!==4&&(kt=2)),!1;var u=Error(d(520),{cause:a});if(u=Zn(u,n),au===null?au=[u]:au.push(u),kt!==4&&(kt=2),t===null)return!0;a=Zn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Oo(n.stateNode,a,e),ro(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Cl===null||!Cl.has(u))))return n.flags|=65536,i&=-i,n.lanes|=i,i=nd(i),ad(i,e,n,a),ro(n,i),!1}n=n.return}while(n!==null);return!1}var zo=Error(d(461)),Zt=!1;function cn(e,t,n,a){t.child=e===null?uf(t,null,n,a):hi(t,e.child,n,a)}function ld(e,t,n,a,i){n=n.render;var u=t.ref;if("ref"in a){var f={};for(var v in a)v!=="ref"&&(f[v]=a[v])}else f=a;return oi(t),a=ho(e,t,n,f,u,i),v=mo(),e!==null&&!Zt?(po(e,t,i),Qa(e,t,i)):(ut&&v&&Zs(t),t.flags|=1,cn(e,t,a,i),t.child)}function id(e,t,n,a,i){if(e===null){var u=n.type;return typeof u=="function"&&!Gs(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,rd(e,t,u,a,i)):(e=Ru(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ko(e,i)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(f,a)&&e.ref===t.ref)return Qa(e,t,i)}return t.flags|=1,e=qa(u,a),e.ref=t.ref,e.return=t,t.child=e}function rd(e,t,n,a,i){if(e!==null){var u=e.memoizedProps;if(l(u,a)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=a=u,Ko(e,i))(e.flags&131072)!==0&&(Zt=!0);else return t.lanes=e.lanes,Qa(e,t,i)}return Do(e,t,n,a,i)}function ud(e,t,n,a){var i=a.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~u}else a=0,t.child=null;return sd(e,t,u,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(t,u!==null?u.cachePool:null),u!==null?cf(t,u):so(),ff(t);else return a=t.lanes=536870912,sd(e,t,u!==null?u.baseLanes|n:n,n,a)}else u!==null?(Hu(t,u.cachePool),cf(t,u),El(),t.memoizedState=null):(e!==null&&Hu(t,null),so(),El());return cn(e,t,i,n),t.child}function Wr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sd(e,t,n,a,i){var u=no();return u=u===null?null:{parent:Qt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Hu(t,null),so(),ff(t),e!==null&&Qi(e,t,a,!0),t.childLanes=i,null}function es(e,t){return t=ns({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function od(e,t,n){return hi(t,e.child,null,n),e=es(t,t.pendingProps),e.flags|=2,Hn(t),t.memoizedState=null,e}function Im(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ut){if(a.mode==="hidden")return e=es(t,a),t.lanes=536870912,Wr(null,e);if(co(t),(e=At)?(e=Sh(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vl!==null?{id:xa,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},n=Qc(e),n.return=t,t.child=n,sn=t,At=null)):e=null,e===null)throw gl(t);return t.lanes=536870912,null}return es(t,a)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(co(t),i)if(t.flags&256)t.flags&=-257,t=od(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(Zt||Qi(e,t,n,!1),i=(n&e.childLanes)!==0,Zt||i){if(a=jt,a!==null&&(f=Ut(a,n),f!==0&&f!==u.retryLane))throw u.retryLane=f,zt(e,f),On(a,e,f),zo;fs(),t=od(e,t,n)}else e=u.treeContext,At=Fn(f.nextSibling),sn=t,ut=!0,yl=null,Wn=!1,e!==null&&Jc(t,e),t=es(t,a),t.flags|=4096;return t}return e=qa(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ts(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Do(e,t,n,a,i){return oi(t),n=ho(e,t,n,a,void 0,i),a=mo(),e!==null&&!Zt?(po(e,t,i),Qa(e,t,i)):(ut&&a&&Zs(t),t.flags|=1,cn(e,t,n,i),t.child)}function cd(e,t,n,a,i,u){return oi(t),t.updateQueue=null,n=hf(t,a,n,i),df(e),a=mo(),e!==null&&!Zt?(po(e,t,u),Qa(e,t,u)):(ut&&a&&Zs(t),t.flags|=1,cn(e,t,n,u),t.child)}function fd(e,t,n,a,i){if(oi(t),t.stateNode===null){var u=jn,f=n.contextType;typeof f=="object"&&f!==null&&(u=on(f)),u=new n(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ao,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},lo(t),f=n.contextType,u.context=typeof f=="object"&&f!==null?on(f):jn,u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Mo(t,n,f,a),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&Ao.enqueueReplaceState(u,u.state,null),Qr(t,a,u,i),Gr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,E=pi(n,v);u.props=E;var G=u.context,F=n.contextType;f=jn,typeof F=="object"&&F!==null&&(f=on(F));var le=n.getDerivedStateFromProps;F=typeof le=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,F||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||G!==f)&&Pf(t,u,a,f),xl=!1;var V=t.memoizedState;u.state=V,Qr(t,a,u,i),Gr(),G=t.memoizedState,v||V!==G||xl?(typeof le=="function"&&(Mo(t,n,le,a),G=t.memoizedState),(E=xl||Wf(t,n,E,a,V,G,f))?(F||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=G),u.props=a,u.state=G,u.context=f,a=E):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,io(e,t),f=t.memoizedProps,F=pi(n,f),u.props=F,le=t.pendingProps,V=u.context,G=n.contextType,E=jn,typeof G=="object"&&G!==null&&(E=on(G)),v=n.getDerivedStateFromProps,(G=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==le||V!==E)&&Pf(t,u,a,E),xl=!1,V=t.memoizedState,u.state=V,Qr(t,a,u,i),Gr();var Z=t.memoizedState;f!==le||V!==Z||xl||e!==null&&e.dependencies!==null&&Uu(e.dependencies)?(typeof v=="function"&&(Mo(t,n,v,a),Z=t.memoizedState),(F=xl||Wf(t,n,F,a,V,Z,E)||e!==null&&e.dependencies!==null&&Uu(e.dependencies))?(G||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,Z,E),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,Z,E)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Z),u.props=a,u.state=Z,u.context=E,a=F):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,ts(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=hi(t,e.child,null,i),t.child=hi(t,null,n,i)):cn(e,t,n,i),t.memoizedState=u.state,e=t.child):e=Qa(e,t,i),e}function dd(e,t,n,a){return ui(),t.flags|=256,cn(e,t,n,a),t.child}var Ro={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ko(e){return{baseLanes:e,cachePool:ef()}}function Uo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Kn),e}function hd(e,t,n){var a=t.pendingProps,i=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(qt.current&2)!==0),f&&(i=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(ut){if(i?wl(t):El(),(e=At)?(e=Sh(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vl!==null?{id:xa,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},n=Qc(e),n.return=t,t.child=n,sn=t,At=null)):e=null,e===null)throw gl(t);return gc(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,i?(El(),i=t.mode,v=ns({mode:"hidden",children:v},i),a=ri(a,i,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=ko(n),a.childLanes=Uo(e,f,n),t.memoizedState=Ro,Wr(null,a)):(wl(t),Bo(t,v))}var E=e.memoizedState;if(E!==null&&(v=E.dehydrated,v!==null)){if(u)t.flags&256?(wl(t),t.flags&=-257,t=Ho(e,t,n)):t.memoizedState!==null?(El(),t.child=e.child,t.flags|=128,t=null):(El(),v=a.fallback,i=t.mode,a=ns({mode:"visible",children:a.children},i),v=ri(v,i,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,hi(t,e.child,null,n),a=t.child,a.memoizedState=ko(n),a.childLanes=Uo(e,f,n),t.memoizedState=Ro,t=Wr(null,a));else if(wl(t),gc(v)){if(f=v.nextSibling&&v.nextSibling.dataset,f)var G=f.dgst;f=G,a=Error(d(419)),a.stack="",a.digest=f,Hr({value:a,source:null,stack:null}),t=Ho(e,t,n)}else if(Zt||Qi(e,t,n,!1),f=(n&e.childLanes)!==0,Zt||f){if(f=jt,f!==null&&(a=Ut(f,n),a!==0&&a!==E.retryLane))throw E.retryLane=a,zt(e,a),On(f,e,a),zo;yc(v)||fs(),t=Ho(e,t,n)}else yc(v)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,At=Fn(v.nextSibling),sn=t,ut=!0,yl=null,Wn=!1,e!==null&&Jc(t,e),t=Bo(t,a.children),t.flags|=4096);return t}return i?(El(),v=a.fallback,i=t.mode,E=e.child,G=E.sibling,a=qa(E,{mode:"hidden",children:a.children}),a.subtreeFlags=E.subtreeFlags&65011712,G!==null?v=qa(G,v):(v=ri(v,i,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,Wr(null,a),a=t.child,v=e.child.memoizedState,v===null?v=ko(n):(i=v.cachePool,i!==null?(E=Qt._currentValue,i=i.parent!==E?{parent:E,pool:E}:i):i=ef(),v={baseLanes:v.baseLanes|n,cachePool:i}),a.memoizedState=v,a.childLanes=Uo(e,f,n),t.memoizedState=Ro,Wr(e.child,a)):(wl(t),n=e.child,e=n.sibling,n=qa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Bo(e,t){return t=ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ns(e,t){return e=Un(22,e,null,t),e.lanes=0,e}function Ho(e,t,n){return hi(t,e.child,null,n),e=Bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function md(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Fs(e.return,t,n)}function qo(e,t,n,a,i,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=n,f.tailMode=i,f.treeForkCount=u)}function pd(e,t,n){var a=t.pendingProps,i=a.revealOrder,u=a.tail;a=a.children;var f=qt.current,v=(f&2)!==0;if(v?(f=f&1|2,t.flags|=128):f&=1,me(qt,f),cn(e,t,a,n),a=ut?Br:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,n,t);else if(e.tag===19)md(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Gu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qo(t,!1,i,n,u,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qo(t,!0,n,null,u,a);break;case"together":qo(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Qi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=qa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Uu(e)))}function ep(e,t,n){switch(t.tag){case 3:$t(t,t.stateNode.containerInfo),bl(t,Qt,e.memoizedState.cache),ui();break;case 27:case 5:ee(t);break;case 4:$t(t,t.stateNode.containerInfo);break;case 10:bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,co(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(wl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?hd(e,t,n):(wl(t),e=Qa(e,t,n),e!==null?e.sibling:null);wl(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Qi(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return pd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(qt,qt.current),a)break;return null;case 22:return t.lanes=0,ud(e,t,n,t.pendingProps);case 24:bl(t,Qt,e.memoizedState.cache)}return Qa(e,t,n)}function vd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Zt=!0;else{if(!Ko(e,n)&&(t.flags&128)===0)return Zt=!1,ep(e,t,n);Zt=(e.flags&131072)!==0}else Zt=!1,ut&&(t.flags&1048576)!==0&&Zc(t,Br,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=fi(t.elementType),t.type=e,typeof e=="function")Gs(e)?(a=pi(e,a),t.tag=1,t=fd(null,t,e,a,n)):(t.tag=0,t=Do(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===Ne){t.tag=11,t=ld(null,t,e,a,n);break e}else if(i===re){t.tag=14,t=id(null,t,e,a,n);break e}}throw t=Xe(e)||e,Error(d(306,t,""))}}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=pi(a,t.pendingProps),fd(e,t,a,i,n);case 3:e:{if($t(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var u=t.memoizedState;i=u.element,io(e,t),Qr(t,a,null,n);var f=t.memoizedState;if(a=f.cache,bl(t,Qt,a),a!==u.cache&&Is(t,[Qt],n,!0),Gr(),a=f.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=dd(e,t,a,n);break e}else if(a!==i){i=Zn(Error(d(424)),t),Hr(i),t=dd(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,At=Fn(e.firstChild),sn=t,ut=!0,yl=null,Wn=!0,n=uf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ui(),a===i){t=Qa(e,t,n);break e}cn(e,t,a,n)}t=t.child}return t;case 26:return ts(e,t),e===null?(n=Nh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ut||(n=t.type,e=t.pendingProps,a=gs(Ge.current).createElement(n),a[Nt]=t,a[Bt]=e,fn(a,n,e),Ht(a),t.stateNode=a):t.memoizedState=Nh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ee(t),e===null&&ut&&(a=t.stateNode=Eh(t.type,t.pendingProps,Ge.current),sn=t,Wn=!0,i=At,zl(t.type)?(bc=i,At=Fn(a.firstChild)):At=i),cn(e,t,t.pendingProps.children,n),ts(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ut&&((i=a=At)&&(a=Ap(a,t.type,t.pendingProps,Wn),a!==null?(t.stateNode=a,sn=t,At=Fn(a.firstChild),Wn=!1,i=!0):i=!1),i||gl(t)),ee(t),i=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,a=u.children,mc(i,u)?a=null:f!==null&&mc(i,f)&&(t.flags|=32),t.memoizedState!==null&&(i=ho(e,t,Qm,null,null,n),fu._currentValue=i),ts(e,t),cn(e,t,a,n),t.child;case 6:return e===null&&ut&&((e=n=At)&&(n=Op(n,t.pendingProps,Wn),n!==null?(t.stateNode=n,sn=t,At=null,e=!0):e=!1),e||gl(t)),null;case 13:return hd(e,t,n);case 4:return $t(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=hi(t,null,a,n):cn(e,t,a,n),t.child;case 11:return ld(e,t,t.type,t.pendingProps,n);case 7:return cn(e,t,t.pendingProps,n),t.child;case 8:return cn(e,t,t.pendingProps.children,n),t.child;case 12:return cn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,bl(t,t.type,a.value),cn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,oi(t),i=on(i),a=a(i),t.flags|=1,cn(e,t,a,n),t.child;case 14:return id(e,t,t.type,t.pendingProps,n);case 15:return rd(e,t,t.type,t.pendingProps,n);case 19:return pd(e,t,n);case 31:return Im(e,t,n);case 22:return ud(e,t,n,t.pendingProps);case 24:return oi(t),a=on(Qt),e===null?(i=no(),i===null&&(i=jt,u=eo(),i.pooledCache=u,u.refCount++,u!==null&&(i.pooledCacheLanes|=n),i=u),t.memoizedState={parent:a,cache:i},lo(t),bl(t,Qt,i)):((e.lanes&n)!==0&&(io(e,t),Qr(t,null,null,n),Gr()),i=e.memoizedState,u=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),bl(t,Qt,a)):(a=u.cache,bl(t,Qt,a),a!==i.cache&&Is(t,[Qt],n,!0))),cn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Va(e){e.flags|=4}function Lo(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Xd())e.flags|=8192;else throw di=Ku,ao}else e.flags&=-16777217}function yd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zh(t))if(Xd())e.flags|=8192;else throw di=Ku,ao}function as(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bu():536870912,e.lanes|=t,ar|=t)}function Pr(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function tp(e,t,n){var a=t.pendingProps;switch(Js(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Ot(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ya(Qt),be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?Va(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ws())),Ot(t),null;case 26:var i=t.type,u=t.memoizedState;return e===null?(Va(t),u!==null?(Ot(t),yd(t,u)):(Ot(t),Lo(t,i,null,a,n))):u?u!==e.memoizedState?(Va(t),Ot(t),yd(t,u)):(Ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Va(t),Ot(t),Lo(t,i,e,a,n)),null;case 27:if(De(t),n=Ge.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Va(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Ot(t),null}e=_e.current,Gi(t)?$c(t):(e=Eh(i,a,n),t.stateNode=e,Va(t))}return Ot(t),null;case 5:if(De(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Va(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Ot(t),null}if(u=_e.current,Gi(t))$c(t);else{var f=gs(Ge.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?f.createElement("select",{is:a.is}):f.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?f.createElement(i,{is:a.is}):f.createElement(i)}}u[Nt]=t,u[Bt]=a;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(fn(u,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Va(t)}}return Ot(t),Lo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Va(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=Ge.current,Gi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=sn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||hh(e.nodeValue,n)),e||gl(t,!0)}else e=gs(e).createTextNode(a),e[Nt]=t,t.stateNode=e}return Ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Gi(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Nt]=t}else ui(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),e=!1}else n=Ws(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Hn(t),t):(Hn(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Ot(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Gi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[Nt]=t}else ui(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),i=!1}else i=Ws(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Hn(t),t):(Hn(t),null)}return Hn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),as(t,t.updateQueue),Ot(t),null);case 4:return be(),e===null&&oc(t.stateNode.containerInfo),Ot(t),null;case 10:return Ya(t.type),Ot(t),null;case 19:if(ne(qt),a=t.memoizedState,a===null)return Ot(t),null;if(i=(t.flags&128)!==0,u=a.rendering,u===null)if(i)Pr(a,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Gu(e),u!==null){for(t.flags|=128,Pr(a,!1),e=u.updateQueue,t.updateQueue=e,as(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Gc(n,e),n=n.sibling;return me(qt,qt.current&1|2),ut&&Ka(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Pt()>ss&&(t.flags|=128,i=!0,Pr(a,!1),t.lanes=4194304)}else{if(!i)if(e=Gu(u),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,as(t,e),Pr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ut)return Ot(t),null}else 2*Pt()-a.renderingStartTime>ss&&n!==536870912&&(t.flags|=128,i=!0,Pr(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pt(),e.sibling=null,n=qt.current,me(qt,i?n&1|2:n&1),ut&&Ka(t,a.treeForkCount),e):(Ot(t),null);case 22:case 23:return Hn(t),oo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),n=t.updateQueue,n!==null&&as(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&ne(ci),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ya(Qt),Ot(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function np(e,t){switch(Js(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ya(Qt),be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return De(t),null;case 31:if(t.memoizedState!==null){if(Hn(t),t.alternate===null)throw Error(d(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Hn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(qt),null;case 4:return be(),null;case 10:return Ya(t.type),null;case 22:case 23:return Hn(t),oo(),e!==null&&ne(ci),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ya(Qt),null;case 25:return null;default:return null}}function gd(e,t){switch(Js(t),t.tag){case 3:Ya(Qt),be();break;case 26:case 27:case 5:De(t);break;case 4:be();break;case 31:t.memoizedState!==null&&Hn(t);break;case 13:Hn(t);break;case 19:ne(qt);break;case 10:Ya(t.type);break;case 22:case 23:Hn(t),oo(),e!==null&&ne(ci);break;case 24:Ya(Qt)}}function Fr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var u=n.create,f=n.inst;a=u(),f.destroy=a}n=n.next}while(n!==i)}}catch(v){bt(t,t.return,v)}}function Tl(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){var f=a.inst,v=f.destroy;if(v!==void 0){f.destroy=void 0,i=t;var E=n,G=v;try{G()}catch(F){bt(i,E,F)}}}a=a.next}while(a!==u)}}catch(F){bt(t,t.return,F)}}function bd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{of(t,n)}catch(a){bt(e,e.return,a)}}}function xd(e,t,n){n.props=pi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){bt(e,t,a)}}function Ir(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){bt(e,t,i)}}function _a(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){bt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){bt(e,t,i)}else n.current=null}function Sd(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){bt(e,e.return,i)}}function Yo(e,t,n){try{var a=e.stateNode;Ep(a,e.type,n,t),a[Bt]=t}catch(i){bt(e,e.return,i)}}function _d(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zl(e.type)||e.tag===4}function Xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tn));else if(a!==4&&(a===27&&zl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}function ls(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&zl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ls(e,t,n),e=e.sibling;e!==null;)ls(e,t,n),e=e.sibling}function wd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fn(t,a,n),t[Nt]=e,t[Bt]=n}catch(u){bt(e,e.return,u)}}var Za=!1,Jt=!1,Qo=!1,Ed=typeof WeakSet=="function"?WeakSet:Set,nn=null;function ap(e,t){if(e=e.containerInfo,dc=Ts,e=h(e),p(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,v=-1,E=-1,G=0,F=0,le=e,V=null;t:for(;;){for(var Z;le!==n||i!==0&&le.nodeType!==3||(v=f+i),le!==u||a!==0&&le.nodeType!==3||(E=f+a),le.nodeType===3&&(f+=le.nodeValue.length),(Z=le.firstChild)!==null;)V=le,le=Z;for(;;){if(le===e)break t;if(V===n&&++G===i&&(v=f),V===u&&++F===a&&(E=f),(Z=le.nextSibling)!==null)break;le=V,V=le.parentNode}le=Z}n=v===-1||E===-1?null:{start:v,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(hc={focusedElem:e,selectionRange:n},Ts=!1,nn=t;nn!==null;)if(t=nn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nn=e;else for(;nn!==null;){switch(t=nn,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,i=u.memoizedProps,u=u.memoizedState,a=n.stateNode;try{var Me=pi(n.type,i);e=a.getSnapshotBeforeUpdate(Me,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(qe){bt(n,n.return,qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)vc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,nn=e;break}nn=t.return}}function Td(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:$a(e,n),a&4&&Fr(5,n);break;case 1:if($a(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){bt(n,n.return,f)}else{var i=pi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){bt(n,n.return,f)}}a&64&&bd(n),a&512&&Ir(n,n.return);break;case 3:if($a(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{of(e,t)}catch(f){bt(n,n.return,f)}}break;case 27:t===null&&a&4&&wd(n);case 26:case 5:$a(e,n),t===null&&a&4&&Sd(n),a&512&&Ir(n,n.return);break;case 12:$a(e,n);break;case 31:$a(e,n),a&4&&Cd(e,n);break;case 13:$a(e,n),a&4&&Md(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=dp.bind(null,n),zp(e,n))));break;case 22:if(a=n.memoizedState!==null||Za,!a){t=t!==null&&t.memoizedState!==null||Jt,i=Za;var u=Jt;Za=a,(Jt=t)&&!u?Wa(e,n,(n.subtreeFlags&8772)!==0):$a(e,n),Za=i,Jt=u}break;case 30:break;default:$a(e,n)}}function jd(e){var t=e.alternate;t!==null&&(e.alternate=null,jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_i(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,Nn=!1;function Ja(e,t,n){for(n=n.child;n!==null;)Nd(e,t,n),n=n.sibling}function Nd(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(ca,n)}catch{}switch(n.tag){case 26:Jt||_a(n,t),Ja(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Jt||_a(n,t);var a=Dt,i=Nn;zl(n.type)&&(Dt=n.stateNode,Nn=!1),Ja(e,t,n),su(n.stateNode),Dt=a,Nn=i;break;case 5:Jt||_a(n,t);case 6:if(a=Dt,i=Nn,Dt=null,Ja(e,t,n),Dt=a,Nn=i,Dt!==null)if(Nn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(n.stateNode)}catch(u){bt(n,t,u)}else try{Dt.removeChild(n.stateNode)}catch(u){bt(n,t,u)}break;case 18:Dt!==null&&(Nn?(e=Dt,bh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),fr(e)):bh(Dt,n.stateNode));break;case 4:a=Dt,i=Nn,Dt=n.stateNode.containerInfo,Nn=!0,Ja(e,t,n),Dt=a,Nn=i;break;case 0:case 11:case 14:case 15:Tl(2,n,t),Jt||Tl(4,n,t),Ja(e,t,n);break;case 1:Jt||(_a(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&xd(n,t,a)),Ja(e,t,n);break;case 21:Ja(e,t,n);break;case 22:Jt=(a=Jt)||n.memoizedState!==null,Ja(e,t,n),Jt=a;break;default:Ja(e,t,n)}}function Cd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fr(e)}catch(n){bt(t,t.return,n)}}}function Md(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fr(e)}catch(n){bt(t,t.return,n)}}function lp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ed),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ed),t;default:throw Error(d(435,e.tag))}}function is(e,t){var n=lp(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=hp.bind(null,e,a);a.then(i,i)}})}function Cn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],u=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 27:if(zl(v.type)){Dt=v.stateNode,Nn=!1;break e}break;case 5:Dt=v.stateNode,Nn=!1;break e;case 3:case 4:Dt=v.stateNode.containerInfo,Nn=!0;break e}v=v.return}if(Dt===null)throw Error(d(160));Nd(u,f,i),Dt=null,Nn=!1,u=i.alternate,u!==null&&(u.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ad(t,e),t=t.sibling}var ia=null;function Ad(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(t,e),Mn(e),a&4&&(Tl(3,e,e.return),Fr(3,e),Tl(5,e,e.return));break;case 1:Cn(t,e),Mn(e),a&512&&(Jt||n===null||_a(n,n.return)),a&64&&Za&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=ia;if(Cn(t,e),Mn(e),a&512&&(Jt||n===null||_a(n,n.return)),a&4){var u=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":u=i.getElementsByTagName("title")[0],(!u||u[Dn]||u[Nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=i.createElement(a),i.head.insertBefore(u,i.querySelector("head > title"))),fn(u,a,n),u[Nt]=e,Ht(u),a=u;break e;case"link":var f=Ah("link","href",i).get(a+(n.href||""));if(f){for(var v=0;v<f.length;v++)if(u=f[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(v,1);break t}}u=i.createElement(a),fn(u,a,n),i.head.appendChild(u);break;case"meta":if(f=Ah("meta","content",i).get(a+(n.content||""))){for(v=0;v<f.length;v++)if(u=f[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(v,1);break t}}u=i.createElement(a),fn(u,a,n),i.head.appendChild(u);break;default:throw Error(d(468,a))}u[Nt]=e,Ht(u),a=u}e.stateNode=a}else Oh(i,e.type,e.stateNode);else e.stateNode=Mh(i,a,e.memoizedProps);else u!==a?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,a===null?Oh(i,e.type,e.stateNode):Mh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Yo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Cn(t,e),Mn(e),a&512&&(Jt||n===null||_a(n,n.return)),n!==null&&a&4&&Yo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Cn(t,e),Mn(e),a&512&&(Jt||n===null||_a(n,n.return)),e.flags&32){i=e.stateNode;try{Aa(i,"")}catch(Me){bt(e,e.return,Me)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Yo(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Qo=!0);break;case 6:if(Cn(t,e),Mn(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Me){bt(e,e.return,Me)}}break;case 3:if(Ss=null,i=ia,ia=bs(t.containerInfo),Cn(t,e),ia=i,Mn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{fr(t.containerInfo)}catch(Me){bt(e,e.return,Me)}Qo&&(Qo=!1,Od(e));break;case 4:a=ia,ia=bs(e.stateNode.containerInfo),Cn(t,e),Mn(e),ia=a;break;case 12:Cn(t,e),Mn(e);break;case 31:Cn(t,e),Mn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,is(e,a)));break;case 13:Cn(t,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(us=Pt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,is(e,a)));break;case 22:i=e.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,G=Za,F=Jt;if(Za=G||i,Jt=F||E,Cn(t,e),Jt=F,Za=G,Mn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||E||Za||Jt||vi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){E=n=t;try{if(u=E.stateNode,i)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=E.stateNode;var le=E.memoizedProps.style,V=le!=null&&le.hasOwnProperty("display")?le.display:null;v.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(Me){bt(E,E.return,Me)}}}else if(t.tag===6){if(n===null){E=t;try{E.stateNode.nodeValue=i?"":E.memoizedProps}catch(Me){bt(E,E.return,Me)}}}else if(t.tag===18){if(n===null){E=t;try{var Z=E.stateNode;i?xh(Z,!0):xh(E.stateNode,!1)}catch(Me){bt(E,E.return,Me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,is(e,n))));break;case 19:Cn(t,e),Mn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,is(e,a)));break;case 30:break;case 21:break;default:Cn(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(_d(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var i=n.stateNode,u=Xo(e);ls(e,u,i);break;case 5:var f=n.stateNode;n.flags&32&&(Aa(f,""),n.flags&=-33);var v=Xo(e);ls(e,v,f);break;case 3:case 4:var E=n.stateNode.containerInfo,G=Xo(e);Go(e,G,E);break;default:throw Error(d(161))}}catch(F){bt(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Od(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Od(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Td(e,t.alternate,t),t=t.sibling}function vi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Tl(4,t,t.return),vi(t);break;case 1:_a(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&xd(t,t.return,n),vi(t);break;case 27:su(t.stateNode);case 26:case 5:_a(t,t.return),vi(t);break;case 22:t.memoizedState===null&&vi(t);break;case 30:vi(t);break;default:vi(t)}e=e.sibling}}function Wa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:Wa(i,u,n),Fr(4,u);break;case 1:if(Wa(i,u,n),a=u,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(G){bt(a,a.return,G)}if(a=u,i=a.updateQueue,i!==null){var v=a.stateNode;try{var E=i.shared.hiddenCallbacks;if(E!==null)for(i.shared.hiddenCallbacks=null,i=0;i<E.length;i++)sf(E[i],v)}catch(G){bt(a,a.return,G)}}n&&f&64&&bd(u),Ir(u,u.return);break;case 27:wd(u);case 26:case 5:Wa(i,u,n),n&&a===null&&f&4&&Sd(u),Ir(u,u.return);break;case 12:Wa(i,u,n);break;case 31:Wa(i,u,n),n&&f&4&&Cd(i,u);break;case 13:Wa(i,u,n),n&&f&4&&Md(i,u);break;case 22:u.memoizedState===null&&Wa(i,u,n),Ir(u,u.return);break;case 30:break;default:Wa(i,u,n)}t=t.sibling}}function Vo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&qr(n))}function Zo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qr(e))}function ra(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zd(e,t,n,a),t=t.sibling}function zd(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ra(e,t,n,a),i&2048&&Fr(9,t);break;case 1:ra(e,t,n,a);break;case 3:ra(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qr(e)));break;case 12:if(i&2048){ra(e,t,n,a),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,v=u.onPostCommit;typeof v=="function"&&v(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){bt(t,t.return,E)}}else ra(e,t,n,a);break;case 31:ra(e,t,n,a);break;case 13:ra(e,t,n,a);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?ra(e,t,n,a):eu(e,t):u._visibility&2?ra(e,t,n,a):(u._visibility|=2,er(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Vo(f,t);break;case 24:ra(e,t,n,a),i&2048&&Zo(t.alternate,t);break;default:ra(e,t,n,a)}}function er(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,v=n,E=a,G=f.flags;switch(f.tag){case 0:case 11:case 15:er(u,f,v,E,i),Fr(8,f);break;case 23:break;case 22:var F=f.stateNode;f.memoizedState!==null?F._visibility&2?er(u,f,v,E,i):eu(u,f):(F._visibility|=2,er(u,f,v,E,i)),i&&G&2048&&Vo(f.alternate,f);break;case 24:er(u,f,v,E,i),i&&G&2048&&Zo(f.alternate,f);break;default:er(u,f,v,E,i)}t=t.sibling}}function eu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:eu(n,a),i&2048&&Vo(a.alternate,a);break;case 24:eu(n,a),i&2048&&Zo(a.alternate,a);break;default:eu(n,a)}t=t.sibling}}var tu=8192;function tr(e,t,n){if(e.subtreeFlags&tu)for(e=e.child;e!==null;)Dd(e,t,n),e=e.sibling}function Dd(e,t,n){switch(e.tag){case 26:tr(e,t,n),e.flags&tu&&e.memoizedState!==null&&Gp(n,ia,e.memoizedState,e.memoizedProps);break;case 5:tr(e,t,n);break;case 3:case 4:var a=ia;ia=bs(e.stateNode.containerInfo),tr(e,t,n),ia=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=tu,tu=16777216,tr(e,t,n),tu=a):tr(e,t,n));break;default:tr(e,t,n)}}function Rd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function nu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];nn=a,Ud(a,e)}Rd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kd(e),e=e.sibling}function kd(e){switch(e.tag){case 0:case 11:case 15:nu(e),e.flags&2048&&Tl(9,e,e.return);break;case 3:nu(e);break;case 12:nu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,rs(e)):nu(e);break;default:nu(e)}}function rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];nn=a,Ud(a,e)}Rd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Tl(8,t,t.return),rs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,rs(t));break;default:rs(t)}e=e.sibling}}function Ud(e,t){for(;nn!==null;){var n=nn;switch(n.tag){case 0:case 11:case 15:Tl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:qr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,nn=a;else e:for(n=e;nn!==null;){a=nn;var i=a.sibling,u=a.return;if(jd(a),a===n){nn=null;break e}if(i!==null){i.return=u,nn=i;break e}nn=u}}}var ip={getCacheForType:function(e){var t=on(Qt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return on(Qt).controller.signal}},rp=typeof WeakMap=="function"?WeakMap:Map,mt=0,jt=null,et=null,at=0,gt=0,qn=null,jl=!1,nr=!1,Jo=!1,Pa=0,kt=0,Nl=0,yi=0,$o=0,Kn=0,ar=0,au=null,An=null,Wo=!1,us=0,Bd=0,ss=1/0,os=null,Cl=null,Wt=0,Ml=null,lr=null,Fa=0,Po=0,Fo=null,Hd=null,lu=0,Io=null;function Ln(){return(mt&2)!==0&&at!==0?at&-at:$.T!==null?ic():Gl()}function qd(){if(Kn===0)if((at&536870912)===0||ut){var e=al;al<<=1,(al&3932160)===0&&(al=262144),Kn=e}else Kn=536870912;return e=Bn.current,e!==null&&(e.flags|=32),Kn}function On(e,t,n){(e===jt&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(ir(e,0),Al(e,at,Kn,!1)),Yn(e,n),((mt&2)===0||e!==jt)&&(e===jt&&((mt&2)===0&&(yi|=n),kt===4&&Al(e,at,Kn,!1)),wa(e))}function Kd(e,t,n){if((mt&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Na(e,t),i=a?op(e,t):tc(e,t,!0),u=a;do{if(i===0){nr&&!a&&Al(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!up(n)){i=tc(e,t,!1),u=!1;continue}if(i===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var v=e;i=au;var E=v.current.memoizedState.isDehydrated;if(E&&(ir(v,f).flags|=256),f=tc(v,f,!1),f!==2){if(Jo&&!E){v.errorRecoveryDisabledLanes|=u,yi|=u,i=4;break e}u=An,An=i,u!==null&&(An===null?An=u:An.push.apply(An,u))}i=f}if(u=!1,i!==2)continue}}if(i===1){ir(e,0),Al(e,t,0,!0);break}e:{switch(a=e,u=i,u){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Al(a,t,Kn,!jl);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=us+300-Pt(),10<i)){if(Al(a,t,Kn,!jl),Yl(a,0,!0)!==0)break e;Fa=t,a.timeoutHandle=yh(Ld.bind(null,a,n,An,os,Wo,t,Kn,yi,ar,jl,u,"Throttled",-0,0),i);break e}Ld(a,n,An,os,Wo,t,Kn,yi,ar,jl,u,null,-0,0)}}break}while(!0);wa(e)}function Ld(e,t,n,a,i,u,f,v,E,G,F,le,V,Z){if(e.timeoutHandle=-1,le=t.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},Dd(t,u,le);var Me=(u&62914560)===u?us-Pt():(u&4194048)===u?Bd-Pt():0;if(Me=Qp(le,Me),Me!==null){Fa=u,e.cancelPendingCommit=Me($d.bind(null,e,t,u,n,a,i,f,v,E,F,le,null,V,Z)),Al(e,u,f,!G);return}}$d(e,t,u,n,a,i,f,v,E)}function up(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],u=i.getSnapshot;i=i.value;try{if(!vn(u(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Al(e,t,n,a){t&=~$o,t&=~yi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var u=31-we(i),f=1<<u;a[u]=-1,i&=~f}n!==0&&Xl(e,n,t)}function cs(){return(mt&6)===0?(iu(0),!1):!0}function ec(){if(et!==null){if(gt===0)var e=et.return;else e=et,La=si=null,vo(e),$i=null,Lr=0,e=et;for(;e!==null;)gd(e.alternate,e),e=e.return;et=null}}function ir(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Np(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fa=0,ec(),jt=e,et=n=qa(e.current,null),at=t,gt=0,qn=null,jl=!1,nr=Na(e,t),Jo=!1,ar=Kn=$o=yi=Nl=kt=0,An=au=null,Wo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-we(a),u=1<<i;t|=e[i],a&=~u}return Pa=t,tn(),n}function Yd(e,t){Je=null,$.H=$r,t===Ji||t===qu?(t=af(),gt=3):t===ao?(t=af(),gt=4):gt=t===zo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qn=t,et===null&&(kt=1,Iu(e,Zn(t,e.current)))}function Xd(){var e=Bn.current;return e===null?!0:(at&4194048)===at?Pn===null:(at&62914560)===at||(at&536870912)!==0?e===Pn:!1}function Gd(){var e=$.H;return $.H=$r,e===null?$r:e}function Qd(){var e=$.A;return $.A=ip,e}function fs(){kt=4,jl||(at&4194048)!==at&&Bn.current!==null||(nr=!0),(Nl&134217727)===0&&(yi&134217727)===0||jt===null||Al(jt,at,Kn,!1)}function tc(e,t,n){var a=mt;mt|=2;var i=Gd(),u=Qd();(jt!==e||at!==t)&&(os=null,ir(e,t)),t=!1;var f=kt;e:do try{if(gt!==0&&et!==null){var v=et,E=qn;switch(gt){case 8:ec(),f=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(t=!0);var G=gt;if(gt=0,qn=null,rr(e,v,E,G),n&&nr){f=0;break e}break;default:G=gt,gt=0,qn=null,rr(e,v,E,G)}}sp(),f=kt;break}catch(F){Yd(e,F)}while(!0);return t&&e.shellSuspendCounter++,La=si=null,mt=a,$.H=i,$.A=u,et===null&&(jt=null,at=0,tn()),f}function sp(){for(;et!==null;)Vd(et)}function op(e,t){var n=mt;mt|=2;var a=Gd(),i=Qd();jt!==e||at!==t?(os=null,ss=Pt()+500,ir(e,t)):nr=Na(e,t);e:do try{if(gt!==0&&et!==null){t=et;var u=qn;t:switch(gt){case 1:gt=0,qn=null,rr(e,t,u,1);break;case 2:case 9:if(tf(u)){gt=0,qn=null,Zd(t);break}t=function(){gt!==2&&gt!==9||jt!==e||(gt=7),wa(e)},u.then(t,t);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:tf(u)?(gt=0,qn=null,Zd(t)):(gt=0,qn=null,rr(e,t,u,7));break;case 5:var f=null;switch(et.tag){case 26:f=et.memoizedState;case 5:case 27:var v=et;if(f?zh(f):v.stateNode.complete){gt=0,qn=null;var E=v.sibling;if(E!==null)et=E;else{var G=v.return;G!==null?(et=G,ds(G)):et=null}break t}}gt=0,qn=null,rr(e,t,u,5);break;case 6:gt=0,qn=null,rr(e,t,u,6);break;case 8:ec(),kt=6;break e;default:throw Error(d(462))}}cp();break}catch(F){Yd(e,F)}while(!0);return La=si=null,$.H=a,$.A=i,mt=n,et!==null?0:(jt=null,at=0,tn(),kt)}function cp(){for(;et!==null&&!hn();)Vd(et)}function Vd(e){var t=vd(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,t===null?ds(e):et=t}function Zd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=cd(n,t,t.pendingProps,t.type,void 0,at);break;case 11:t=cd(n,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:vo(t);default:gd(n,t),t=et=Gc(t,Pa),t=vd(n,t,Pa)}e.memoizedProps=e.pendingProps,t===null?ds(e):et=t}function rr(e,t,n,a){La=si=null,vo(t),$i=null,Lr=0;var i=t.return;try{if(Fm(e,i,t,n,at)){kt=1,Iu(e,Zn(n,e.current)),et=null;return}}catch(u){if(i!==null)throw et=i,u;kt=1,Iu(e,Zn(n,e.current)),et=null;return}t.flags&32768?(ut||a===1?e=!0:nr||(at&536870912)!==0?e=!1:(jl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Bn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Jd(t,e)):ds(t)}function ds(e){var t=e;do{if((t.flags&32768)!==0){Jd(t,jl);return}e=t.return;var n=tp(t.alternate,t,Pa);if(n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);kt===0&&(kt=5)}function Jd(e,t){do{var n=np(e.alternate,e);if(n!==null){n.flags&=32767,et=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=n}while(e!==null);kt=6,et=null}function $d(e,t,n,a,i,u,f,v,E){e.cancelPendingCommit=null;do hs();while(Wt!==0);if((mt&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(u=t.lanes|t.childLanes,u|=Ze,mr(e,n,u,f,v,E),e===jt&&(et=jt=null,at=0),lr=t,Ml=e,Fa=n,Po=u,Fo=i,Hd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mp(nl,function(){return eh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=$.T,$.T=null,i=ye.p,ye.p=2,f=mt,mt|=4;try{ap(e,t,n)}finally{mt=f,ye.p=i,$.T=a}}Wt=1,Wd(),Pd(),Fd()}}function Wd(){if(Wt===1){Wt=0;var e=Ml,t=lr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=$.T,$.T=null;var a=ye.p;ye.p=2;var i=mt;mt|=4;try{Ad(t,e);var u=hc,f=h(e.containerInfo),v=u.focusedElem,E=u.selectionRange;if(f!==v&&v&&v.ownerDocument&&o(v.ownerDocument.documentElement,v)){if(E!==null&&p(v)){var G=E.start,F=E.end;if(F===void 0&&(F=G),"selectionStart"in v)v.selectionStart=G,v.selectionEnd=Math.min(F,v.value.length);else{var le=v.ownerDocument||document,V=le&&le.defaultView||window;if(V.getSelection){var Z=V.getSelection(),Me=v.textContent.length,qe=Math.min(E.start,Me),wt=E.end===void 0?qe:Math.min(E.end,Me);!Z.extend&&qe>wt&&(f=wt,wt=qe,qe=f);var K=s(v,qe),z=s(v,wt);if(K&&z&&(Z.rangeCount!==1||Z.anchorNode!==K.node||Z.anchorOffset!==K.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var X=le.createRange();X.setStart(K.node,K.offset),Z.removeAllRanges(),qe>wt?(Z.addRange(X),Z.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),Z.addRange(X))}}}}for(le=[],Z=v;Z=Z.parentNode;)Z.nodeType===1&&le.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<le.length;v++){var te=le[v];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Ts=!!dc,hc=dc=null}finally{mt=i,ye.p=a,$.T=n}}e.current=t,Wt=2}}function Pd(){if(Wt===2){Wt=0;var e=Ml,t=lr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=$.T,$.T=null;var a=ye.p;ye.p=2;var i=mt;mt|=4;try{Td(e,t.alternate,t)}finally{mt=i,ye.p=a,$.T=n}}Wt=3}}function Fd(){if(Wt===4||Wt===3){Wt=0,an();var e=Ml,t=lr,n=Fa,a=Hd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Wt=5:(Wt=0,lr=Ml=null,Id(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Cl=null),ll(n),t=t.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(ca,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=$.T,i=ye.p,ye.p=2,$.T=null;try{for(var u=e.onRecoverableError,f=0;f<a.length;f++){var v=a[f];u(v.value,{componentStack:v.stack})}}finally{$.T=t,ye.p=i}}(Fa&3)!==0&&hs(),wa(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Io?lu++:(lu=0,Io=e):lu=0,iu(0)}}function Id(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qr(t)))}function hs(){return Wd(),Pd(),Fd(),eh()}function eh(){if(Wt!==5)return!1;var e=Ml,t=Po;Po=0;var n=ll(Fa),a=$.T,i=ye.p;try{ye.p=32>n?32:n,$.T=null,n=Fo,Fo=null;var u=Ml,f=Fa;if(Wt=0,lr=Ml=null,Fa=0,(mt&6)!==0)throw Error(d(331));var v=mt;if(mt|=4,kd(u.current),zd(u,u.current,f,n),mt=v,iu(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(ca,u)}catch{}return!0}finally{ye.p=i,$.T=a,Id(e,t)}}function th(e,t,n){t=Zn(n,t),t=Oo(e.stateNode,t,2),e=_l(e,t,2),e!==null&&(Yn(e,2),wa(e))}function bt(e,t,n){if(e.tag===3)th(e,e,n);else for(;t!==null;){if(t.tag===3){th(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Cl===null||!Cl.has(a))){e=Zn(n,e),n=nd(2),a=_l(t,n,2),a!==null&&(ad(n,a,t,e),Yn(a,2),wa(a));break}}t=t.return}}function nc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new rp;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Jo=!0,i.add(n),e=fp.bind(null,e,t,n),t.then(e,e))}function fp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,jt===e&&(at&n)===n&&(kt===4||kt===3&&(at&62914560)===at&&300>Pt()-us?(mt&2)===0&&ir(e,0):$o|=n,ar===at&&(ar=0)),wa(e)}function nh(e,t){t===0&&(t=bu()),e=zt(e,t),e!==null&&(Yn(e,t),wa(e))}function dp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nh(e,n)}function hp(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),nh(e,n)}function mp(e,t){return En(e,t)}var ms=null,ur=null,ac=!1,ps=!1,lc=!1,Ol=0;function wa(e){e!==ur&&e.next===null&&(ur===null?ms=ur=e:ur=ur.next=e),ps=!0,ac||(ac=!0,vp())}function iu(e,t){if(!lc&&ps){lc=!0;do for(var n=!1,a=ms;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var u=0;else{var f=a.suspendedLanes,v=a.pingedLanes;u=(1<<31-we(42|e)+1)-1,u&=i&~(f&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,rh(a,u))}else u=at,u=Yl(a,a===jt?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||Na(a,u)||(n=!0,rh(a,u));a=a.next}while(n);lc=!1}}function pp(){ah()}function ah(){ps=ac=!1;var e=0;Ol!==0&&jp()&&(e=Ol);for(var t=Pt(),n=null,a=ms;a!==null;){var i=a.next,u=lh(a,t);u===0?(a.next=null,n===null?ms=i:n.next=i,i===null&&(ur=n)):(n=a,(e!==0||(u&3)!==0)&&(ps=!0)),a=i}Wt!==0&&Wt!==5||iu(e),Ol!==0&&(Ol=0)}function lh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-we(u),v=1<<f,E=i[f];E===-1?((v&n)===0||(v&a)!==0)&&(i[f]=ks(v,t)):E<=t&&(e.expiredLanes|=v),u&=~v}if(t=jt,n=at,n=Yl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&yt(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Na(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&yt(a),ll(n)){case 2:case 8:n=oa;break;case 32:n=nl;break;case 268435456:n=bi;break;default:n=nl}return a=ih.bind(null,e),n=En(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&yt(a),e.callbackPriority=2,e.callbackNode=null,2}function ih(e,t){if(Wt!==0&&Wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(hs()&&e.callbackNode!==n)return null;var a=at;return a=Yl(e,e===jt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Kd(e,a,t),lh(e,Pt()),e.callbackNode!=null&&e.callbackNode===n?ih.bind(null,e):null)}function rh(e,t){if(hs())return null;Kd(e,t,!0)}function vp(){Cp(function(){(mt&6)!==0?En(sa,pp):ah()})}function ic(){if(Ol===0){var e=Vi;e===0&&(e=xe,xe<<=1,(xe&261888)===0&&(xe=256)),Ol=e}return Ol}function uh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function sh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function yp(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var u=uh((i[Bt]||null).action),f=a.submitter;f&&(t=(t=f[Bt]||null)?uh(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var v=new Ni("action","action",null,a,i);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ol!==0){var E=f?sh(i,f):new FormData(i);To(n,{pending:!0,data:E,method:i.method,action:u},null,E)}}else typeof u=="function"&&(v.preventDefault(),E=f?sh(i,f):new FormData(i),To(n,{pending:!0,data:E,method:i.method,action:u},u,E))},currentTarget:i}]})}}for(var rc=0;rc<pe.length;rc++){var uc=pe[rc],gp=uc.toLowerCase(),bp=uc[0].toUpperCase()+uc.slice(1);se(gp,"on"+bp)}se(Y,"onAnimationEnd"),se(Q,"onAnimationIteration"),se(W,"onAnimationStart"),se("dblclick","onDoubleClick"),se("focusin","onFocus"),se("focusout","onBlur"),se(ae,"onTransitionRun"),se(fe,"onTransitionStart"),se(ge,"onTransitionCancel"),se(ue,"onTransitionEnd"),pa("onMouseEnter",["mouseout","mouseover"]),pa("onMouseLeave",["mouseout","mouseover"]),pa("onPointerEnter",["pointerout","pointerover"]),pa("onPointerLeave",["pointerout","pointerover"]),na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),na("onBeforeInput",["compositionend","keypress","textInput","paste"]),na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function oh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var f=a.length-1;0<=f;f--){var v=a[f],E=v.instance,G=v.currentTarget;if(v=v.listener,E!==u&&i.isPropagationStopped())break e;u=v,i.currentTarget=G;try{u(i)}catch(F){Ee(F)}i.currentTarget=null,u=E}else for(f=0;f<a.length;f++){if(v=a[f],E=v.instance,G=v.currentTarget,v=v.listener,E!==u&&i.isPropagationStopped())break e;u=v,i.currentTarget=G;try{u(i)}catch(F){Ee(F)}i.currentTarget=null,u=E}}}}function tt(e,t){var n=t[il];n===void 0&&(n=t[il]=new Set);var a=e+"__bubble";n.has(a)||(ch(t,e,2,!1),n.add(a))}function sc(e,t,n){var a=0;t&&(a|=4),ch(n,e,a,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[vs]){e[vs]=!0,Ca.forEach(function(n){n!=="selectionchange"&&(xp.has(n)||sc(n,!1,e),sc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,sc("selectionchange",!1,t))}}function ch(e,t,n,a){switch(qh(t)){case 2:var i=Jp;break;case 8:i=$p;break;default:i=Ec}n=i.bind(null,t,n,e),i=void 0,!_r||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cc(e,t,n,a,i){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var v=a.stateNode.containerInfo;if(v===i)break;if(f===4)for(f=a.return;f!==null;){var E=f.tag;if((E===3||E===4)&&f.stateNode.containerInfo===i)return;f=f.return}for(;v!==null;){if(f=ma(v),f===null)return;if(E=f.tag,E===5||E===6||E===26||E===27){a=u=f;continue e}v=v.parentNode}}a=a.return}ul(function(){var G=u,F=Ti(n),le=[];e:{var V=de.get(e);if(V!==void 0){var Z=Ni,Me=e;switch(e){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":Z=Ri;break;case"focusin":Me="focus",Z=fl;break;case"focusout":Me="blur",Z=fl;break;case"beforeblur":case"afterblur":Z=fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Mr;break;case Y:case Q:case W:Z=Eu;break;case ue:Z=Ar;break;case"scroll":case"scrollend":Z=Ci;break;case"wheel":Z=Ui;break;case"copy":case"cut":case"paste":Z=dl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Cr;break;case"toggle":case"beforetoggle":Z=Nu}var qe=(t&4)!==0,wt=!qe&&(e==="scroll"||e==="scrollend"),K=qe?V!==null?V+"Capture":null:V;qe=[];for(var z=G,X;z!==null;){var te=z;if(X=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||X===null||K===null||(te=Da(z,K),te!=null&&qe.push(uu(z,te,X))),wt)break;z=z.return}0<qe.length&&(V=new Z(V,Me,null,n,F),le.push({event:V,listeners:qe}))}}if((t&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",V&&n!==Gn&&(Me=n.relatedTarget||n.fromElement)&&(ma(Me)||Me[bn]))break e;if((Z||V)&&(V=F.window===F?F:(V=F.ownerDocument)?V.defaultView||V.parentWindow:window,Z?(Me=n.relatedTarget||n.toElement,Z=G,Me=Me?ma(Me):null,Me!==null&&(wt=w(Me),qe=Me.tag,Me!==wt||qe!==5&&qe!==27&&qe!==6)&&(Me=null)):(Z=null,Me=G),Z!==Me)){if(qe=Ai,te="onMouseLeave",K="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(qe=Cr,te="onPointerLeave",K="onPointerEnter",z="pointer"),wt=Z==null?V:Rn(Z),X=Me==null?V:Rn(Me),V=new qe(te,z+"leave",Z,n,F),V.target=wt,V.relatedTarget=X,te=null,ma(F)===G&&(qe=new qe(K,z+"enter",Me,n,F),qe.target=X,qe.relatedTarget=wt,te=qe),wt=te,Z&&Me)t:{for(qe=Sp,K=Z,z=Me,X=0,te=K;te;te=qe(te))X++;te=0;for(var Be=z;Be;Be=qe(Be))te++;for(;0<X-te;)K=qe(K),X--;for(;0<te-X;)z=qe(z),te--;for(;X--;){if(K===z||z!==null&&K===z.alternate){qe=K;break t}K=qe(K),z=qe(z)}qe=null}else qe=null;Z!==null&&fh(le,V,Z,qe,!1),Me!==null&&wt!==null&&fh(le,wt,Me,qe,!0)}}e:{if(V=G?Rn(G):window,Z=V.nodeName&&V.nodeName.toLowerCase(),Z==="select"||Z==="input"&&V.type==="file")var ct=li;else if(qi(V))if(Vn)ct=pl;else{ct=Ha;var Oe=Du}else Z=V.nodeName,!Z||Z.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?G&&Sr(G.elementType)&&(ct=li):ct=kr;if(ct&&(ct=ct(e,G))){Rr(le,ct,n,F);break e}Oe&&Oe(e,V,G),e==="focusout"&&G&&V.type==="number"&&G.memoizedProps.value!=null&&Wl(V,"number",V.value)}switch(Oe=G?Rn(G):window,e){case"focusin":(qi(Oe)||Oe.contentEditable==="true")&&(_=Oe,j=G,M=null);break;case"focusout":M=j=_=null;break;case"mousedown":B=!0;break;case"contextmenu":case"mouseup":case"dragend":B=!1,T(le,n,F);break;case"selectionchange":if(b)break;case"keydown":case"keyup":T(le,n,F)}var $e;if(ni)e:{switch(e){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Ba?Dr(e,n)&&(lt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(lt="onCompositionStart");lt&&(Bi&&n.locale!=="ko"&&(Ba||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Ba&&($e=ol()):(Qn=F,ji="value"in Qn?Qn.value:Qn.textContent,Ba=!0)),Oe=ys(G,lt),0<Oe.length&&(lt=new Di(lt,e,null,n,F),le.push({event:lt,listeners:Oe}),$e?lt.data=$e:($e=Mu(n),$e!==null&&(lt.data=$e)))),($e=Ls?Au(e,n):Ys(e,n))&&(lt=ys(G,"onBeforeInput"),0<lt.length&&(Oe=new Di("onBeforeInput","beforeinput",null,n,F),le.push({event:Oe,listeners:lt}),Oe.data=$e)),yp(le,e,G,n,F)}oh(le,t)})}function uu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ys(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,u=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||u===null||(i=Da(e,n),i!=null&&a.unshift(uu(e,i,u)),i=Da(e,t),i!=null&&a.push(uu(e,i,u))),e.tag===3)return a;e=e.return}return[]}function Sp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fh(e,t,n,a,i){for(var u=t._reactName,f=[];n!==null&&n!==a;){var v=n,E=v.alternate,G=v.stateNode;if(v=v.tag,E!==null&&E===a)break;v!==5&&v!==26&&v!==27||G===null||(E=G,i?(G=Da(n,u),G!=null&&f.unshift(uu(n,G,E))):i||(G=Da(n,u),G!=null&&f.push(uu(n,G,E)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var _p=/\r\n?/g,wp=/\u0000|\uFFFD/g;function dh(e){return(typeof e=="string"?e:""+e).replace(_p,`
`).replace(wp,"")}function hh(e,t){return t=dh(t),dh(e)===t}function _t(e,t,n,a,i,u){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Aa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Aa(e,""+a);break;case"className":Jl(e,"class",a);break;case"tabIndex":Jl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Jl(e,n,a);break;case"style":xr(e,a,u);break;case"data":if(t!=="object"){Jl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=la(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&_t(e,t,"name",i.name,i,null),_t(e,t,"formEncType",i.formEncType,i,null),_t(e,t,"formMethod",i.formMethod,i,null),_t(e,t,"formTarget",i.formTarget,i,null)):(_t(e,t,"encType",i.encType,i,null),_t(e,t,"method",i.method,i,null),_t(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=la(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Tn);break;case"onScroll":a!=null&&tt("scroll",e);break;case"onScrollEnd":a!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=la(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":tt("beforetoggle",e),tt("toggle",e),Pe(e,"popover",a);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Pe(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Hs.get(n)||n,Pe(e,n,a))}}function fc(e,t,n,a,i,u){switch(n){case"style":xr(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Aa(e,a):(typeof a=="number"||typeof a=="bigint")&&Aa(e,""+a);break;case"onScroll":a!=null&&tt("scroll",e);break;case"onScrollEnd":a!=null&&tt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),u=e[Bt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,i),typeof a=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Pe(e,n,a)}}}function fn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var a=!1,i=!1,u;for(u in n)if(n.hasOwnProperty(u)){var f=n[u];if(f!=null)switch(u){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:_t(e,t,u,f,n,null)}}i&&_t(e,t,"srcSet",n.srcSet,n,null),a&&_t(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var v=u=f=i=null,E=null,G=null;for(a in n)if(n.hasOwnProperty(a)){var F=n[a];if(F!=null)switch(a){case"name":i=F;break;case"type":f=F;break;case"checked":E=F;break;case"defaultChecked":G=F;break;case"value":u=F;break;case"defaultValue":v=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(d(137,t));break;default:_t(e,t,a,F,n,null)}}Ei(e,u,v,E,G,f,i,!1);return;case"select":tt("invalid",e),a=f=u=null;for(i in n)if(n.hasOwnProperty(i)&&(v=n[i],v!=null))switch(i){case"value":u=v;break;case"defaultValue":f=v;break;case"multiple":a=v;default:_t(e,t,i,v,n,null)}t=u,n=f,e.multiple=!!a,t!=null?aa(e,!!a,t,!1):n!=null&&aa(e,!!a,n,!0);return;case"textarea":tt("invalid",e),u=i=a=null;for(f in n)if(n.hasOwnProperty(f)&&(v=n[f],v!=null))switch(f){case"value":a=v;break;case"defaultValue":i=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(d(91));break;default:_t(e,t,f,v,n,null)}Pl(e,a,i,u);return;case"option":for(E in n)n.hasOwnProperty(E)&&(a=n[E],a!=null)&&(E==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":_t(e,t,E,a,n,null));return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(a=0;a<ru.length;a++)tt(ru[a],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(a=n[G],a!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:_t(e,t,G,a,n,null)}return;default:if(Sr(t)){for(F in n)n.hasOwnProperty(F)&&(a=n[F],a!==void 0&&fc(e,t,F,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&_t(e,t,v,a,n,null))}function Ep(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,u=null,f=null,v=null,E=null,G=null,F=null;for(Z in n){var le=n[Z];if(n.hasOwnProperty(Z)&&le!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":E=le;default:a.hasOwnProperty(Z)||_t(e,t,Z,null,a,le)}}for(var V in a){var Z=a[V];if(le=n[V],a.hasOwnProperty(V)&&(Z!=null||le!=null))switch(V){case"type":u=Z;break;case"name":i=Z;break;case"checked":G=Z;break;case"defaultChecked":F=Z;break;case"value":f=Z;break;case"defaultValue":v=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(d(137,t));break;default:Z!==le&&_t(e,t,V,Z,a,le)}}va(e,f,v,E,G,F,u,i);return;case"select":Z=f=v=V=null;for(u in n)if(E=n[u],n.hasOwnProperty(u)&&E!=null)switch(u){case"value":break;case"multiple":Z=E;default:a.hasOwnProperty(u)||_t(e,t,u,null,a,E)}for(i in a)if(u=a[i],E=n[i],a.hasOwnProperty(i)&&(u!=null||E!=null))switch(i){case"value":V=u;break;case"defaultValue":v=u;break;case"multiple":f=u;default:u!==E&&_t(e,t,i,u,a,E)}t=v,n=f,a=Z,V!=null?aa(e,!!n,V,!1):!!a!=!!n&&(t!=null?aa(e,!!n,t,!0):aa(e,!!n,n?[]:"",!1));return;case"textarea":Z=V=null;for(v in n)if(i=n[v],n.hasOwnProperty(v)&&i!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:_t(e,t,v,null,a,i)}for(f in a)if(i=a[f],u=n[f],a.hasOwnProperty(f)&&(i!=null||u!=null))switch(f){case"value":V=i;break;case"defaultValue":Z=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==u&&_t(e,t,f,i,a,u)}br(e,V,Z);return;case"option":for(var Me in n)V=n[Me],n.hasOwnProperty(Me)&&V!=null&&!a.hasOwnProperty(Me)&&(Me==="selected"?e.selected=!1:_t(e,t,Me,null,a,V));for(E in a)V=a[E],Z=n[E],a.hasOwnProperty(E)&&V!==Z&&(V!=null||Z!=null)&&(E==="selected"?e.selected=V&&typeof V!="function"&&typeof V!="symbol":_t(e,t,E,V,a,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in n)V=n[qe],n.hasOwnProperty(qe)&&V!=null&&!a.hasOwnProperty(qe)&&_t(e,t,qe,null,a,V);for(G in a)if(V=a[G],Z=n[G],a.hasOwnProperty(G)&&V!==Z&&(V!=null||Z!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(d(137,t));break;default:_t(e,t,G,V,a,Z)}return;default:if(Sr(t)){for(var wt in n)V=n[wt],n.hasOwnProperty(wt)&&V!==void 0&&!a.hasOwnProperty(wt)&&fc(e,t,wt,void 0,a,V);for(F in a)V=a[F],Z=n[F],!a.hasOwnProperty(F)||V===Z||V===void 0&&Z===void 0||fc(e,t,F,V,a,Z);return}}for(var K in n)V=n[K],n.hasOwnProperty(K)&&V!=null&&!a.hasOwnProperty(K)&&_t(e,t,K,null,a,V);for(le in a)V=a[le],Z=n[le],!a.hasOwnProperty(le)||V===Z||V==null&&Z==null||_t(e,t,le,V,a,Z)}function mh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],u=i.transferSize,f=i.initiatorType,v=i.duration;if(u&&v&&mh(f)){for(f=0,v=i.responseEnd,a+=1;a<n.length;a++){var E=n[a],G=E.startTime;if(G>v)break;var F=E.transferSize,le=E.initiatorType;F&&mh(le)&&(E=E.responseEnd,f+=F*(E<v?1:(v-G)/(E-G)))}if(--a,t+=8*(u+f)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dc=null,hc=null;function gs(e){return e.nodeType===9?e:e.ownerDocument}function ph(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pc=null;function jp(){var e=window.event;return e&&e.type==="popstate"?e===pc?!1:(pc=e,!0):(pc=null,!1)}var yh=typeof setTimeout=="function"?setTimeout:void 0,Np=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,Cp=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(e){return gh.resolve(null).then(e).catch(Mp)}:yh;function Mp(e){setTimeout(function(){throw e})}function zl(e){return e==="head"}function bh(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),fr(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")su(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,su(n);for(var u=n.firstChild;u;){var f=u.nextSibling,v=u.nodeName;u[Dn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=f}}else n==="body"&&su(e.ownerDocument.body);n=i}while(n);fr(t)}function xh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function vc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vc(n),_i(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ap(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Dn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function Op(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function Sh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Fn(e.nextSibling),e===null))return null;return e}function yc(e){return e.data==="$?"||e.data==="$~"}function gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zp(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var bc=null;function _h(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Fn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function wh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Eh(e,t,n){switch(t=gs(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function su(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_i(e)}var In=new Map,Th=new Set;function bs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ia=ye.d;ye.d={f:Dp,r:Rp,D:kp,C:Up,L:Bp,m:Hp,X:Kp,S:qp,M:Lp};function Dp(){var e=Ia.f(),t=cs();return e||t}function Rp(e){var t=xt(e);t!==null&&t.tag===5&&t.type==="form"?Yf(t):Ia.r(e)}var sr=typeof document>"u"?null:document;function jh(e,t,n){var a=sr;if(a&&typeof t=="string"&&t){var i=Ft(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Th.has(i)||(Th.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),fn(t,"link",e),Ht(t),a.head.appendChild(t)))}}function kp(e){Ia.D(e),jh("dns-prefetch",e,null)}function Up(e,t){Ia.C(e,t),jh("preconnect",e,t)}function Bp(e,t,n){Ia.L(e,t,n);var a=sr;if(a&&e&&t){var i='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Ft(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Ft(n.imageSizes)+'"]')):i+='[href="'+Ft(e)+'"]';var u=i;switch(t){case"style":u=or(e);break;case"script":u=cr(e)}In.has(u)||(e=L({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),In.set(u,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(ou(u))||t==="script"&&a.querySelector(cu(u))||(t=a.createElement("link"),fn(t,"link",e),Ht(t),a.head.appendChild(t)))}}function Hp(e,t){Ia.m(e,t);var n=sr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Ft(a)+'"][href="'+Ft(e)+'"]',u=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=cr(e)}if(!In.has(u)&&(e=L({rel:"modulepreload",href:e},t),In.set(u,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cu(u)))return}a=n.createElement("link"),fn(a,"link",e),Ht(a),n.head.appendChild(a)}}}function qp(e,t,n){Ia.S(e,t,n);var a=sr;if(a&&e){var i=mn(a).hoistableStyles,u=or(e);t=t||"default";var f=i.get(u);if(!f){var v={loading:0,preload:null};if(f=a.querySelector(ou(u)))v.loading=5;else{e=L({rel:"stylesheet",href:e,"data-precedence":t},n),(n=In.get(u))&&xc(e,n);var E=f=a.createElement("link");Ht(E),fn(E,"link",e),E._p=new Promise(function(G,F){E.onload=G,E.onerror=F}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,xs(f,t,a)}f={type:"stylesheet",instance:f,count:1,state:v},i.set(u,f)}}}function Kp(e,t){Ia.X(e,t);var n=sr;if(n&&e){var a=mn(n).hoistableScripts,i=cr(e),u=a.get(i);u||(u=n.querySelector(cu(i)),u||(e=L({src:e,async:!0},t),(t=In.get(i))&&Sc(e,t),u=n.createElement("script"),Ht(u),fn(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(i,u))}}function Lp(e,t){Ia.M(e,t);var n=sr;if(n&&e){var a=mn(n).hoistableScripts,i=cr(e),u=a.get(i);u||(u=n.querySelector(cu(i)),u||(e=L({src:e,async:!0,type:"module"},t),(t=In.get(i))&&Sc(e,t),u=n.createElement("script"),Ht(u),fn(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(i,u))}}function Nh(e,t,n,a){var i=(i=Ge.current)?bs(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=or(n.href),n=mn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=or(n.href);var u=mn(i).hoistableStyles,f=u.get(e);if(f||(i=i.ownerDocument||i,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=i.querySelector(ou(e)))&&!u._p&&(f.instance=u,f.state.loading=5),In.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},In.set(e,n),u||Yp(i,e,n,f.state))),t&&a===null)throw Error(d(528,""));return f}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cr(n),n=mn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function or(e){return'href="'+Ft(e)+'"'}function ou(e){return'link[rel="stylesheet"]['+e+"]"}function Ch(e){return L({},e,{"data-precedence":e.precedence,precedence:null})}function Yp(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),fn(t,"link",n),Ht(t),e.head.appendChild(t))}function cr(e){return'[src="'+Ft(e)+'"]'}function cu(e){return"script[async]"+e}function Mh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ft(n.href)+'"]');if(a)return t.instance=a,Ht(a),a;var i=L({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ht(a),fn(a,"style",i),xs(a,n.precedence,e),t.instance=a;case"stylesheet":i=or(n.href);var u=e.querySelector(ou(i));if(u)return t.state.loading|=4,t.instance=u,Ht(u),u;a=Ch(n),(i=In.get(i))&&xc(a,i),u=(e.ownerDocument||e).createElement("link"),Ht(u);var f=u;return f._p=new Promise(function(v,E){f.onload=v,f.onerror=E}),fn(u,"link",a),t.state.loading|=4,xs(u,n.precedence,e),t.instance=u;case"script":return u=cr(n.src),(i=e.querySelector(cu(u)))?(t.instance=i,Ht(i),i):(a=n,(i=In.get(u))&&(a=L({},n),Sc(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ht(i),fn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,xs(a,n.precedence,e));return t.instance}function xs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,u=i,f=0;f<a.length;f++){var v=a[f];if(v.dataset.precedence===t)u=v;else if(u!==i)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ss=null;function Ah(e,t,n){if(Ss===null){var a=new Map,i=Ss=new Map;i.set(n,a)}else i=Ss,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var u=n[i];if(!(u[Dn]||u[Nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var v=a.get(f);v?v.push(u):a.set(f,[u])}}return a}function Oh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Xp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gp(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=or(a.href),u=t.querySelector(ou(i));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_s.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Ht(u);return}u=t.ownerDocument||t,a=Ch(a),(i=In.get(i))&&xc(a,i),u=u.createElement("link"),Ht(u);var f=u;f._p=new Promise(function(v,E){f.onload=v,f.onerror=E}),fn(u,"link",a),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=_s.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var _c=0;function Qp(e,t){return e.stylesheets&&e.count===0&&Es(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Es(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&_c===0&&(_c=62500*Tp());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Es(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>_c?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function _s(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Es(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ws=null;function Es(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ws=new Map,t.forEach(Vp,e),ws=null,_s.call(e))}function Vp(e,t){if(!(t.state.loading&4)){var n=ws.get(e);if(n)var a=n.get(null);else{n=new Map,ws.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<i.length;u++){var f=i[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),a=f)}a&&n.set(null,a)}i=t.instance,f=i.getAttribute("data-precedence"),u=n.get(f)||a,u===a&&n.set(null,i),n.set(f,i),this.count++,a=_s.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),u?u.parentNode.insertBefore(i,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var fu={$$typeof:he,Provider:null,Consumer:null,_currentValue:ze,_currentValue2:ze,_threadCount:0};function Zp(e,t,n,a,i,u,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Dh(e,t,n,a,i,u,f,v,E,G,F,le){return e=new Zp(e,t,n,f,E,G,F,le,v),t=1,u===!0&&(t|=24),u=Un(3,null,null,t),e.current=u,u.stateNode=e,t=eo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:n,cache:t},lo(u),e}function Rh(e){return e?(e=jn,e):jn}function kh(e,t,n,a,i,u){i=Rh(i),a.context===null?a.context=i:a.pendingContext=i,a=Sl(t),a.payload={element:n},u=u===void 0?null:u,u!==null&&(a.callback=u),n=_l(e,a,t),n!==null&&(On(n,e,t),Xr(n,e,t))}function Uh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wc(e,t){Uh(e,t),(e=e.alternate)&&Uh(e,t)}function Bh(e){if(e.tag===13||e.tag===31){var t=zt(e,67108864);t!==null&&On(t,e,67108864),wc(e,67108864)}}function Hh(e){if(e.tag===13||e.tag===31){var t=Ln();t=pr(t);var n=zt(e,t);n!==null&&On(n,e,t),wc(e,t)}}var Ts=!0;function Jp(e,t,n,a){var i=$.T;$.T=null;var u=ye.p;try{ye.p=2,Ec(e,t,n,a)}finally{ye.p=u,$.T=i}}function $p(e,t,n,a){var i=$.T;$.T=null;var u=ye.p;try{ye.p=8,Ec(e,t,n,a)}finally{ye.p=u,$.T=i}}function Ec(e,t,n,a){if(Ts){var i=Tc(a);if(i===null)cc(e,t,a,js,n),Kh(e,a);else if(Pp(i,e,t,n,a))a.stopPropagation();else if(Kh(e,a),t&4&&-1<Wp.indexOf(e)){for(;i!==null;){var u=xt(i);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=ta(u.pendingLanes);if(f!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;f;){var E=1<<31-we(f);v.entanglements[1]|=E,f&=~E}wa(u),(mt&6)===0&&(ss=Pt()+500,iu(0))}}break;case 31:case 13:v=zt(u,2),v!==null&&On(v,u,2),cs(),wc(u,2)}if(u=Tc(a),u===null&&cc(e,t,a,js,n),u===i)break;i=u}i!==null&&a.stopPropagation()}else cc(e,t,a,null,n)}}function Tc(e){return e=Ti(e),jc(e)}var js=null;function jc(e){if(js=null,e=ma(e),e!==null){var t=w(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=N(t),e!==null)return e;e=null}else if(n===31){if(e=D(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return js=e,null}function qh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ea()){case sa:return 2;case oa:return 8;case nl:case ql:return 32;case bi:return 268435456;default:return 32}default:return 32}}var Nc=!1,Dl=null,Rl=null,kl=null,du=new Map,hu=new Map,Ul=[],Wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kh(e,t){switch(e){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":du.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(t.pointerId)}}function mu(e,t,n,a,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:u,targetContainers:[i]},t!==null&&(t=xt(t),t!==null&&Bh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Pp(e,t,n,a,i){switch(t){case"focusin":return Dl=mu(Dl,e,t,n,a,i),!0;case"dragenter":return Rl=mu(Rl,e,t,n,a,i),!0;case"mouseover":return kl=mu(kl,e,t,n,a,i),!0;case"pointerover":var u=i.pointerId;return du.set(u,mu(du.get(u)||null,e,t,n,a,i)),!0;case"gotpointercapture":return u=i.pointerId,hu.set(u,mu(hu.get(u)||null,e,t,n,a,i)),!0}return!1}function Lh(e){var t=ma(e.target);if(t!==null){var n=w(t);if(n!==null){if(t=n.tag,t===13){if(t=N(n),t!==null){e.blockedOn=t,Ql(e.priority,function(){Hh(n)});return}}else if(t===31){if(t=D(n),t!==null){e.blockedOn=t,Ql(e.priority,function(){Hh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Gn=a,n.target.dispatchEvent(a),Gn=null}else return t=xt(n),t!==null&&Bh(t),e.blockedOn=n,!1;t.shift()}return!0}function Yh(e,t,n){Ns(e)&&n.delete(t)}function Fp(){Nc=!1,Dl!==null&&Ns(Dl)&&(Dl=null),Rl!==null&&Ns(Rl)&&(Rl=null),kl!==null&&Ns(kl)&&(kl=null),du.forEach(Yh),hu.forEach(Yh)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,Nc||(Nc=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,Fp)))}var Ms=null;function Xh(e){Ms!==e&&(Ms=e,g.unstable_scheduleCallback(g.unstable_NormalPriority,function(){Ms===e&&(Ms=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(jc(a||n)===null)continue;break}var u=xt(n);u!==null&&(e.splice(t,3),t-=3,To(u,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function fr(e){function t(E){return Cs(E,e)}Dl!==null&&Cs(Dl,e),Rl!==null&&Cs(Rl,e),kl!==null&&Cs(kl,e),du.forEach(t),hu.forEach(t);for(var n=0;n<Ul.length;n++){var a=Ul[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ul.length&&(n=Ul[0],n.blockedOn===null);)Lh(n),n.blockedOn===null&&Ul.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],u=n[a+1],f=i[Bt]||null;if(typeof u=="function")f||Xh(n);else if(f){var v=null;if(u&&u.hasAttribute("formAction")){if(i=u,f=u[Bt]||null)v=f.formAction;else if(jc(i)!==null)continue}else v=f.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),Xh(n)}}}function Gh(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return i=f})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Cc(e){this._internalRoot=e}As.prototype.render=Cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Ln();kh(n,a,e,t,null,null)},As.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kh(e.current,2,null,e,null,null),cs(),t[bn]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ul.length&&t!==0&&t<Ul[n].priority;n++);Ul.splice(n,0,e),n===0&&Lh(e)}};var Qh=c.version;if(Qh!=="19.2.3")throw Error(d(527,Qh,"19.2.3"));ye.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=S(t),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var Ip={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{ca=Os.inject(Ip),ln=Os}catch{}}return vu.createRoot=function(e,t){if(!x(e))throw Error(d(299));var n=!1,a="",i=Ff,u=If,f=ed;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Dh(e,1,!1,null,null,n,a,null,i,u,f,Gh),e[bn]=t.current,oc(e),new Cc(t)},vu.hydrateRoot=function(e,t,n){if(!x(e))throw Error(d(299));var a=!1,i="",u=Ff,f=If,v=ed,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(E=n.formState)),t=Dh(e,1,!0,t,n??null,a,i,E,u,f,v,Gh),t.context=Rh(null),n=t.current,a=Ln(),a=pr(a),i=Sl(a),i.callback=null,_l(n,i,a),n=a,t.current.lanes=n,Yn(t,n),wa(t),e[bn]=t.current,oc(e),new As(t)},vu.version="19.2.3",vu}var tm;function cv(){if(tm)return Oc.exports;tm=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(c){console.error(c)}}return g(),Oc.exports=ov(),Oc.exports}var fv=cv();const nm=g=>{let c;const m=new Set,d=(S,R)=>{const L=typeof S=="function"?S(c):S;if(!Object.is(L,c)){const I=c;c=R??(typeof L!="object"||L===null)?L:Object.assign({},c,L),m.forEach(oe=>oe(c,I))}},x=()=>c,D={setState:d,getState:x,getInitialState:()=>C,subscribe:S=>(m.add(S),()=>m.delete(S))},C=c=g(d,x,D);return D},dv=(g=>g?nm(g):nm),hv=g=>g;function mv(g,c=hv){const m=el.useSyncExternalStore(g.subscribe,el.useCallback(()=>c(g.getState()),[g,c]),el.useCallback(()=>c(g.getInitialState()),[g,c]));return el.useDebugValue(m),m}const am=g=>{const c=dv(g),m=d=>mv(c,d);return Object.assign(m,c),m},pv=(g=>g?am(g):am),vv=["Golden hour","Blue hour","Neon lights","Natural daylight","Overcast","Dramatic shadows","Studio lighting","Candlelight","Moonlight","Silhouette"],yv=["Static","Slow zoom in","Slow zoom out","Dolly forward","Dolly back","Pan left","Pan right","Tilt up","Tilt down","Tracking shot","Drone aerial","Handheld","360 orbit"],gv=["Cinematic","35mm film","Music video","Documentary","Anime","VHS retro","Dreamy soft focus","High contrast","Desaturated","Neon cyberpunk","Vintage 70s","Modern clean"],lm=30,zn=[{hero:"#8b5cf6",fill:"#4c2889"},{hero:"#3b82f6",fill:"#1e3a5f"},{hero:"#f97316",fill:"#7c3a0a"},{hero:"#22c55e",fill:"#14532d"},{hero:"#ec4899",fill:"#831843"},{hero:"#eab308",fill:"#713f12"},{hero:"#6366f1",fill:"#312e81"},{hero:"#f8fafc",fill:"#94a3b8"},{hero:"#ef4444",fill:"#7f1d1d"},{hero:"#06b6d4",fill:"#164e63"}],ea=g=>{const c=[...g.segmentsHistory,g.segments.map(m=>({...m}))];return c.length>lm?c.slice(-lm):c},Ce=pv((g,c)=>({videoUrl:null,isPlaying:!1,currentTime:0,duration:0,zoom:10,segments:[],segmentsHistory:[],bpm:0,activeSegmentId:null,toastMessage:null,setVideoUrl:m=>g({videoUrl:m}),setIsPlaying:m=>g({isPlaying:m}),setCurrentTime:m=>g({currentTime:m}),setDuration:m=>g({duration:m}),setZoom:m=>g({zoom:m}),setBpm:m=>g({bpm:m}),cutAtPosition:m=>{const d=c(),{segments:x,duration:w}=d;if(m<.1||m>w-.1)return null;if(x.length===0){const C={id:crypto.randomUUID(),start:0,end:m,note:"",color:zn[0].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate(40),g(S=>({segmentsHistory:ea(S),segments:[C]})),C}const N=x.find(C=>m>C.start+.1&&m<C.end-.1);if(N){const C=x.length%zn.length,S={id:crypto.randomUUID(),start:m,end:N.end,note:"",color:zn[C].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate(40),g(R=>({segmentsHistory:ea(R),segments:R.segments.map(L=>L.id===N.id?{...L,end:m}:L).concat(S).sort((L,I)=>L.start-I.start)})),S}const D=x[x.length-1];if(m>D.end){const C=x.length%zn.length,S={id:crypto.randomUUID(),start:D.end,end:m,note:"",color:zn[C].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate(40),g(R=>({segmentsHistory:ea(R),segments:[...R.segments,S].sort((L,I)=>L.start-I.start)})),S}return null},closeToEnd:()=>{const m=c(),{segments:d,duration:x}=m;if(x<=0)return null;if(d.length===0){const C={id:crypto.randomUUID(),start:0,end:x,note:"",color:zn[0].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate([40,50,40]),g(S=>({segmentsHistory:ea(S),segments:[C]})),C}const w=d[d.length-1];if(w.end>=x-.1)return null;const N=d.length%zn.length,D={id:crypto.randomUUID(),start:w.end,end:x,note:"",color:zn[N].hero,colorName:"",isHero:!0};return navigator.vibrate&&navigator.vibrate([40,50,40]),g(C=>({segmentsHistory:ea(C),segments:[...C.segments,D].sort((S,R)=>S.start-R.start)})),D},addSegment:m=>g(d=>({segmentsHistory:ea(d),segments:[...d.segments,m].sort((x,w)=>x.start-w.start)})),updateSegment:(m,d)=>g(x=>({segmentsHistory:ea(x),segments:x.segments.map(w=>w.id===m?{...w,...d}:w)})),deleteSegment:m=>g(d=>({segmentsHistory:ea(d),segments:d.segments.filter(x=>x.id!==m)})),loadSegments:m=>g(d=>({segmentsHistory:ea(d),segments:m.sort((x,w)=>x.start-w.start)})),clearSegments:()=>g(m=>({segmentsHistory:ea(m),segments:[]})),undo:()=>{const m=c();if(m.segmentsHistory.length===0)return!1;const d=m.segmentsHistory[m.segmentsHistory.length-1];return g({segments:d,segmentsHistory:m.segmentsHistory.slice(0,-1)}),!0},canUndo:()=>c().segmentsHistory.length>0,setActiveSegmentId:m=>g({activeSegmentId:m}),showToast:m=>{g({toastMessage:m}),setTimeout(()=>g({toastMessage:null}),2500)},clearToast:()=>g({toastMessage:null}),getSegmentAtTime:m=>{const{segments:d}=c();return d.find(x=>m>=x.start&&m<x.end)||null},getSegmentNumber:m=>{const{segments:d}=c(),x=d.findIndex(w=>w.id===m);return x>=0?x+1:0},autoSplitByBpm:(m=4)=>{const d=c(),{bpm:x,duration:w}=d;if(x<=0||w<=0)return;const D=60/x*m;if(D<.5)return;const C=[];let S=0,R=0;for(;S<w;){const L=Math.min(S+D,w);if(L-S<.1)break;const I=R%zn.length;C.push({id:crypto.randomUUID(),start:S,end:L,note:"",color:zn[I].hero,colorName:"",isHero:!0}),S=L,R++}g(L=>({segmentsHistory:ea(L),segments:C,toastMessage:`${C.length} Kues generados automticamente`})),setTimeout(()=>g({toastMessage:null}),2e3)},assignLyricsToKues:m=>{const d=c(),{segments:x}=d;if(x.length===0)return;const w=m.split(`
`).map(D=>D.trim()).filter(D=>D.length>0);if(w.length===0)return;const N=x.map((D,C)=>C<w.length?{...D,note:w[C],prompt:{...D.prompt,subject:D.prompt?.subject||"",action:D.prompt?.action||"",lighting:D.prompt?.lighting||"",camera:D.prompt?.camera||"",style:D.prompt?.style||""}}:D);g(D=>({segmentsHistory:ea(D),segments:N,toastMessage:`Lyrics asignados a ${Math.min(x.length,w.length)} Kues`})),setTimeout(()=>g({toastMessage:null}),2e3)}}));var Ds={exports:{}},bv=Ds.exports,im;function xv(){return im||(im=1,(function(g,c){(function(m,d){g.exports=d()})(bv,function(){var m=function(l,r){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])})(l,r)},d=function(){return(d=Object.assign||function(l){for(var r,s=1,o=arguments.length;s<o;s++)for(var h in r=arguments[s])Object.prototype.hasOwnProperty.call(r,h)&&(l[h]=r[h]);return l}).apply(this,arguments)};function x(l,r,s){for(var o,h=0,p=r.length;h<p;h++)!o&&h in r||((o=o||Array.prototype.slice.call(r,0,h))[h]=r[h]);return l.concat(o||Array.prototype.slice.call(r))}var w=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:tv,N=Object.keys,D=Array.isArray;function C(l,r){return typeof r!="object"||N(r).forEach(function(s){l[s]=r[s]}),l}typeof Promise>"u"||w.Promise||(w.Promise=Promise);var S=Object.getPrototypeOf,R={}.hasOwnProperty;function L(l,r){return R.call(l,r)}function I(l,r){typeof r=="function"&&(r=r(S(l))),(typeof Reflect>"u"?N:Reflect.ownKeys)(r).forEach(function(s){P(l,s,r[s])})}var oe=Object.defineProperty;function P(l,r,s,o){oe(l,r,C(s&&L(s,"get")&&typeof s.get=="function"?{get:s.get,set:s.set,configurable:!0}:{value:s,configurable:!0,writable:!0},o))}function J(l){return{from:function(r){return l.prototype=Object.create(r.prototype),P(l.prototype,"constructor",l),{extend:I.bind(null,l.prototype)}}}}var ve=Object.getOwnPropertyDescriptor,ie=[].slice;function je(l,r,s){return ie.call(l,r,s)}function he(l,r){return r(l)}function Ne(l){if(!l)throw new Error("Assertion Failed")}function Ae(l){w.setImmediate?setImmediate(l):setTimeout(l,0)}function ce(l,r){if(typeof r=="string"&&L(l,r))return l[r];if(!r)return l;if(typeof r!="string"){for(var s=[],o=0,h=r.length;o<h;++o){var p=ce(l,r[o]);s.push(p)}return s}var b=r.indexOf(".");if(b!==-1){var _=l[r.substr(0,b)];return _==null?void 0:ce(_,r.substr(b+1))}}function re(l,r,s){if(l&&r!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof r!="string"&&"length"in r){Ne(typeof s!="string"&&"length"in s);for(var o=0,h=r.length;o<h;++o)re(l,r[o],s[o])}else{var p,b,_=r.indexOf(".");_!==-1?(p=r.substr(0,_),(b=r.substr(_+1))===""?s===void 0?D(l)&&!isNaN(parseInt(p))?l.splice(p,1):delete l[p]:l[p]=s:re(_=!(_=l[p])||!L(l,p)?l[p]={}:_,b,s)):s===void 0?D(l)&&!isNaN(parseInt(r))?l.splice(r,1):delete l[r]:l[r]=s}}function Qe(l){var r,s={};for(r in l)L(l,r)&&(s[r]=l[r]);return s}var Re=[].concat;function pt(l){return Re.apply([],l)}var sa="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(pt([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(r){return r+l+"Array"})}))).filter(function(l){return w[l]}),vt=new Set(sa.map(function(l){return w[l]})),st=null;function ot(l){return st=new WeakMap,l=(function r(s){if(!s||typeof s!="object")return s;var o=st.get(s);if(o)return o;if(D(s)){o=[],st.set(s,o);for(var h=0,p=s.length;h<p;++h)o.push(r(s[h]))}else if(vt.has(s.constructor))o=s;else{var b,_=S(s);for(b in o=_===Object.prototype?{}:Object.create(_),st.set(s,o),s)L(s,b)&&(o[b]=r(s[b]))}return o})(l),st=null,l}var Xe={}.toString;function Et(l){return Xe.call(l).slice(8,-1)}var $=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ye=typeof $=="symbol"?function(l){var r;return l!=null&&(r=l[$])&&r.apply(l)}:function(){return null};function ze(l,r){return r=l.indexOf(r),0<=r&&l.splice(r,1),0<=r}var We={};function He(l){var r,s,o,h;if(arguments.length===1){if(D(l))return l.slice();if(this===We&&typeof l=="string")return[l];if(h=ye(l)){for(s=[];!(o=h.next()).done;)s.push(o.value);return s}if(l==null)return[l];if(typeof(r=l.length)!="number")return[l];for(s=new Array(r);r--;)s[r]=l[r];return s}for(r=arguments.length,s=new Array(r);r--;)s[r]=arguments[r];return s}var O=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ea=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Sn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ea),ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function me(l,r){this.name=l,this.message=r}function _e(l,r){return l+". Errors: "+Object.keys(r).map(function(s){return r[s].toString()}).filter(function(s,o,h){return h.indexOf(s)===o}).join(`
`)}function Ke(l,r,s,o){this.failures=r,this.failedKeys=o,this.successCount=s,this.message=_e(l,r)}function Ge(l,r){this.name="BulkError",this.failures=Object.keys(r).map(function(s){return r[s]}),this.failuresByPos=r,this.message=_e(l,this.failures)}J(me).from(Error).extend({toString:function(){return this.name+": "+this.message}}),J(Ke).from(me),J(Ge).from(me);var nt=Sn.reduce(function(l,r){return l[r]=r+"Error",l},{}),$t=me,be=Sn.reduce(function(l,r){var s=r+"Error";function o(h,p){this.name=s,h?typeof h=="string"?(this.message="".concat(h).concat(p?`
 `+p:""),this.inner=p||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=ne[r]||s,this.inner=null)}return J(o).from($t),l[r]=o,l},{});be.Syntax=SyntaxError,be.Type=TypeError,be.Range=RangeError;var ee=Ea.reduce(function(l,r){return l[r+"Error"]=be[r],l},{}),De=Sn.reduce(function(l,r){return["Syntax","Type","Range"].indexOf(r)===-1&&(l[r+"Error"]=be[r]),l},{});function Se(){}function Fe(l){return l}function Ie(l,r){return l==null||l===Fe?r:function(s){return r(l(s))}}function ke(l,r){return function(){l.apply(this,arguments),r.apply(this,arguments)}}function dt(l,r){return l===Se?r:function(){var s=l.apply(this,arguments);s!==void 0&&(arguments[0]=s);var o=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var p=r.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?ke(o,this.onsuccess):o),h&&(this.onerror=this.onerror?ke(h,this.onerror):h),p!==void 0?p:s}}function dn(l,r){return l===Se?r:function(){l.apply(this,arguments);var s=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?ke(s,this.onsuccess):s),o&&(this.onerror=this.onerror?ke(o,this.onerror):o)}}function gn(l,r){return l===Se?r:function(s){var o=l.apply(this,arguments);C(s,o);var h=this.onsuccess,p=this.onerror;return this.onsuccess=null,this.onerror=null,s=r.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?ke(h,this.onsuccess):h),p&&(this.onerror=this.onerror?ke(p,this.onerror):p),o===void 0?s===void 0?void 0:s:C(o,s)}}function ua(l,r){return l===Se?r:function(){return r.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function En(l,r){return l===Se?r:function(){var s=l.apply(this,arguments);if(s&&typeof s.then=="function"){for(var o=this,h=arguments.length,p=new Array(h);h--;)p[h]=arguments[h];return s.then(function(){return r.apply(o,p)})}return r.apply(this,arguments)}}De.ModifyError=Ke,De.DexieError=me,De.BulkError=Ge;var yt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hn(l){yt=l}var an={},Pt=100,sa=typeof Promise>"u"?[]:(function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,S(l),l];var r=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[r,S(r),l]})(),Ea=sa[0],Sn=sa[1],sa=sa[2],Sn=Sn&&Sn.then,oa=Ea&&Ea.constructor,nl=!!sa,ql=function(l,r){Kl.push([l,r]),xi&&(queueMicrotask(bu),xi=!1)},bi=!0,xi=!0,Ta=[],ca=[],ln=Fe,rn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Se,pgp:!1,env:{},finalize:Se},we=rn,Kl=[],ja=0,Si=[];function xe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var r=this._PSD=we;if(typeof l!="function"){if(l!==an)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ta(this,this._value))}this._state=null,this._value=null,++r.ref,(function s(o,h){try{h(function(p){if(o._state===null){if(p===o)throw new TypeError("A promise cannot be resolved with itself.");var b=o._lib&&fa();p&&typeof p.then=="function"?s(o,function(_,j){p instanceof xe?p._then(_,j):p.then(_,j)}):(o._state=!0,o._value=p,Yl(o)),b&&Yn()}},ta.bind(null,o))}catch(p){ta(o,p)}})(this,l)}var al={get:function(){var l=we,r=Ql;function s(o,h){var p=this,b=!l.global&&(l!==we||r!==Ql),_=b&&!bn(),j=new xe(function(M,B){Na(p,new Ll(_i(o,l,b,_),_i(h,l,b,_),M,B,l))});return this._consoleTask&&(j._consoleTask=this._consoleTask),j}return s.prototype=an,s},set:function(l){P(this,"then",l&&l.prototype===an?al:{get:function(){return l},set:al.set})}};function Ll(l,r,s,o,h){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof r=="function"?r:null,this.resolve=s,this.reject=o,this.psd=h}function ta(l,r){var s,o;ca.push(r),l._state===null&&(s=l._lib&&fa(),r=ln(r),l._state=!1,l._value=r,o=l,Ta.some(function(h){return h._value===o._value})||Ta.push(o),Yl(l),s&&Yn())}function Yl(l){var r=l._listeners;l._listeners=[];for(var s=0,o=r.length;s<o;++s)Na(l,r[s]);var h=l._PSD;--h.ref||h.finalize(),ja===0&&(++ja,ql(function(){--ja==0&&mr()},[]))}function Na(l,r){if(l._state!==null){var s=l._state?r.onFulfilled:r.onRejected;if(s===null)return(l._state?r.resolve:r.reject)(l._value);++r.psd.ref,++ja,ql(ks,[s,l,r])}else l._listeners.push(r)}function ks(l,r,s){try{var o,h=r._value;!r._state&&ca.length&&(ca=[]),o=yt&&r._consoleTask?r._consoleTask.run(function(){return l(h)}):l(h),r._state||ca.indexOf(h)!==-1||(function(p){for(var b=Ta.length;b;)if(Ta[--b]._value===p._value)return Ta.splice(b,1)})(r),s.resolve(o)}catch(p){s.reject(p)}finally{--ja==0&&mr(),--s.psd.ref||s.psd.finalize()}}function bu(){Dn(rn,function(){fa()&&Yn()})}function fa(){var l=bi;return xi=bi=!1,l}function Yn(){var l,r,s;do for(;0<Kl.length;)for(l=Kl,Kl=[],s=l.length,r=0;r<s;++r){var o=l[r];o[0].apply(null,o[1])}while(0<Kl.length);xi=bi=!0}function mr(){var l=Ta;Ta=[],l.forEach(function(o){o._PSD.onunhandled.call(null,o._value,o)});for(var r=Si.slice(0),s=r.length;s;)r[--s]()}function Xl(l){return new xe(an,!1,l)}function Tt(l,r){var s=we;return function(){var o=fa(),h=we;try{return ha(s,!0),l.apply(this,arguments)}catch(p){r&&r(p)}finally{ha(h,!1),o&&Yn()}}}I(xe.prototype,{then:al,_then:function(l,r){Na(this,new Ll(null,null,l,r,we))},catch:function(l){if(arguments.length===1)return this.then(null,l);var r=l,s=arguments[1];return typeof r=="function"?this.then(null,function(o){return(o instanceof r?s:Xl)(o)}):this.then(null,function(o){return(o&&o.name===r?s:Xl)(o)})},finally:function(l){return this.then(function(r){return xe.resolve(l()).then(function(){return r})},function(r){return xe.resolve(l()).then(function(){return Xl(r)})})},timeout:function(l,r){var s=this;return l<1/0?new xe(function(o,h){var p=setTimeout(function(){return h(new be.Timeout(r))},l);s.then(o,h).finally(clearTimeout.bind(null,p))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&P(xe.prototype,Symbol.toStringTag,"Dexie.Promise"),rn.env=vr(),I(xe,{all:function(){var l=He.apply(null,arguments).map(il);return new xe(function(r,s){l.length===0&&r([]);var o=l.length;l.forEach(function(h,p){return xe.resolve(h).then(function(b){l[p]=b,--o||r(l)},s)})})},resolve:function(l){return l instanceof xe?l:l&&typeof l.then=="function"?new xe(function(r,s){l.then(r,s)}):new xe(an,!0,l)},reject:Xl,race:function(){var l=He.apply(null,arguments).map(il);return new xe(function(r,s){l.map(function(o){return xe.resolve(o).then(r,s)})})},PSD:{get:function(){return we},set:function(l){return we=l}},totalEchoes:{get:function(){return Ql}},newPSD:Nt,usePSD:Dn,scheduler:{get:function(){return ql},set:function(l){ql=l}},rejectionMapper:{get:function(){return ln},set:function(l){ln=l}},follow:function(l,r){return new xe(function(s,o){return Nt(function(h,p){var b=we;b.unhandleds=[],b.onunhandled=p,b.finalize=ke(function(){var _,j=this;_=function(){j.unhandleds.length===0?h():p(j.unhandleds[0])},Si.push(function M(){_(),Si.splice(Si.indexOf(M),1)}),++ja,ql(function(){--ja==0&&mr()},[])},b.finalize),l()},r,s,o)})}}),oa&&(oa.allSettled&&P(xe,"allSettled",function(){var l=He.apply(null,arguments).map(il);return new xe(function(r){l.length===0&&r([]);var s=l.length,o=new Array(s);l.forEach(function(h,p){return xe.resolve(h).then(function(b){return o[p]={status:"fulfilled",value:b}},function(b){return o[p]={status:"rejected",reason:b}}).then(function(){return--s||r(o)})})})}),oa.any&&typeof AggregateError<"u"&&P(xe,"any",function(){var l=He.apply(null,arguments).map(il);return new xe(function(r,s){l.length===0&&s(new AggregateError([]));var o=l.length,h=new Array(o);l.forEach(function(p,b){return xe.resolve(p).then(function(_){return r(_)},function(_){h[b]=_,--o||s(new AggregateError(h))})})})}),oa.withResolvers&&(xe.withResolvers=oa.withResolvers));var Ut={awaits:0,echoes:0,id:0},pr=0,ll=[],Gl=0,Ql=0,da=0;function Nt(l,r,s,o){var h=we,p=Object.create(h);return p.parent=h,p.ref=0,p.global=!1,p.id=++da,rn.env,p.env=nl?{Promise:xe,PromiseProp:{value:xe,configurable:!0,writable:!0},all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject}:{},r&&C(p,r),++h.ref,p.finalize=function(){--this.parent.ref||this.parent.finalize()},o=Dn(p,l,s,o),p.ref===0&&p.finalize(),o}function Bt(){return Ut.id||(Ut.id=++pr),++Ut.awaits,Ut.echoes+=Pt,Ut.id}function bn(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*Pt,!0)}function il(l){return Ut.echoes&&l&&l.constructor===oa?(Bt(),l.then(function(r){return bn(),r},function(r){return bn(),xt(r)})):l}function Us(){var l=ll[ll.length-1];ll.pop(),ha(l,!1)}function ha(l,r){var s,o=we;(r?!Ut.echoes||Gl++&&l===we:!Gl||--Gl&&l===we)||queueMicrotask(r?(function(h){++Ql,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),ll.push(we),ha(h,!0)}).bind(null,l):Us),l!==we&&(we=l,o===rn&&(rn.env=vr()),nl&&(s=rn.env.Promise,r=l.env,(o.global||l.global)&&(Object.defineProperty(w,"Promise",r.PromiseProp),s.all=r.all,s.race=r.race,s.resolve=r.resolve,s.reject=r.reject,r.allSettled&&(s.allSettled=r.allSettled),r.any&&(s.any=r.any))))}function vr(){var l=w.Promise;return nl?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(w,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Dn(l,r,s,o,h){var p=we;try{return ha(l,!0),r(s,o,h)}finally{ha(p,!1)}}function _i(l,r,s,o){return typeof l!="function"?l:function(){var h=we;s&&Bt(),ha(r,!0);try{return l.apply(this,arguments)}finally{ha(h,!1),o&&queueMicrotask(bn)}}}function ma(l){Promise===oa&&Ut.echoes===0?Gl===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Sn).indexOf("[native code]")===-1&&(Bt=bn=Se);var xt=xe.reject,Rn="",mn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ht="String expected.",Ca=[],Vl="__dbnames",na="readonly",pa="readwrite";function Ma(l,r){return l?r?function(){return l.apply(this,arguments)&&r.apply(this,arguments)}:l:r}var yr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zl(l){return typeof l!="string"||/\./.test(l)?function(r){return r}:function(r){return r[l]===void 0&&l in r&&delete(r=ot(r))[l],r}}function xu(){throw be.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Pe(l,r){try{var s=Jl(l),o=Jl(r);if(s!==o)return s==="Array"?1:o==="Array"?-1:s==="binary"?1:o==="binary"?-1:s==="string"?1:o==="string"?-1:s==="Date"?1:o!=="Date"?NaN:-1;switch(s){case"number":case"Date":case"string":return r<l?1:l<r?-1:0;case"binary":return(function(h,p){for(var b=h.length,_=p.length,j=b<_?b:_,M=0;M<j;++M)if(h[M]!==p[M])return h[M]<p[M]?-1:1;return b===_?0:b<_?-1:1})(Xn(l),Xn(r));case"Array":return(function(h,p){for(var b=h.length,_=p.length,j=b<_?b:_,M=0;M<j;++M){var B=Pe(h[M],p[M]);if(B!==0)return B}return b===_?0:b<_?-1:1})(l,r)}}catch{}return NaN}function Jl(l){var r=typeof l;return r!="object"?r:ArrayBuffer.isView(l)?"binary":(l=Et(l),l==="ArrayBuffer"?"binary":l)}function Xn(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function un(l,r,s){var o=l.schema.yProps;return o?(r&&0<s.numFailures&&(r=r.filter(function(h,p){return!s.failures[p]})),Promise.all(o.map(function(h){return h=h.updatesTable,r?l.db.table(h).where("k").anyOf(r).delete():l.db.table(h).clear()})).then(function(){return s})):s}var rl=(Su.prototype.execute=function(l){var r=this["@@propmod"];if(r.add!==void 0){var s=r.add;if(D(s))return x(x([],D(l)?l:[],!0),s).sort();if(typeof s=="number")return(Number(l)||0)+s;if(typeof s=="bigint")try{return BigInt(l)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(r.remove!==void 0){var o=r.remove;if(D(o))return D(l)?l.filter(function(h){return!o.includes(h)}).sort():[];if(typeof o=="number")return Number(l)-o;if(typeof o=="bigint")try{return BigInt(l)-o}catch{return BigInt(0)-o}throw new TypeError("Invalid subtrahend ".concat(o))}return s=(s=r.replacePrefix)===null||s===void 0?void 0:s[0],s&&typeof l=="string"&&l.startsWith(s)?r.replacePrefix[1]+l.substring(s.length):l},Su);function Su(l){this["@@propmod"]=l}function wi(l,r){for(var s=N(r),o=s.length,h=!1,p=0;p<o;++p){var b=s[p],_=r[b],j=ce(l,b);_ instanceof rl?(re(l,b,_.execute(j)),h=!0):j!==_&&(re(l,b,_),h=!0)}return h}var gr=(ht.prototype._trans=function(l,r,s){var o=this._tx||we.trans,h=this.name,p=yt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function b(M,B,T){if(!T.schema[h])throw new be.NotFound("Table "+h+" not part of transaction");return r(T.idbtrans,T)}var _=fa();try{var j=o&&o.db._novip===this.db._novip?o===we.trans?o._promise(l,b,s):Nt(function(){return o._promise(l,b,s)},{trans:o,transless:we.transless||we}):(function M(B,T,q,A){if(B.idbdb&&(B._state.openComplete||we.letThrough||B._vip)){var k=B._createTransaction(T,q,B._dbSchema);try{k.create(),B._state.PR1398_maxLoop=3}catch(U){return U.name===nt.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return M(B,T,q,A)})):xt(U)}return k._promise(T,function(U,H){return Nt(function(){return we.trans=k,A(U,H,k)})}).then(function(U){if(T==="readwrite")try{k.idbtrans.commit()}catch{}return T==="readonly"?U:k._completion.then(function(){return U})})}if(B._state.openComplete)return xt(new be.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return xt(new be.DatabaseClosed);B.open().catch(Se)}return B._state.dbReadyPromise.then(function(){return M(B,T,q,A)})})(this.db,l,[this.name],b);return p&&(j._consoleTask=p,j=j.catch(function(M){return console.trace(M),xt(M)})),j}finally{_&&Yn()}},ht.prototype.get=function(l,r){var s=this;return l&&l.constructor===Object?this.where(l).first(r):l==null?xt(new be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(o){return s.core.get({trans:o,key:l}).then(function(h){return s.hook.reading.fire(h)})}).then(r)},ht.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(D(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var r=N(l);if(r.length===1)return this.where(r[0]).equals(l[r[0]]);var s=this.schema.indexes.concat(this.schema.primKey).filter(function(_){if(_.compound&&r.every(function(M){return 0<=_.keyPath.indexOf(M)})){for(var j=0;j<r.length;++j)if(r.indexOf(_.keyPath[j])===-1)return!1;return!0}return!1}).sort(function(_,j){return _.keyPath.length-j.keyPath.length})[0];if(s&&this.db._maxKey!==Rn){var p=s.keyPath.slice(0,r.length);return this.where(p).equals(p.map(function(j){return l[j]}))}!s&&yt&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(r.join("+"),"]"));var o=this.schema.idxByName;function h(_,j){return Pe(_,j)===0}var b=r.reduce(function(T,j){var M=T[0],B=T[1],T=o[j],q=l[j];return[M||T,M||!T?Ma(B,T&&T.multi?function(A){return A=ce(A,j),D(A)&&A.some(function(k){return h(q,k)})}:function(A){return h(q,ce(A,j))}):B]},[null,null]),p=b[0],b=b[1];return p?this.where(p.name).equals(l[p.keyPath]).filter(b):s?this.filter(b):this.where(r).equals("")},ht.prototype.filter=function(l){return this.toCollection().and(l)},ht.prototype.count=function(l){return this.toCollection().count(l)},ht.prototype.offset=function(l){return this.toCollection().offset(l)},ht.prototype.limit=function(l){return this.toCollection().limit(l)},ht.prototype.each=function(l){return this.toCollection().each(l)},ht.prototype.toArray=function(l){return this.toCollection().toArray(l)},ht.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ht.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,D(l)?"[".concat(l.join("+"),"]"):l))},ht.prototype.reverse=function(){return this.toCollection().reverse()},ht.prototype.mapToClass=function(l){var r,s=this.db,o=this.name;function h(){return r!==null&&r.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof xu&&((function(j,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function B(){this.constructor=j}m(j,M),j.prototype=M===null?Object.create(M):(B.prototype=M.prototype,new B)})(h,r=l),Object.defineProperty(h.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),h.prototype.table=function(){return o},l=h);for(var p=new Set,b=l.prototype;b;b=S(b))Object.getOwnPropertyNames(b).forEach(function(j){return p.add(j)});function _(j){if(!j)return j;var M,B=Object.create(l.prototype);for(M in j)if(!p.has(M))try{B[M]=j[M]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_,this.hook("reading",_),l},ht.prototype.defineClass=function(){return this.mapToClass(function(l){C(this,l)})},ht.prototype.add=function(l,r){var s=this,o=this.schema.primKey,h=o.auto,p=o.keyPath,b=l;return p&&h&&(b=Zl(p)(l)),this._trans("readwrite",function(_){return s.core.mutate({trans:_,type:"add",keys:r!=null?[r]:null,values:[b]})}).then(function(_){return _.numFailures?xe.reject(_.failures[0]):_.lastResult}).then(function(_){if(p)try{re(l,p,_)}catch{}return _})},ht.prototype.upsert=function(l,r){var s=this,o=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return s.core.get({trans:h,key:l}).then(function(p){var b=p??{};return wi(b,r),o&&re(b,o,l),s.core.mutate({trans:h,type:"put",values:[b],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[r]}}).then(function(_){return _.numFailures?xe.reject(_.failures[0]):!!p})})})},ht.prototype.update=function(l,r){return typeof l!="object"||D(l)?this.where(":id").equals(l).modify(r):(l=ce(l,this.schema.primKey.keyPath),l===void 0?xt(new be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(r))},ht.prototype.put=function(l,r){var s=this,o=this.schema.primKey,h=o.auto,p=o.keyPath,b=l;return p&&h&&(b=Zl(p)(l)),this._trans("readwrite",function(_){return s.core.mutate({trans:_,type:"put",values:[b],keys:r!=null?[r]:null})}).then(function(_){return _.numFailures?xe.reject(_.failures[0]):_.lastResult}).then(function(_){if(p)try{re(l,p,_)}catch{}return _})},ht.prototype.delete=function(l){var r=this;return this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"delete",keys:[l]}).then(function(o){return un(r,[l],o)}).then(function(o){return o.numFailures?xe.reject(o.failures[0]):void 0})})},ht.prototype.clear=function(){var l=this;return this._trans("readwrite",function(r){return l.core.mutate({trans:r,type:"deleteRange",range:yr}).then(function(s){return un(l,null,s)})}).then(function(r){return r.numFailures?xe.reject(r.failures[0]):void 0})},ht.prototype.bulkGet=function(l){var r=this;return this._trans("readonly",function(s){return r.core.getMany({keys:l,trans:s}).then(function(o){return o.map(function(h){return r.hook.reading.fire(h)})})})},ht.prototype.bulkAdd=function(l,r,s){var o=this,h=Array.isArray(r)?r:void 0,p=(s=s||(h?void 0:r))?s.allKeys:void 0;return this._trans("readwrite",function(b){var M=o.schema.primKey,_=M.auto,M=M.keyPath;if(M&&h)throw new be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==l.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var j=l.length,M=M&&_?l.map(Zl(M)):l;return o.core.mutate({trans:b,type:"add",keys:h,values:M,wantResults:p}).then(function(k){var T=k.numFailures,q=k.results,A=k.lastResult,k=k.failures;if(T===0)return p?q:A;throw new Ge("".concat(o.name,".bulkAdd(): ").concat(T," of ").concat(j," operations failed"),k)})})},ht.prototype.bulkPut=function(l,r,s){var o=this,h=Array.isArray(r)?r:void 0,p=(s=s||(h?void 0:r))?s.allKeys:void 0;return this._trans("readwrite",function(b){var M=o.schema.primKey,_=M.auto,M=M.keyPath;if(M&&h)throw new be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==l.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var j=l.length,M=M&&_?l.map(Zl(M)):l;return o.core.mutate({trans:b,type:"put",keys:h,values:M,wantResults:p}).then(function(k){var T=k.numFailures,q=k.results,A=k.lastResult,k=k.failures;if(T===0)return p?q:A;throw new Ge("".concat(o.name,".bulkPut(): ").concat(T," of ").concat(j," operations failed"),k)})})},ht.prototype.bulkUpdate=function(l){var r=this,s=this.core,o=l.map(function(b){return b.key}),h=l.map(function(b){return b.changes}),p=[];return this._trans("readwrite",function(b){return s.getMany({trans:b,keys:o,cache:"clone"}).then(function(_){var j=[],M=[];l.forEach(function(T,q){var A=T.key,k=T.changes,U=_[q];if(U){for(var H=0,Y=Object.keys(k);H<Y.length;H++){var Q=Y[H],W=k[Q];if(Q===r.schema.primKey.keyPath){if(Pe(W,A)!==0)throw new be.Constraint("Cannot update primary key in bulkUpdate()")}else re(U,Q,W)}p.push(q),j.push(A),M.push(U)}});var B=j.length;return s.mutate({trans:b,type:"put",keys:j,values:M,updates:{keys:o,changeSpecs:h}}).then(function(T){var q=T.numFailures,A=T.failures;if(q===0)return B;for(var k=0,U=Object.keys(A);k<U.length;k++){var H,Y=U[k],Q=p[Number(Y)];Q!=null&&(H=A[Y],delete A[Y],A[Q]=H)}throw new Ge("".concat(r.name,".bulkUpdate(): ").concat(q," of ").concat(B," operations failed"),A)})})})},ht.prototype.bulkDelete=function(l){var r=this,s=l.length;return this._trans("readwrite",function(o){return r.core.mutate({trans:o,type:"delete",keys:l}).then(function(h){return un(r,l,h)})}).then(function(b){var h=b.numFailures,p=b.lastResult,b=b.failures;if(h===0)return p;throw new Ge("".concat(r.name,".bulkDelete(): ").concat(h," of ").concat(s," operations failed"),b)})},ht);function ht(){}function $l(l){function r(b,_){if(_){for(var j=arguments.length,M=new Array(j-1);--j;)M[j-1]=arguments[j];return s[b].subscribe.apply(null,M),l}if(typeof b=="string")return s[b]}var s={};r.addEventType=p;for(var o=1,h=arguments.length;o<h;++o)p(arguments[o]);return r;function p(b,_,j){if(typeof b!="object"){var M;_=_||ua;var B={subscribers:[],fire:j=j||Se,subscribe:function(T){B.subscribers.indexOf(T)===-1&&(B.subscribers.push(T),B.fire=_(B.fire,T))},unsubscribe:function(T){B.subscribers=B.subscribers.filter(function(q){return q!==T}),B.fire=B.subscribers.reduce(_,j)}};return s[b]=r[b]=B}N(M=b).forEach(function(T){var q=M[T];if(D(q))p(T,M[T][0],M[T][1]);else{if(q!=="asap")throw new be.InvalidArgument("Invalid event config");var A=p(T,Fe,function(){for(var k=arguments.length,U=new Array(k);k--;)U[k]=arguments[k];A.subscribers.forEach(function(H){Ae(function(){H.apply(null,U)})})})}})}}function Ft(l,r){return J(r).from({prototype:l}),r}function va(l,r){return!(l.filter||l.algorithm||l.or)&&(r?l.justLimit:!l.replayFilter)}function Ei(l,r){l.filter=Ma(l.filter,r)}function Wl(l,r,s){var o=l.replayFilter;l.replayFilter=o?function(){return Ma(o(),r())}:r,l.justLimit=s&&!o}function aa(l,r){if(l.isPrimKey)return r.primaryKey;var s=r.getIndexByKeyPath(l.index);if(!s)throw new be.Schema("KeyPath "+l.index+" on object store "+r.name+" is not indexed");return s}function br(l,r,s){var o=aa(l,r.schema);return r.openCursor({trans:s,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:o,range:l.range}})}function Pl(l,r,s,o){var h=l.replayFilter?Ma(l.filter,l.replayFilter()):l.filter;if(l.or){var p={},b=function(_,j,M){var B,T;h&&!h(j,M,function(q){return j.stop(q)},function(q){return j.fail(q)})||((T=""+(B=j.primaryKey))=="[object ArrayBuffer]"&&(T=""+new Uint8Array(B)),L(p,T)||(p[T]=!0,r(_,j,M)))};return Promise.all([l.or._iterate(b,s),Aa(br(l,o,s),l.algorithm,b,!l.keysOnly&&l.valueMapper)])}return Aa(br(l,o,s),Ma(l.algorithm,h),r,!l.keysOnly&&l.valueMapper)}function Aa(l,r,s,o){var h=Tt(o?function(p,b,_){return s(o(p),b,_)}:s);return l.then(function(p){if(p)return p.start(function(){var b=function(){return p.continue()};r&&!r(p,function(_){return b=_},function(_){p.stop(_),b=Se},function(_){p.fail(_),b=Se})||h(p.value,p,function(_){return b=_}),b()})})}var Bs=(rt.prototype._read=function(l,r){var s=this._ctx;return s.error?s.table._trans(null,xt.bind(null,s.error)):s.table._trans("readonly",l).then(r)},rt.prototype._write=function(l){var r=this._ctx;return r.error?r.table._trans(null,xt.bind(null,r.error)):r.table._trans("readwrite",l,"locked")},rt.prototype._addAlgorithm=function(l){var r=this._ctx;r.algorithm=Ma(r.algorithm,l)},rt.prototype._iterate=function(l,r){return Pl(this._ctx,l,r,this._ctx.table.core)},rt.prototype.clone=function(l){var r=Object.create(this.constructor.prototype),s=Object.create(this._ctx);return l&&C(s,l),r._ctx=s,r},rt.prototype.raw=function(){return this._ctx.valueMapper=null,this},rt.prototype.each=function(l){var r=this._ctx;return this._read(function(s){return Pl(r,l,s,r.table.core)})},rt.prototype.count=function(l){var r=this;return this._read(function(s){var o=r._ctx,h=o.table.core;if(va(o,!0))return h.count({trans:s,query:{index:aa(o,h.schema),range:o.range}}).then(function(b){return Math.min(b,o.limit)});var p=0;return Pl(o,function(){return++p,!1},s,h).then(function(){return p})}).then(l)},rt.prototype.sortBy=function(l,r){var s=l.split(".").reverse(),o=s[0],h=s.length-1;function p(j,M){return M?p(j[s[M]],M-1):j[o]}var b=this._ctx.dir==="next"?1:-1;function _(j,M){return Pe(p(j,h),p(M,h))*b}return this.toArray(function(j){return j.sort(_)}).then(r)},rt.prototype.toArray=function(l){var r=this;return this._read(function(s){var o=r._ctx;if(o.dir==="next"&&va(o,!0)&&0<o.limit){var h=o.valueMapper,p=aa(o,o.table.core.schema);return o.table.core.query({trans:s,limit:o.limit,values:!0,query:{index:p,range:o.range}}).then(function(_){return _=_.result,h?_.map(h):_})}var b=[];return Pl(o,function(_){return b.push(_)},s,o.table.core).then(function(){return b})},l)},rt.prototype.offset=function(l){var r=this._ctx;return l<=0||(r.offset+=l,va(r)?Wl(r,function(){var s=l;return function(o,h){return s===0||(s===1?--s:h(function(){o.advance(s),s=0}),!1)}}):Wl(r,function(){var s=l;return function(){return--s<0}})),this},rt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),Wl(this._ctx,function(){var r=l;return function(s,o,h){return--r<=0&&o(h),0<=r}},!0),this},rt.prototype.until=function(l,r){return Ei(this._ctx,function(s,o,h){return!l(s.value)||(o(h),r)}),this},rt.prototype.first=function(l){return this.limit(1).toArray(function(r){return r[0]}).then(l)},rt.prototype.last=function(l){return this.reverse().first(l)},rt.prototype.filter=function(l){var r;return Ei(this._ctx,function(s){return l(s.value)}),(r=this._ctx).isMatch=Ma(r.isMatch,l),this},rt.prototype.and=function(l){return this.filter(l)},rt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},rt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},rt.prototype.desc=function(){return this.reverse()},rt.prototype.eachKey=function(l){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(s,o){l(o.key,o)})},rt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},rt.prototype.eachPrimaryKey=function(l){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(s,o){l(o.primaryKey,o)})},rt.prototype.keys=function(l){var r=this._ctx;r.keysOnly=!r.isMatch;var s=[];return this.each(function(o,h){s.push(h.key)}).then(function(){return s}).then(l)},rt.prototype.primaryKeys=function(l){var r=this._ctx;if(r.dir==="next"&&va(r,!0)&&0<r.limit)return this._read(function(o){var h=aa(r,r.table.core.schema);return r.table.core.query({trans:o,values:!1,limit:r.limit,query:{index:h,range:r.range}})}).then(function(o){return o.result}).then(l);r.keysOnly=!r.isMatch;var s=[];return this.each(function(o,h){s.push(h.primaryKey)}).then(function(){return s}).then(l)},rt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},rt.prototype.firstKey=function(l){return this.limit(1).keys(function(r){return r[0]}).then(l)},rt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},rt.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var r={};return Ei(this._ctx,function(h){var o=h.primaryKey.toString(),h=L(r,o);return r[o]=!0,!h}),this},rt.prototype.modify=function(l){var r=this,s=this._ctx;return this._write(function(o){var h=typeof l=="function"?l:function(U){return wi(U,l)},p=s.table.core,M=p.schema.primaryKey,b=M.outbound,_=M.extractKey,j=200,M=r.db._options.modifyChunkSize;M&&(j=typeof M=="object"?M[p.name]||M["*"]||200:M);function B(U,Q){var Y=Q.failures,Q=Q.numFailures;q+=U-Q;for(var W=0,ae=N(Y);W<ae.length;W++){var fe=ae[W];T.push(Y[fe])}}var T=[],q=0,A=[],k=l===xr;return r.clone().primaryKeys().then(function(U){function H(Q){var W=Math.min(j,U.length-Q),ae=U.slice(Q,Q+W);return(k?Promise.resolve([]):p.getMany({trans:o,keys:ae,cache:"immutable"})).then(function(fe){var ge=[],ue=[],de=b?[]:null,pe=k?ae:[];if(!k)for(var se=0;se<W;++se){var Ee=fe[se],Ue={value:ot(Ee),primKey:U[Q+se]};h.call(Ue,Ue.value,Ue)!==!1&&(Ue.value==null?pe.push(U[Q+se]):b||Pe(_(Ee),_(Ue.value))===0?(ue.push(Ue.value),b&&de.push(U[Q+se])):(pe.push(U[Q+se]),ge.push(Ue.value)))}return Promise.resolve(0<ge.length&&p.mutate({trans:o,type:"add",values:ge}).then(function(Ye){for(var Ze in Ye.failures)pe.splice(parseInt(Ze),1);B(ge.length,Ye)})).then(function(){return(0<ue.length||Y&&typeof l=="object")&&p.mutate({trans:o,type:"put",keys:de,values:ue,criteria:Y,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<Q}).then(function(Ye){return B(ue.length,Ye)})}).then(function(){return(0<pe.length||Y&&k)&&p.mutate({trans:o,type:"delete",keys:pe,criteria:Y,isAdditionalChunk:0<Q}).then(function(Ye){return un(s.table,pe,Ye)}).then(function(Ye){return B(pe.length,Ye)})}).then(function(){return U.length>Q+W&&H(Q+j)})})}var Y=va(s)&&s.limit===1/0&&(typeof l!="function"||k)&&{index:s.index,range:s.range};return H(0).then(function(){if(0<T.length)throw new Ke("Error modifying one or more objects",T,q,A);return U.length})})})},rt.prototype.delete=function(){var l=this._ctx,r=l.range;return!va(l)||l.table.schema.yProps||!l.isPrimKey&&r.type!==3?this.modify(xr):this._write(function(s){var o=l.table.core.schema.primaryKey,h=r;return l.table.core.count({trans:s,query:{index:o,range:h}}).then(function(p){return l.table.core.mutate({trans:s,type:"deleteRange",range:h}).then(function(j){var _=j.failures,j=j.numFailures;if(j)throw new Ke("Could not delete some values",Object.keys(_).map(function(M){return _[M]}),p-j);return p-j})})})},rt);function rt(){}var xr=function(l,r){return r.value=null};function Sr(l,r){return l<r?-1:l===r?0:1}function Hs(l,r){return r<l?-1:l===r?0:1}function xn(l,r,s){return l=l instanceof Oa?new l.Collection(l):l,l._ctx.error=new(s||TypeError)(r),l}function la(l){return new l.Collection(l,function(){return Ti("")}).limit(0)}function Tn(l,r,s,o){var h,p,b,_,j,M,B,T=s.length;if(!s.every(function(k){return typeof k=="string"}))return xn(l,Ht);function q(k){h=k==="next"?function(H){return H.toUpperCase()}:function(H){return H.toLowerCase()},p=k==="next"?function(H){return H.toLowerCase()}:function(H){return H.toUpperCase()},b=k==="next"?Sr:Hs;var U=s.map(function(H){return{lower:p(H),upper:h(H)}}).sort(function(H,Y){return b(H.lower,Y.lower)});_=U.map(function(H){return H.upper}),j=U.map(function(H){return H.lower}),B=(M=k)==="next"?"":o}q("next"),l=new l.Collection(l,function(){return Gn(_[0],j[T-1]+o)}),l._ondirectionchange=function(k){q(k)};var A=0;return l._addAlgorithm(function(k,U,H){var Y=k.key;if(typeof Y!="string")return!1;var Q=p(Y);if(r(Q,j,A))return!0;for(var W=null,ae=A;ae<T;++ae){var fe=(function(ge,ue,de,pe,se,Ee){for(var Ue=Math.min(ge.length,pe.length),Ye=-1,Ze=0;Ze<Ue;++Ze){var tn=ue[Ze];if(tn!==pe[Ze])return se(ge[Ze],de[Ze])<0?ge.substr(0,Ze)+de[Ze]+de.substr(Ze+1):se(ge[Ze],pe[Ze])<0?ge.substr(0,Ze)+pe[Ze]+de.substr(Ze+1):0<=Ye?ge.substr(0,Ye)+ue[Ye]+de.substr(Ye+1):null;se(ge[Ze],tn)<0&&(Ye=Ze)}return Ue<pe.length&&Ee==="next"?ge+de.substr(ge.length):Ue<ge.length&&Ee==="prev"?ge.substr(0,de.length):Ye<0?null:ge.substr(0,Ye)+pe[Ye]+de.substr(Ye+1)})(Y,Q,_[ae],j[ae],b,M);fe===null&&W===null?A=ae+1:(W===null||0<b(W,fe))&&(W=fe)}return U(W!==null?function(){k.continue(W+B)}:H),!1}),l}function Gn(l,r,s,o){return{type:2,lower:l,upper:r,lowerOpen:s,upperOpen:o}}function Ti(l){return{type:1,lower:l,upper:l}}var Oa=(Object.defineProperty(Ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ct.prototype.between=function(l,r,s,o){s=s!==!1,o=o===!0;try{return 0<this._cmp(l,r)||this._cmp(l,r)===0&&(s||o)&&(!s||!o)?la(this):new this.Collection(this,function(){return Gn(l,r,!s,!o)})}catch{return xn(this,mn)}},Ct.prototype.equals=function(l){return l==null?xn(this,mn):new this.Collection(this,function(){return Ti(l)})},Ct.prototype.above=function(l){return l==null?xn(this,mn):new this.Collection(this,function(){return Gn(l,void 0,!0)})},Ct.prototype.aboveOrEqual=function(l){return l==null?xn(this,mn):new this.Collection(this,function(){return Gn(l,void 0,!1)})},Ct.prototype.below=function(l){return l==null?xn(this,mn):new this.Collection(this,function(){return Gn(void 0,l,!1,!0)})},Ct.prototype.belowOrEqual=function(l){return l==null?xn(this,mn):new this.Collection(this,function(){return Gn(void 0,l)})},Ct.prototype.startsWith=function(l){return typeof l!="string"?xn(this,Ht):this.between(l,l+Rn,!0,!0)},Ct.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Tn(this,function(r,s){return r.indexOf(s[0])===0},[l],Rn)},Ct.prototype.equalsIgnoreCase=function(l){return Tn(this,function(r,s){return r===s[0]},[l],"")},Ct.prototype.anyOfIgnoreCase=function(){var l=He.apply(We,arguments);return l.length===0?la(this):Tn(this,function(r,s){return s.indexOf(r)!==-1},l,"")},Ct.prototype.startsWithAnyOfIgnoreCase=function(){var l=He.apply(We,arguments);return l.length===0?la(this):Tn(this,function(r,s){return s.some(function(o){return r.indexOf(o)===0})},l,Rn)},Ct.prototype.anyOf=function(){var l=this,r=He.apply(We,arguments),s=this._cmp;try{r.sort(s)}catch{return xn(this,mn)}if(r.length===0)return la(this);var o=new this.Collection(this,function(){return Gn(r[0],r[r.length-1])});o._ondirectionchange=function(p){s=p==="next"?l._ascending:l._descending,r.sort(s)};var h=0;return o._addAlgorithm(function(p,b,_){for(var j=p.key;0<s(j,r[h]);)if(++h===r.length)return b(_),!1;return s(j,r[h])===0||(b(function(){p.continue(r[h])}),!1)}),o},Ct.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ct.prototype.noneOf=function(){var l=He.apply(We,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return xn(this,mn)}var r=l.reduce(function(s,o){return s?s.concat([[s[s.length-1][1],o]]):[[-1/0,o]]},null);return r.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},Ct.prototype.inAnyRange=function(Y,r){var s=this,o=this._cmp,h=this._ascending,p=this._descending,b=this._min,_=this._max;if(Y.length===0)return la(this);if(!Y.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&h(Q[0],Q[1])<=0}))return xn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",be.InvalidArgument);var j=!r||r.includeLowers!==!1,M=r&&r.includeUppers===!0,B,T=h;function q(Q,W){return T(Q[0],W[0])}try{(B=Y.reduce(function(Q,W){for(var ae=0,fe=Q.length;ae<fe;++ae){var ge=Q[ae];if(o(W[0],ge[1])<0&&0<o(W[1],ge[0])){ge[0]=b(ge[0],W[0]),ge[1]=_(ge[1],W[1]);break}}return ae===fe&&Q.push(W),Q},[])).sort(q)}catch{return xn(this,mn)}var A=0,k=M?function(Q){return 0<h(Q,B[A][1])}:function(Q){return 0<=h(Q,B[A][1])},U=j?function(Q){return 0<p(Q,B[A][0])}:function(Q){return 0<=p(Q,B[A][0])},H=k,Y=new this.Collection(this,function(){return Gn(B[0][0],B[B.length-1][1],!j,!M)});return Y._ondirectionchange=function(Q){T=Q==="next"?(H=k,h):(H=U,p),B.sort(q)},Y._addAlgorithm(function(Q,W,ae){for(var fe,ge=Q.key;H(ge);)if(++A===B.length)return W(ae),!1;return!k(fe=ge)&&!U(fe)||(s._cmp(ge,B[A][1])===0||s._cmp(ge,B[A][0])===0||W(function(){T===h?Q.continue(B[A][0]):Q.continue(B[A][1])}),!1)}),Y},Ct.prototype.startsWithAnyOf=function(){var l=He.apply(We,arguments);return l.every(function(r){return typeof r=="string"})?l.length===0?la(this):this.inAnyRange(l.map(function(r){return[r,r+Rn]})):xn(this,"startsWithAnyOf() only works with strings")},Ct);function Ct(){}function kn(l){return Tt(function(r){return za(r),l(r.target.error),!1})}function za(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var ul="storagemutated",Da="x-storagemutated-1",It=$l(null,ul),_r=(pn.prototype._lock=function(){return Ne(!we.global),++this._reculock,this._reculock!==1||we.global||(we.lockOwnerFor=this),this},pn.prototype._unlock=function(){if(Ne(!we.global),--this._reculock==0)for(we.global||(we.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Dn(l[1],l[0])}catch{}}return this},pn.prototype._locked=function(){return this._reculock&&we.lockOwnerFor!==this},pn.prototype.create=function(l){var r=this;if(!this.mode)return this;var s=this.db.idbdb,o=this.db._state.dbOpenError;if(Ne(!this.idbtrans),!l&&!s)switch(o&&o.name){case"DatabaseClosedError":throw new be.DatabaseClosed(o);case"MissingAPIError":throw new be.MissingAPI(o.message,o);default:throw new be.OpenFailed(o)}if(!this.active)throw new be.TransactionInactive;return Ne(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||s).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Tt(function(h){za(h),r._reject(l.error)}),l.onabort=Tt(function(h){za(h),r.active&&r._reject(new be.Abort(l.error)),r.active=!1,r.on("abort").fire(h)}),l.oncomplete=Tt(function(){r.active=!1,r._resolve(),"mutatedParts"in l&&It.storagemutated.fire(l.mutatedParts)}),this},pn.prototype._promise=function(l,r,s){var o=this;if(l==="readwrite"&&this.mode!=="readwrite")return xt(new be.ReadOnly("Transaction is readonly"));if(!this.active)return xt(new be.TransactionInactive);if(this._locked())return new xe(function(p,b){o._blockedFuncs.push([function(){o._promise(l,r,s).then(p,b)},we])});if(s)return Nt(function(){var p=new xe(function(b,_){o._lock();var j=r(b,_,o);j&&j.then&&j.then(b,_)});return p.finally(function(){return o._unlock()}),p._lib=!0,p});var h=new xe(function(p,b){var _=r(p,b,o);_&&_.then&&_.then(p,b)});return h._lib=!0,h},pn.prototype._root=function(){return this.parent?this.parent._root():this},pn.prototype.waitFor=function(l){var r,s=this._root(),o=xe.resolve(l);s._waitingFor?s._waitingFor=s._waitingFor.then(function(){return o}):(s._waitingFor=o,s._waitingQueue=[],r=s.idbtrans.objectStore(s.storeNames[0]),(function p(){for(++s._spinCount;s._waitingQueue.length;)s._waitingQueue.shift()();s._waitingFor&&(r.get(-1/0).onsuccess=p)})());var h=s._waitingFor;return new xe(function(p,b){o.then(function(_){return s._waitingQueue.push(Tt(p.bind(null,_)))},function(_){return s._waitingQueue.push(Tt(b.bind(null,_)))}).finally(function(){s._waitingFor===h&&(s._waitingFor=null)})})},pn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new be.Abort))},pn.prototype.table=function(l){var r=this._memoizedTables||(this._memoizedTables={});if(L(r,l))return r[l];var s=this.schema[l];if(!s)throw new be.NotFound("Table "+l+" not part of transaction");return s=new this.db.Table(l,s,this),s.core=this.db.core.table(l),r[l]=s},pn);function pn(){}function Qn(l,r,s,o,h,p,b,_){return{name:l,keyPath:r,unique:s,multi:o,auto:h,compound:p,src:(s&&!b?"&":"")+(o?"*":"")+(h?"++":"")+ji(r),type:_}}function ji(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function sl(l,r,s){return{name:l,primKey:r,indexes:s,mappedClass:null,idxByName:(o=function(h){return[h.name,h]},s.reduce(function(h,p,b){return b=o(p,b),b&&(h[b[0]]=b[1]),h},{}))};var o}var ol=function(l){try{return l.only([[]]),ol=function(){return[[]]},[[]]}catch{return ol=function(){return Rn},Rn}};function cl(l){return l==null?function(){}:typeof l=="string"?(r=l).split(".").length===1?function(s){return s[r]}:function(s){return ce(s,r)}:function(s){return ce(s,l)};var r}function Fl(l){return[].slice.call(l)}var _u=0;function Yt(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Ra(l,r,j){function o(H){if(H.type===3)return null;if(H.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var A=H.lower,k=H.upper,U=H.lowerOpen,H=H.upperOpen;return A===void 0?k===void 0?null:r.upperBound(k,!!H):k===void 0?r.lowerBound(A,!!U):r.bound(A,k,!!U,!!H)}function h(q){var A,k=q.name;return{name:k,schema:q,mutate:function(U){var H=U.trans,Y=U.type,Q=U.keys,W=U.values,ae=U.range;return new Promise(function(fe,ge){fe=Tt(fe);var ue=H.objectStore(k),de=ue.keyPath==null,pe=Y==="put"||Y==="add";if(!pe&&Y!=="delete"&&Y!=="deleteRange")throw new Error("Invalid operation type: "+Y);var se,Ee=(Q||W||{length:1}).length;if(Q&&W&&Q.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(Ee===0)return fe({numFailures:0,failures:{},results:[],lastResult:void 0});function Ue(Gt){++tn,za(Gt)}var Ye=[],Ze=[],tn=0;if(Y==="deleteRange"){if(ae.type===4)return fe({numFailures:tn,failures:Ze,results:[],lastResult:void 0});ae.type===3?Ye.push(se=ue.clear()):Ye.push(se=ue.delete(o(ae)))}else{var de=pe?de?[W,Q]:[W,null]:[Q,null],Le=de[0],Xt=de[1];if(pe)for(var zt=0;zt<Ee;++zt)Ye.push(se=Xt&&Xt[zt]!==void 0?ue[Y](Le[zt],Xt[zt]):ue[Y](Le[zt])),se.onerror=Ue;else for(zt=0;zt<Ee;++zt)Ye.push(se=ue[Y](Le[zt])),se.onerror=Ue}function ii(Gt){Gt=Gt.target.result,Ye.forEach(function(jn,Ur){return jn.error!=null&&(Ze[Ur]=jn.error)}),fe({numFailures:tn,failures:Ze,results:Y==="delete"?Q:Ye.map(function(jn){return jn.result}),lastResult:Gt})}se.onerror=function(Gt){Ue(Gt),ii(Gt)},se.onsuccess=ii})},getMany:function(U){var H=U.trans,Y=U.keys;return new Promise(function(Q,W){Q=Tt(Q);for(var ae,fe=H.objectStore(k),ge=Y.length,ue=new Array(ge),de=0,pe=0,se=function(Ye){Ye=Ye.target,ue[Ye._pos]=Ye.result,++pe===de&&Q(ue)},Ee=kn(W),Ue=0;Ue<ge;++Ue)Y[Ue]!=null&&((ae=fe.get(Y[Ue]))._pos=Ue,ae.onsuccess=se,ae.onerror=Ee,++de);de===0&&Q(ue)})},get:function(U){var H=U.trans,Y=U.key;return new Promise(function(Q,W){Q=Tt(Q);var ae=H.objectStore(k).get(Y);ae.onsuccess=function(fe){return Q(fe.target.result)},ae.onerror=kn(W)})},query:(A=M,function(U){return new Promise(function(H,Y){H=Tt(H);var Q,W,ae,de=U.trans,fe=U.values,ge=U.limit,se=U.query,ue=ge===1/0?void 0:ge,pe=se.index,se=se.range,de=de.objectStore(k),pe=pe.isPrimaryKey?de:de.index(pe.name),se=o(se);if(ge===0)return H({result:[]});A?((ue=fe?pe.getAll(se,ue):pe.getAllKeys(se,ue)).onsuccess=function(Ee){return H({result:Ee.target.result})},ue.onerror=kn(Y)):(Q=0,W=!fe&&"openKeyCursor"in pe?pe.openKeyCursor(se):pe.openCursor(se),ae=[],W.onsuccess=function(Ee){var Ue=W.result;return Ue?(ae.push(fe?Ue.value:Ue.primaryKey),++Q===ge?H({result:ae}):void Ue.continue()):H({result:ae})},W.onerror=kn(Y))})}),openCursor:function(U){var H=U.trans,Y=U.values,Q=U.query,W=U.reverse,ae=U.unique;return new Promise(function(fe,ge){fe=Tt(fe);var pe=Q.index,ue=Q.range,de=H.objectStore(k),de=pe.isPrimaryKey?de:de.index(pe.name),pe=W?ae?"prevunique":"prev":ae?"nextunique":"next",se=!Y&&"openKeyCursor"in de?de.openKeyCursor(o(ue),pe):de.openCursor(o(ue),pe);se.onerror=kn(ge),se.onsuccess=Tt(function(Ee){var Ue,Ye,Ze,tn,Le=se.result;Le?(Le.___id=++_u,Le.done=!1,Ue=Le.continue.bind(Le),Ye=(Ye=Le.continuePrimaryKey)&&Ye.bind(Le),Ze=Le.advance.bind(Le),tn=function(){throw new Error("Cursor not stopped")},Le.trans=H,Le.stop=Le.continue=Le.continuePrimaryKey=Le.advance=function(){throw new Error("Cursor not started")},Le.fail=Tt(ge),Le.next=function(){var Xt=this,zt=1;return this.start(function(){return zt--?Xt.continue():Xt.stop()}).then(function(){return Xt})},Le.start=function(Xt){function zt(){if(se.result)try{Xt()}catch(Gt){Le.fail(Gt)}else Le.done=!0,Le.start=function(){throw new Error("Cursor behind last entry")},Le.stop()}var ii=new Promise(function(Gt,jn){Gt=Tt(Gt),se.onerror=kn(jn),Le.fail=jn,Le.stop=function(Ur){Le.stop=Le.continue=Le.continuePrimaryKey=Le.advance=tn,Gt(Ur)}});return se.onsuccess=Tt(function(Gt){se.onsuccess=zt,zt()}),Le.continue=Ue,Le.continuePrimaryKey=Ye,Le.advance=Ze,zt(),ii},fe(Le)):fe(null)},ge)})},count:function(U){var H=U.query,Y=U.trans,Q=H.index,W=H.range;return new Promise(function(ae,fe){var ge=Y.objectStore(k),ue=Q.isPrimaryKey?ge:ge.index(Q.name),ge=o(W),ue=ge?ue.count(ge):ue.count();ue.onsuccess=Tt(function(de){return ae(de.target.result)}),ue.onerror=kn(fe)})}}}var p,b,_,B=(b=j,_=Fl((p=l).objectStoreNames),{schema:{name:p.name,tables:_.map(function(q){return b.objectStore(q)}).map(function(q){var A=q.keyPath,H=q.autoIncrement,k=D(A),U={},H={name:q.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A==null,compound:k,keyPath:A,autoIncrement:H,unique:!0,extractKey:cl(A)},indexes:Fl(q.indexNames).map(function(Y){return q.index(Y)}).map(function(ae){var Q=ae.name,W=ae.unique,fe=ae.multiEntry,ae=ae.keyPath,fe={name:Q,compound:D(ae),keyPath:ae,unique:W,multiEntry:fe,extractKey:cl(ae)};return U[Yt(ae)]=fe}),getIndexByKeyPath:function(Y){return U[Yt(Y)]}};return U[":id"]=H.primaryKey,A!=null&&(U[Yt(A)]=H.primaryKey),H})},hasGetAll:0<_.length&&"getAll"in b.objectStore(_[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),j=B.schema,M=B.hasGetAll,B=j.tables.map(h),T={};return B.forEach(function(q){return T[q.name]=q}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(q){if(!T[q])throw new Error("Table '".concat(q,"' not found"));return T[q]},MIN_KEY:-1/0,MAX_KEY:ol(r),schema:j}}function Ni(l,r,s,o){var h=s.IDBKeyRange;return s.indexedDB,{dbcore:(o=Ra(r,h,o),l.dbcore.reduce(function(p,b){return b=b.create,d(d({},p),b(p))},o))}}function ya(l,o){var s=o.db,o=Ni(l._middlewares,s,l._deps,o);l.core=o.dbcore,l.tables.forEach(function(h){var p=h.name;l.core.schema.tables.some(function(b){return b.name===p})&&(h.core=l.core.table(p),l[p]instanceof l.Table&&(l[p].core=h.core))})}function Ci(l,r,s,o){s.forEach(function(h){var p=o[h];r.forEach(function(b){var _=(function j(M,B){return ve(M,B)||(M=S(M))&&j(M,B)})(b,h);(!_||"value"in _&&_.value===void 0)&&(b===l.Transaction.prototype||b instanceof l.Transaction?P(b,h,{get:function(){return this.table(h)},set:function(j){oe(this,h,{value:j,writable:!0,configurable:!0,enumerable:!0})}}):b[h]=new l.Table(h,p))})})}function Il(l,r){r.forEach(function(s){for(var o in s)s[o]instanceof l.Table&&delete s[o]})}function wr(l,r){return l._cfg.version-r._cfg.version}function ei(l,r,s,o){var h=l._dbSchema;s.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=sl("$meta",Eu("")[0],[]),l._storeNames.push("$meta"));var p=l._createTransaction("readwrite",l._storeNames,h);p.create(s),p._completion.catch(o);var b=p._reject.bind(p),_=we.transless||we;Nt(function(){return we.trans=p,we.transless=_,r!==0?(ya(l,s),M=r,((j=p).storeNames.includes("$meta")?j.table("$meta").get("version").then(function(B){return B??M}):xe.resolve(M)).then(function(B){return q=B,A=p,k=s,U=[],B=(T=l)._versions,H=T._dbSchema=fl(0,T.idbdb,k),(B=B.filter(function(Y){return Y._cfg.version>=q})).length!==0?(B.forEach(function(Y){U.push(function(){var Q=H,W=Y._cfg.dbschema;zi(T,Q,k),zi(T,W,k),H=T._dbSchema=W;var ae=Ai(Q,W);ae.add.forEach(function(pe){Er(k,pe[0],pe[1].primKey,pe[1].indexes)}),ae.change.forEach(function(pe){if(pe.recreate)throw new be.Upgrade("Not yet support for changing primary key");var se=k.objectStore(pe.name);pe.add.forEach(function(Ee){return Oi(se,Ee)}),pe.change.forEach(function(Ee){se.deleteIndex(Ee.name),Oi(se,Ee)}),pe.del.forEach(function(Ee){return se.deleteIndex(Ee)})});var fe=Y._cfg.contentUpgrade;if(fe&&Y._cfg.version>q){ya(T,k),A._memoizedTables={};var ge=Qe(W);ae.del.forEach(function(pe){ge[pe]=Q[pe]}),Il(T,[T.Transaction.prototype]),Ci(T,[T.Transaction.prototype],N(ge),ge),A.schema=ge;var ue,de=O(fe);return de&&Bt(),ae=xe.follow(function(){var pe;(ue=fe(A))&&de&&(pe=bn.bind(null,null),ue.then(pe,pe))}),ue&&typeof ue.then=="function"?xe.resolve(ue):ae.then(function(){return ue})}}),U.push(function(Q){var W,ae,fe=Y._cfg.dbschema;W=fe,ae=Q,[].slice.call(ae.db.objectStoreNames).forEach(function(ge){return W[ge]==null&&ae.db.deleteObjectStore(ge)}),Il(T,[T.Transaction.prototype]),Ci(T,[T.Transaction.prototype],T._storeNames,T._dbSchema),A.schema=T._dbSchema}),U.push(function(Q){T.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(T.idbdb.version/10)===Y._cfg.version?(T.idbdb.deleteObjectStore("$meta"),delete T._dbSchema.$meta,T._storeNames=T._storeNames.filter(function(W){return W!=="$meta"})):Q.objectStore("$meta").put(Y._cfg.version,"version"))})}),(function Y(){return U.length?xe.resolve(U.shift()(A.idbtrans)).then(Y):xe.resolve()})().then(function(){wu(H,k)})):xe.resolve();var T,q,A,k,U,H}).catch(b)):(N(h).forEach(function(B){Er(s,B,h[B].primKey,h[B].indexes)}),ya(l,s),void xe.follow(function(){return l.on.populate.fire(p)}).catch(b));var j,M})}function Mi(l,r){wu(l._dbSchema,r),r.db.version%10!=0||r.objectStoreNames.contains("$meta")||r.db.createObjectStore("$meta").add(Math.ceil(r.db.version/10-1),"version");var s=fl(0,l.idbdb,r);zi(l,l._dbSchema,r);for(var o=0,h=Ai(s,l._dbSchema).change;o<h.length;o++){var p=(function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var _=r.objectStore(b.name);b.add.forEach(function(j){yt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(j.src)),Oi(_,j)})})(h[o]);if(typeof p=="object")return p.value}}function Ai(l,r){var s,o={del:[],add:[],change:[]};for(s in l)r[s]||o.del.push(s);for(s in r){var h=l[s],p=r[s];if(h){var b={name:s,def:p,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(p.primKey.keyPath||"")||h.primKey.auto!==p.primKey.auto)b.recreate=!0,o.change.push(b);else{var _=h.idxByName,j=p.idxByName,M=void 0;for(M in _)j[M]||b.del.push(M);for(M in j){var B=_[M],T=j[M];B?B.src!==T.src&&b.change.push(T):b.add.push(T)}(0<b.del.length||0<b.add.length||0<b.change.length)&&o.change.push(b)}}else o.add.push([s,p])}return o}function Er(l,r,s,o){var h=l.db.createObjectStore(r,s.keyPath?{keyPath:s.keyPath,autoIncrement:s.auto}:{autoIncrement:s.auto});return o.forEach(function(p){return Oi(h,p)}),h}function wu(l,r){N(l).forEach(function(s){r.db.objectStoreNames.contains(s)||(yt&&console.debug("Dexie: Creating missing table",s),Er(r,s,l[s].primKey,l[s].indexes))})}function Oi(l,r){l.createIndex(r.name,r.keyPath,{unique:r.unique,multiEntry:r.multi})}function fl(l,r,s){var o={};return je(r.objectStoreNames,0).forEach(function(h){for(var p=s.objectStore(h),b=Qn(ji(M=p.keyPath),M||"",!0,!1,!!p.autoIncrement,M&&typeof M!="string",!0),_=[],j=0;j<p.indexNames.length;++j){var B=p.index(p.indexNames[j]),M=B.keyPath,B=Qn(B.name,M,!!B.unique,!!B.multiEntry,!1,M&&typeof M!="string",!1);_.push(B)}o[h]=sl(h,b,_)}),o}function zi(l,r,s){for(var o=s.db.objectStoreNames,h=0;h<o.length;++h){var p=o[h],b=s.objectStore(p);l._hasGetAll="getAll"in b;for(var _=0;_<b.indexNames.length;++_){var j=b.indexNames[_],M=b.index(j).keyPath,B=typeof M=="string"?M:"["+je(M).join("+")+"]";!r[p]||(M=r[p].idxByName[B])&&(M.name=j,delete r[p].idxByName[B],r[p].idxByName[j]=M)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&w.WorkerGlobalScope&&w instanceof w.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Eu(l){return l.split(",").map(function(r,s){var p=r.split(":"),o=(h=p[1])===null||h===void 0?void 0:h.trim(),h=(r=p[0].trim()).replace(/([&*]|\+\+)/g,""),p=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return Qn(h,p||null,/\&/.test(r),/\*/.test(r),/\+\+/.test(r),D(p),s===0,o)})}var qs=(dl.prototype._createTableSchema=sl,dl.prototype._parseIndexSyntax=Eu,dl.prototype._parseStoresSpec=function(l,r){var s=this;N(l).forEach(function(o){if(l[o]!==null){var h=s._parseIndexSyntax(l[o]),p=h.shift();if(!p)throw new be.Schema("Invalid schema for table "+o+": "+l[o]);if(p.unique=!0,p.multi)throw new be.Schema("Primary key cannot be multiEntry*");h.forEach(function(b){if(b.auto)throw new be.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new be.Schema("Index must have a name and cannot be an empty string")}),h=s._createTableSchema(o,p,h),r[o]=h}})},dl.prototype.stores=function(s){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?C(this._cfg.storesSource,s):s;var s=r._versions,o={},h={};return s.forEach(function(p){C(o,p._cfg.storesSource),h=p._cfg.dbschema={},p._parseStoresSpec(o,h)}),r._dbSchema=h,Il(r,[r._allTables,r,r.Transaction.prototype]),Ci(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],N(h),h),r._storeNames=N(h),this},dl.prototype.upgrade=function(l){return this._cfg.contentUpgrade=En(this._cfg.contentUpgrade||Se,l),this},dl);function dl(){}function Tr(l,r){var s=l._dbNamesDB;return s||(s=l._dbNamesDB=new Vn(Vl,{addons:[],indexedDB:l,IDBKeyRange:r})).version(1).stores({dbnames:"name"}),s.table("dbnames")}function Di(l){return l&&typeof l.databases=="function"}function jr(l){return Nt(function(){return we.letThrough=!0,l()})}function Nr(l){return!("from"in l)}var en=function(l,r){if(!this){var s=new en;return l&&"d"in l&&C(s,l),s}C(this,arguments.length?{d:1,from:l,to:1<arguments.length?r:l}:{d:0})};function ti(l,r,s){var o=Pe(r,s);if(!isNaN(o)){if(0<o)throw RangeError();if(Nr(l))return C(l,{from:r,to:s,d:1});var h=l.l,o=l.r;if(Pe(s,l.from)<0)return h?ti(h,r,s):l.l={from:r,to:s,d:1,l:null,r:null},ju(l);if(0<Pe(r,l.to))return o?ti(o,r,s):l.r={from:r,to:s,d:1,l:null,r:null},ju(l);Pe(r,l.from)<0&&(l.from=r,l.l=null,l.d=o?o.d+1:1),0<Pe(s,l.to)&&(l.to=s,l.r=null,l.d=l.l?l.l.d+1:1),s=!l.r,h&&!l.l&&ka(l,h),o&&s&&ka(l,o)}}function ka(l,r){Nr(r)||(function s(o,j){var p=j.from,b=j.to,_=j.l,j=j.r;ti(o,p,b),_&&s(o,_),j&&s(o,j)})(l,r)}function Tu(l,r){var s=Ri(r),o=s.next();if(o.done)return!1;for(var h=o.value,p=Ri(l),b=p.next(h.from),_=b.value;!o.done&&!b.done;){if(Pe(_.from,h.to)<=0&&0<=Pe(_.to,h.from))return!0;Pe(h.from,_.from)<0?h=(o=s.next(_.from)).value:_=(b=p.next(h.from)).value}return!1}function Ri(l){var r=Nr(l)?null:{s:0,n:l};return{next:function(s){for(var o=0<arguments.length;r;)switch(r.s){case 0:if(r.s=1,o)for(;r.n.l&&Pe(s,r.n.from)<0;)r={up:r,n:r.n.l,s:1};else for(;r.n.l;)r={up:r,n:r.n.l,s:1};case 1:if(r.s=2,!o||Pe(s,r.n.to)<=0)return{value:r.n,done:!1};case 2:if(r.n.r){r.s=3,r={up:r,n:r.n.r,s:0};continue}case 3:r=r.up}return{done:!0}}}}function ju(l){var r,s,o=(((r=l.r)===null||r===void 0?void 0:r.d)||0)-(((s=l.l)===null||s===void 0?void 0:s.d)||0),h=1<o?"r":o<-1?"l":"";h&&(r=h=="r"?"l":"r",s=d({},l),o=l[h],l.from=o.from,l.to=o.to,l[h]=o[h],s[h]=o[r],(l[r]=s).d=Cr(s)),l.d=Cr(l)}function Cr(s){var r=s.r,s=s.l;return(r?s?Math.max(r.d,s.d):r.d:s?s.d:0)+1}function ki(l,r){return N(r).forEach(function(s){l[s]?ka(l[s],r[s]):l[s]=(function o(h){var p,b,_={};for(p in h)L(h,p)&&(b=h[p],_[p]=!b||typeof b!="object"||vt.has(b.constructor)?b:o(b));return _})(r[s])}),l}function Mr(l,r){return l.all||r.all||Object.keys(l).some(function(s){return r[s]&&Tu(r[s],l[s])})}I(en.prototype,((Sn={add:function(l){return ka(this,l),this},addKey:function(l){return ti(this,l,l),this},addKeys:function(l){var r=this;return l.forEach(function(s){return ti(r,s,s)}),this},hasKey:function(l){var r=Ri(this).next(l).value;return r&&Pe(r.from,l)<=0&&0<=Pe(r.to,l)}})[$]=function(){return Ri(this)},Sn));var Ua={},Ar={},Or=!1;function Ui(l){ki(Ar,l),Or||(Or=!0,setTimeout(function(){Or=!1,zr(Ar,!(Ar={}))},0))}function zr(l,r){r===void 0&&(r=!1);var s=new Set;if(l.all)for(var o=0,h=Object.values(Ua);o<h.length;o++)Nu(b=h[o],l,s,r);else for(var p in l){var b,_=/^idb\:\/\/(.*)\/(.*)\//.exec(p);_&&(p=_[1],_=_[2],(b=Ua["idb://".concat(p,"/").concat(_)])&&Nu(b,l,s,r))}s.forEach(function(j){return j()})}function Nu(l,r,s,o){for(var h=[],p=0,b=Object.entries(l.queries.query);p<b.length;p++){for(var _=b[p],j=_[0],M=[],B=0,T=_[1];B<T.length;B++){var q=T[B];Mr(r,q.obsSet)?q.subscribers.forEach(function(H){return s.add(H)}):o&&M.push(q)}o&&h.push([j,M])}if(o)for(var A=0,k=h;A<k.length;A++){var U=k[A],j=U[0],M=U[1];l.queries.query[j]=M}}function Ks(l){var r=l._state,s=l._deps.indexedDB;if(r.isBeingOpened||l.idbdb)return r.dbReadyPromise.then(function(){return r.dbOpenError?xt(r.dbOpenError):l});r.isBeingOpened=!0,r.dbOpenError=null,r.openComplete=!1;var o=r.openCanceller,h=Math.round(10*l.verno),p=!1;function b(){if(r.openCanceller!==o)throw new be.DatabaseClosed("db.open() was cancelled")}function _(){return new xe(function(q,A){if(b(),!s)throw new be.MissingAPI;var k=l.name,U=r.autoSchema||!h?s.open(k):s.open(k,h);if(!U)throw new be.MissingAPI;U.onerror=kn(A),U.onblocked=Tt(l._fireOnBlocked),U.onupgradeneeded=Tt(function(H){var Y;B=U.transaction,r.autoSchema&&!l._options.allowEmptyDB?(U.onerror=za,B.abort(),U.result.close(),(Y=s.deleteDatabase(k)).onsuccess=Y.onerror=Tt(function(){A(new be.NoSuchDatabase("Database ".concat(k," doesnt exist")))})):(B.onerror=kn(A),H=H.oldVersion>Math.pow(2,62)?0:H.oldVersion,T=H<1,l.idbdb=U.result,p&&Mi(l,B),ei(l,H/10,B,A))},A),U.onsuccess=Tt(function(){B=null;var H,Y,Q,W,ae,fe=l.idbdb=U.result,ge=je(fe.objectStoreNames);if(0<ge.length)try{var ue=fe.transaction((W=ge).length===1?W[0]:W,"readonly");if(r.autoSchema)Y=fe,Q=ue,(H=l).verno=Y.version/10,Q=H._dbSchema=fl(0,Y,Q),H._storeNames=je(Y.objectStoreNames,0),Ci(H,[H._allTables],N(Q),Q);else if(zi(l,l._dbSchema,ue),((ae=Ai(fl(0,(ae=l).idbdb,ue),ae._dbSchema)).add.length||ae.change.some(function(de){return de.add.length||de.change.length}))&&!p)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),fe.close(),h=fe.version+1,p=!0,q(_());ya(l,ue)}catch{}Ca.push(l),fe.onversionchange=Tt(function(de){r.vcFired=!0,l.on("versionchange").fire(de)}),fe.onclose=Tt(function(){l.close({disableAutoOpen:!1})}),T&&(ae=l._deps,ue=k,fe=ae.indexedDB,ae=ae.IDBKeyRange,Di(fe)||ue===Vl||Tr(fe,ae).put({name:ue}).catch(Se)),q()},A)}).catch(function(q){switch(q?.name){case"UnknownError":if(0<r.PR1398_maxLoop)return r.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_();break;case"VersionError":if(0<h)return h=0,_()}return xe.reject(q)})}var j,M=r.dbReadyResolve,B=null,T=!1;return xe.race([o,(typeof navigator>"u"?xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(q){function A(){return indexedDB.databases().finally(q)}j=setInterval(A,100),A()}).finally(function(){return clearInterval(j)}):Promise.resolve()).then(_)]).then(function(){return b(),r.onReadyBeingFired=[],xe.resolve(jr(function(){return l.on.ready.fire(l.vip)})).then(function q(){if(0<r.onReadyBeingFired.length){var A=r.onReadyBeingFired.reduce(En,Se);return r.onReadyBeingFired=[],xe.resolve(jr(function(){return A(l.vip)})).then(q)}})}).finally(function(){r.openCanceller===o&&(r.onReadyBeingFired=null,r.isBeingOpened=!1)}).catch(function(q){r.dbOpenError=q;try{B&&B.abort()}catch{}return o===r.openCanceller&&l._close(),xt(q)}).finally(function(){r.openComplete=!0,M()}).then(function(){var q;return T&&(q={},l.tables.forEach(function(A){A.schema.indexes.forEach(function(k){k.name&&(q["idb://".concat(l.name,"/").concat(A.name,"/").concat(k.name)]=new en(-1/0,[[[]]]))}),q["idb://".concat(l.name,"/").concat(A.name,"/")]=q["idb://".concat(l.name,"/").concat(A.name,"/:dels")]=new en(-1/0,[[[]]])}),It(ul).fire(q),zr(q,!0)),l})}function ni(l){function r(p){return l.next(p)}var s=h(r),o=h(function(p){return l.throw(p)});function h(p){return function(j){var _=p(j),j=_.value;return _.done?j:j&&typeof j.then=="function"?j.then(s,o):D(j)?Promise.all(j).then(s,o):s(j)}}return h(r)()}function ga(l,r,s){for(var o=D(l)?l.slice():[l],h=0;h<s;++h)o.push(r);return o}var Ls={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(r){var s=l.table(r),o=s.schema,h={},p=[];function b(T,q,A){var k=Yt(T),U=h[k]=h[k]||[],H=T==null?0:typeof T=="string"?1:T.length,Y=0<q,Y=d(d({},A),{name:Y?"".concat(k,"(virtual-from:").concat(A.name,")"):A.name,lowLevelIndex:A,isVirtual:Y,keyTail:q,keyLength:H,extractKey:cl(T),unique:!Y&&A.unique});return U.push(Y),Y.isPrimaryKey||p.push(Y),1<H&&b(H===2?T[0]:T.slice(0,H-1),q+1,A),U.sort(function(Q,W){return Q.keyTail-W.keyTail}),Y}r=b(o.primaryKey.keyPath,0,o.primaryKey),h[":id"]=[r];for(var _=0,j=o.indexes;_<j.length;_++){var M=j[_];b(M.keyPath,0,M)}function B(T){var q,A=T.query.index;return A.isVirtual?d(d({},T),{query:{index:A.lowLevelIndex,range:(q=T.query.range,A=A.keyTail,{type:q.type===1?2:q.type,lower:ga(q.lower,q.lowerOpen?l.MAX_KEY:l.MIN_KEY,A),lowerOpen:!0,upper:ga(q.upper,q.upperOpen?l.MIN_KEY:l.MAX_KEY,A),upperOpen:!0})}}):T}return d(d({},s),{schema:d(d({},o),{primaryKey:r,indexes:p,getIndexByKeyPath:function(T){return(T=h[Yt(T)])&&T[0]}}),count:function(T){return s.count(B(T))},query:function(T){return s.query(B(T))},openCursor:function(T){var q=T.query.index,A=q.keyTail,k=q.isVirtual,U=q.keyLength;return k?s.openCursor(B(T)).then(function(Y){return Y&&H(Y)}):s.openCursor(T);function H(Y){return Object.create(Y,{continue:{value:function(Q){Q!=null?Y.continue(ga(Q,T.reverse?l.MAX_KEY:l.MIN_KEY,A)):T.unique?Y.continue(Y.key.slice(0,U).concat(T.reverse?l.MIN_KEY:l.MAX_KEY,A)):Y.continue()}},continuePrimaryKey:{value:function(Q,W){Y.continuePrimaryKey(ga(Q,l.MAX_KEY,A),W)}},primaryKey:{get:function(){return Y.primaryKey}},key:{get:function(){var Q=Y.key;return U===1?Q[0]:Q.slice(0,U)}},value:{get:function(){return Y.value}}})}}})}})}};function Bi(l,r,s,o){return s=s||{},o=o||"",N(l).forEach(function(h){var p,b,_;L(r,h)?(p=l[h],b=r[h],typeof p=="object"&&typeof b=="object"&&p&&b?(_=Et(p))!==Et(b)?s[o+h]=r[h]:_==="Object"?Bi(p,b,s,o+h+"."):p!==b&&(s[o+h]=r[h]):p!==b&&(s[o+h]=r[h])):s[o+h]=void 0}),N(r).forEach(function(h){L(l,h)||(s[o+h]=r[h])}),s}function Hi(l,r){return r.type==="delete"?r.keys:r.keys||r.values.map(l.extractKey)}var Cu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(r){var s=l.table(r),o=s.schema.primaryKey;return d(d({},s),{mutate:function(h){var p=we.trans,b=p.table(r).hook,_=b.deleting,j=b.creating,M=b.updating;switch(h.type){case"add":if(j.fire===Se)break;return p._promise("readwrite",function(){return B(h)},!0);case"put":if(j.fire===Se&&M.fire===Se)break;return p._promise("readwrite",function(){return B(h)},!0);case"delete":if(_.fire===Se)break;return p._promise("readwrite",function(){return B(h)},!0);case"deleteRange":if(_.fire===Se)break;return p._promise("readwrite",function(){return(function T(q,A,k){return s.query({trans:q,values:!1,query:{index:o,range:A},limit:k}).then(function(U){var H=U.result;return B({type:"delete",keys:H,trans:q}).then(function(Y){return 0<Y.numFailures?Promise.reject(Y.failures[0]):H.length<k?{failures:[],numFailures:0,lastResult:void 0}:T(q,d(d({},A),{lower:H[H.length-1],lowerOpen:!0}),k)})})})(h.trans,h.range,1e4)},!0)}return s.mutate(h);function B(T){var q,A,k,U=we.trans,H=T.keys||Hi(o,T);if(!H)throw new Error("Keys missing");return(T=T.type==="add"||T.type==="put"?d(d({},T),{keys:H}):d({},T)).type!=="delete"&&(T.values=x([],T.values)),T.keys&&(T.keys=x([],T.keys)),q=s,k=H,((A=T).type==="add"?Promise.resolve([]):q.getMany({trans:A.trans,keys:k,cache:"immutable"})).then(function(Y){var Q=H.map(function(W,ae){var fe,ge,ue,de=Y[ae],pe={onerror:null,onsuccess:null};return T.type==="delete"?_.fire.call(pe,W,de,U):T.type==="add"||de===void 0?(fe=j.fire.call(pe,W,T.values[ae],U),W==null&&fe!=null&&(T.keys[ae]=W=fe,o.outbound||re(T.values[ae],o.keyPath,W))):(fe=Bi(de,T.values[ae]),(ge=M.fire.call(pe,fe,W,de,U))&&(ue=T.values[ae],Object.keys(ge).forEach(function(se){L(ue,se)?ue[se]=ge[se]:re(ue,se,ge[se])}))),pe});return s.mutate(T).then(function(W){for(var ae=W.failures,fe=W.results,ge=W.numFailures,W=W.lastResult,ue=0;ue<H.length;++ue){var de=(fe||H)[ue],pe=Q[ue];de==null?pe.onerror&&pe.onerror(ae[ue]):pe.onsuccess&&pe.onsuccess(T.type==="put"&&Y[ue]?T.values[ue]:de)}return{failures:ae,results:fe,numFailures:ge,lastResult:W}}).catch(function(W){return Q.forEach(function(ae){return ae.onerror&&ae.onerror(W)}),Promise.reject(W)})})}}})}})}};function Dr(l,r,s){try{if(!r||r.keys.length<l.length)return null;for(var o=[],h=0,p=0;h<r.keys.length&&p<l.length;++h)Pe(r.keys[h],l[p])===0&&(o.push(s?ot(r.values[h]):r.values[h]),++p);return o.length===l.length?o:null}catch{return null}}var Mu={stack:"dbcore",level:-1,create:function(l){return{table:function(r){var s=l.table(r);return d(d({},s),{getMany:function(o){if(!o.cache)return s.getMany(o);var h=Dr(o.keys,o.trans._cache,o.cache==="clone");return h?xe.resolve(h):s.getMany(o).then(function(p){return o.trans._cache={keys:o.keys,values:o.cache==="clone"?ot(p):p},p})},mutate:function(o){return o.type!=="add"&&(o.trans._cache=null),s.mutate(o)}})}}}};function Ba(l,r){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!r.schema.primaryKey.outbound}function Au(l,r){switch(l){case"query":return r.values&&!r.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ys={stack:"dbcore",level:0,name:"Observability",create:function(l){var r=l.schema.name,s=new en(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(o,h,p){if(we.subscr&&h!=="readonly")throw new be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(we.querier));return l.transaction(o,h,p)},table:function(o){var h=l.table(o),p=h.schema,b=p.primaryKey,T=p.indexes,_=b.extractKey,j=b.outbound,M=b.autoIncrement&&T.filter(function(A){return A.compound&&A.keyPath.includes(b.keyPath)}),B=d(d({},h),{mutate:function(A){function k(se){return se="idb://".concat(r,"/").concat(o,"/").concat(se),W[se]||(W[se]=new en)}var U,H,Y,Q=A.trans,W=A.mutatedParts||(A.mutatedParts={}),ae=k(""),fe=k(":dels"),ge=A.type,pe=A.type==="deleteRange"?[A.range]:A.type==="delete"?[A.keys]:A.values.length<50?[Hi(b,A).filter(function(se){return se}),A.values]:[],ue=pe[0],de=pe[1],pe=A.trans._cache;return D(ue)?(ae.addKeys(ue),(pe=ge==="delete"||ue.length===de.length?Dr(ue,pe):null)||fe.addKeys(ue),(pe||de)&&(U=k,H=pe,Y=de,p.indexes.forEach(function(se){var Ee=U(se.name||"");function Ue(Ze){return Ze!=null?se.extractKey(Ze):null}function Ye(Ze){return se.multiEntry&&D(Ze)?Ze.forEach(function(tn){return Ee.addKey(tn)}):Ee.addKey(Ze)}(H||Y).forEach(function(Ze,Xt){var Le=H&&Ue(H[Xt]),Xt=Y&&Ue(Y[Xt]);Pe(Le,Xt)!==0&&(Le!=null&&Ye(Le),Xt!=null&&Ye(Xt))})}))):ue?(de={from:(de=ue.lower)!==null&&de!==void 0?de:l.MIN_KEY,to:(de=ue.upper)!==null&&de!==void 0?de:l.MAX_KEY},fe.add(de),ae.add(de)):(ae.add(s),fe.add(s),p.indexes.forEach(function(se){return k(se.name).add(s)})),h.mutate(A).then(function(se){return!ue||A.type!=="add"&&A.type!=="put"||(ae.addKeys(se.results),M&&M.forEach(function(Ee){for(var Ue=A.values.map(function(Le){return Ee.extractKey(Le)}),Ye=Ee.keyPath.findIndex(function(Le){return Le===b.keyPath}),Ze=0,tn=se.results.length;Ze<tn;++Ze)Ue[Ze][Ye]=se.results[Ze];k(Ee.name).addKeys(Ue)})),Q.mutatedParts=ki(Q.mutatedParts||{},W),se})}}),T=function(k){var U=k.query,k=U.index,U=U.range;return[k,new en((k=U.lower)!==null&&k!==void 0?k:l.MIN_KEY,(U=U.upper)!==null&&U!==void 0?U:l.MAX_KEY)]},q={get:function(A){return[b,new en(A.key)]},getMany:function(A){return[b,new en().addKeys(A.keys)]},count:T,query:T,openCursor:T};return N(q).forEach(function(A){B[A]=function(k){var U=we.subscr,H=!!U,Y=Ba(we,h)&&Au(A,k)?k.obsSet={}:U;if(H){var Q=function(de){return de="idb://".concat(r,"/").concat(o,"/").concat(de),Y[de]||(Y[de]=new en)},W=Q(""),ae=Q(":dels"),U=q[A](k),H=U[0],U=U[1];if((A==="query"&&H.isPrimaryKey&&!k.values?ae:Q(H.name||"")).add(U),!H.isPrimaryKey){if(A!=="count"){var fe=A==="query"&&j&&k.values&&h.query(d(d({},k),{values:!1}));return h[A].apply(this,arguments).then(function(de){if(A==="query"){if(j&&k.values)return fe.then(function(Ue){return Ue=Ue.result,W.addKeys(Ue),de});var pe=k.values?de.result.map(_):de.result;(k.values?W:ae).addKeys(pe)}else if(A==="openCursor"){var se=de,Ee=k.values;return se&&Object.create(se,{key:{get:function(){return ae.addKey(se.primaryKey),se.key}},primaryKey:{get:function(){var Ue=se.primaryKey;return ae.addKey(Ue),Ue}},value:{get:function(){return Ee&&W.addKey(se.primaryKey),se.value}}})}return de})}ae.add(s)}}return h[A].apply(this,arguments)}}),B}})}};function Ou(l,r,s){if(s.numFailures===0)return r;if(r.type==="deleteRange")return null;var o=r.keys?r.keys.length:"values"in r&&r.values?r.values.length:1;return s.numFailures===o?null:(r=d({},r),D(r.keys)&&(r.keys=r.keys.filter(function(h,p){return!(p in s.failures)})),"values"in r&&D(r.values)&&(r.values=r.values.filter(function(h,p){return!(p in s.failures)})),r)}function qi(l,r){return s=l,((o=r).lower===void 0||(o.lowerOpen?0<Pe(s,o.lower):0<=Pe(s,o.lower)))&&(l=l,(r=r).upper===void 0||(r.upperOpen?Pe(l,r.upper)<0:Pe(l,r.upper)<=0));var s,o}function Rr(l,r,q,o,h,p){if(!q||q.length===0)return l;var b=r.query.index,_=b.multiEntry,j=r.query.range,M=o.schema.primaryKey.extractKey,B=b.extractKey,T=(b.lowLevelIndex||b).extractKey,q=q.reduce(function(A,k){var U=A,H=[];if(k.type==="add"||k.type==="put")for(var Y=new en,Q=k.values.length-1;0<=Q;--Q){var W,ae=k.values[Q],fe=M(ae);Y.hasKey(fe)||(W=B(ae),(_&&D(W)?W.some(function(se){return qi(se,j)}):qi(W,j))&&(Y.addKey(fe),H.push(ae)))}switch(k.type){case"add":var ge=new en().addKeys(r.values?A.map(function(Ee){return M(Ee)}):A),U=A.concat(r.values?H.filter(function(Ee){return Ee=M(Ee),!ge.hasKey(Ee)&&(ge.addKey(Ee),!0)}):H.map(function(Ee){return M(Ee)}).filter(function(Ee){return!ge.hasKey(Ee)&&(ge.addKey(Ee),!0)}));break;case"put":var ue=new en().addKeys(k.values.map(function(Ee){return M(Ee)}));U=A.filter(function(Ee){return!ue.hasKey(r.values?M(Ee):Ee)}).concat(r.values?H:H.map(function(Ee){return M(Ee)}));break;case"delete":var de=new en().addKeys(k.keys);U=A.filter(function(Ee){return!de.hasKey(r.values?M(Ee):Ee)});break;case"deleteRange":var pe=k.range;U=A.filter(function(Ee){return!qi(M(Ee),pe)})}return U},l);return q===l?l:(q.sort(function(A,k){return Pe(T(A),T(k))||Pe(M(A),M(k))}),r.limit&&r.limit<1/0&&(q.length>r.limit?q.length=r.limit:l.length===r.limit&&q.length<r.limit&&(h.dirty=!0)),p?Object.freeze(q):q)}function hl(l,r){return Pe(l.lower,r.lower)===0&&Pe(l.upper,r.upper)===0&&!!l.lowerOpen==!!r.lowerOpen&&!!l.upperOpen==!!r.upperOpen}function ai(l,r){return(function(s,o,h,p){if(s===void 0)return o!==void 0?-1:0;if(o===void 0)return 1;if((o=Pe(s,o))===0){if(h&&p)return 0;if(h)return 1;if(p)return-1}return o})(l.lower,r.lower,l.lowerOpen,r.lowerOpen)<=0&&0<=(function(s,o,h,p){if(s===void 0)return o!==void 0?1:0;if(o===void 0)return-1;if((o=Pe(s,o))===0){if(h&&p)return 0;if(h)return-1;if(p)return 1}return o})(l.upper,r.upper,l.upperOpen,r.upperOpen)}function Xs(l,r,s,o){l.subscribers.add(s),o.addEventListener("abort",function(){var h,p;l.subscribers.delete(s),l.subscribers.size===0&&(h=l,p=r,setTimeout(function(){h.subscribers.size===0&&ze(p,h)},3e3))})}var Ki={stack:"dbcore",level:0,name:"Cache",create:function(l){var r=l.schema.name;return d(d({},l),{transaction:function(s,o,h){var p,b,_=l.transaction(s,o,h);return o==="readwrite"&&(b=(p=new AbortController).signal,h=function(j){return function(){if(p.abort(),o==="readwrite"){for(var M=new Set,B=0,T=s;B<T.length;B++){var q=T[B],A=Ua["idb://".concat(r,"/").concat(q)];if(A){var k=l.table(q),U=A.optimisticOps.filter(function(Ee){return Ee.trans===_});if(_._explicit&&j&&_.mutatedParts)for(var H=0,Y=Object.values(A.queries.query);H<Y.length;H++)for(var Q=0,W=(ge=Y[H]).slice();Q<W.length;Q++)Mr((ue=W[Q]).obsSet,_.mutatedParts)&&(ze(ge,ue),ue.subscribers.forEach(function(Ee){return M.add(Ee)}));else if(0<U.length){A.optimisticOps=A.optimisticOps.filter(function(Ee){return Ee.trans!==_});for(var ae=0,fe=Object.values(A.queries.query);ae<fe.length;ae++)for(var ge,ue,de,pe=0,se=(ge=fe[ae]).slice();pe<se.length;pe++)(ue=se[pe]).res!=null&&_.mutatedParts&&(j&&!ue.dirty?(de=Object.isFrozen(ue.res),de=Rr(ue.res,ue.req,U,k,ue,de),ue.dirty?(ze(ge,ue),ue.subscribers.forEach(function(Ee){return M.add(Ee)})):de!==ue.res&&(ue.res=de,ue.promise=xe.resolve({result:de}))):(ue.dirty&&ze(ge,ue),ue.subscribers.forEach(function(Ee){return M.add(Ee)})))}}}M.forEach(function(Ee){return Ee()})}}},_.addEventListener("abort",h(!1),{signal:b}),_.addEventListener("error",h(!1),{signal:b}),_.addEventListener("complete",h(!0),{signal:b})),_},table:function(s){var o=l.table(s),h=o.schema.primaryKey;return d(d({},o),{mutate:function(p){var b=we.trans;if(h.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return o.mutate(p);var _=Ua["idb://".concat(r,"/").concat(s)];return _?(b=o.mutate(p),p.type!=="add"&&p.type!=="put"||!(50<=p.values.length||Hi(h,p).some(function(j){return j==null}))?(_.optimisticOps.push(p),p.mutatedParts&&Ui(p.mutatedParts),b.then(function(j){0<j.numFailures&&(ze(_.optimisticOps,p),(j=Ou(0,p,j))&&_.optimisticOps.push(j),p.mutatedParts&&Ui(p.mutatedParts))}),b.catch(function(){ze(_.optimisticOps,p),p.mutatedParts&&Ui(p.mutatedParts)})):b.then(function(j){var M=Ou(0,d(d({},p),{values:p.values.map(function(B,T){var q;return j.failures[T]?B:(B=(q=h.keyPath)!==null&&q!==void 0&&q.includes(".")?ot(B):d({},B),re(B,h.keyPath,j.results[T]),B)})}),j);_.optimisticOps.push(M),queueMicrotask(function(){return p.mutatedParts&&Ui(p.mutatedParts)})}),b):o.mutate(p)},query:function(p){if(!Ba(we,o)||!Au("query",p))return o.query(p);var b=((M=we.trans)===null||M===void 0?void 0:M.db._options.cache)==="immutable",T=we,_=T.requery,j=T.signal,M=(function(k,U,H,Y){var Q=Ua["idb://".concat(k,"/").concat(U)];if(!Q)return[];if(!(U=Q.queries[H]))return[null,!1,Q,null];var W=U[(Y.query?Y.query.index.name:null)||""];if(!W)return[null,!1,Q,null];switch(H){case"query":var ae=W.find(function(fe){return fe.req.limit===Y.limit&&fe.req.values===Y.values&&hl(fe.req.query.range,Y.query.range)});return ae?[ae,!0,Q,W]:[W.find(function(fe){return("limit"in fe.req?fe.req.limit:1/0)>=Y.limit&&(!Y.values||fe.req.values)&&ai(fe.req.query.range,Y.query.range)}),!1,Q,W];case"count":return ae=W.find(function(fe){return hl(fe.req.query.range,Y.query.range)}),[ae,!!ae,Q,W]}})(r,s,"query",p),B=M[0],T=M[1],q=M[2],A=M[3];return B&&T?B.obsSet=p.obsSet:(T=o.query(p).then(function(k){var U=k.result;if(B&&(B.res=U),b){for(var H=0,Y=U.length;H<Y;++H)Object.freeze(U[H]);Object.freeze(U)}else k.result=ot(U);return k}).catch(function(k){return A&&B&&ze(A,B),Promise.reject(k)}),B={obsSet:p.obsSet,promise:T,subscribers:new Set,type:"query",req:p,dirty:!1},A?A.push(B):(A=[B],(q=q||(Ua["idb://".concat(r,"/").concat(s)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[p.query.index.name||""]=A)),Xs(B,A,_,j),B.promise.then(function(k){return{result:Rr(k.result,p,q?.optimisticOps,o,B,b)}})}})}})}};function li(l,r){return new Proxy(l,{get:function(s,o,h){return o==="db"?r:Reflect.get(s,o,h)}})}var Vn=(Mt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new be.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var r=this._versions,s=r.filter(function(o){return o._cfg.version===l})[0];return s||(s=new this.Version(l),r.push(s),r.sort(wr),s.stores({}),this._state.autoSchema=!1,s)},Mt.prototype._whenReady=function(l){var r=this;return this.idbdb&&(this._state.openComplete||we.letThrough||this._vip)?l():new xe(function(s,o){if(r._state.openComplete)return o(new be.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._state.autoOpen)return void o(new be.DatabaseClosed);r.open().catch(Se)}r._state.dbReadyPromise.then(s,o)}).then(l)},Mt.prototype.use=function(l){var r=l.stack,s=l.create,o=l.level,h=l.name;return h&&this.unuse({stack:r,name:h}),l=this._middlewares[r]||(this._middlewares[r]=[]),l.push({stack:r,create:s,level:o??10,name:h}),l.sort(function(p,b){return p.level-b.level}),this},Mt.prototype.unuse=function(l){var r=l.stack,s=l.name,o=l.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(h){return o?h.create!==o:!!s&&h.name!==s})),this},Mt.prototype.open=function(){var l=this;return Dn(rn,function(){return Ks(l)})},Mt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,r=Ca.indexOf(this);if(0<=r&&Ca.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new xe(function(s){l.dbReadyResolve=s}),l.openCanceller=new xe(function(s,o){l.cancelOpen=o}))},Mt.prototype.close=function(s){var r=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,s=this._state;r?(s.isBeingOpened&&s.cancelOpen(new be.DatabaseClosed),this._close(),s.autoOpen=!1,s.dbOpenError=new be.DatabaseClosed):(this._close(),s.autoOpen=this._options.autoOpen||s.isBeingOpened,s.openComplete=!1,s.dbOpenError=null)},Mt.prototype.delete=function(l){var r=this;l===void 0&&(l={disableAutoOpen:!0});var s=0<arguments.length&&typeof arguments[0]!="object",o=this._state;return new xe(function(h,p){function b(){r.close(l);var _=r._deps.indexedDB.deleteDatabase(r.name);_.onsuccess=Tt(function(){var j,M,B;j=r._deps,M=r.name,B=j.indexedDB,j=j.IDBKeyRange,Di(B)||M===Vl||Tr(B,j).delete(M).catch(Se),h()}),_.onerror=kn(p),_.onblocked=r._fireOnBlocked}if(s)throw new be.InvalidArgument("Invalid closeOptions argument to db.delete()");o.isBeingOpened?o.dbReadyPromise.then(b):b()})},Mt.prototype.backendDB=function(){return this.idbdb},Mt.prototype.isOpen=function(){return this.idbdb!==null},Mt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Mt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Mt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Mt.prototype,"tables",{get:function(){var l=this;return N(this._allTables).map(function(r){return l._allTables[r]})},enumerable:!1,configurable:!0}),Mt.prototype.transaction=function(){var l=(function(r,s,o){var h=arguments.length;if(h<2)throw new be.InvalidArgument("Too few arguments");for(var p=new Array(h-1);--h;)p[h-1]=arguments[h];return o=p.pop(),[r,pt(p),o]}).apply(this,arguments);return this._transaction.apply(this,l)},Mt.prototype._transaction=function(l,r,s){var o=this,h=we.trans;h&&h.db===this&&l.indexOf("!")===-1||(h=null);var p,b,_=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(b=r.map(function(M){if(M=M instanceof o.Table?M.name:M,typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),l=="r"||l===na)p=na;else{if(l!="rw"&&l!=pa)throw new be.InvalidArgument("Invalid transaction mode: "+l);p=pa}if(h){if(h.mode===na&&p===pa){if(!_)throw new be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&b.forEach(function(M){if(h&&h.storeNames.indexOf(M)===-1){if(!_)throw new be.SubTransaction("Table "+M+" not included in parent transaction.");h=null}}),_&&h&&!h.active&&(h=null)}}catch(M){return h?h._promise(null,function(B,T){T(M)}):xt(M)}var j=(function M(B,T,q,A,k){return xe.resolve().then(function(){var U=we.transless||we,H=B._createTransaction(T,q,B._dbSchema,A);if(H.explicit=!0,U={trans:H,transless:U},A)H.idbtrans=A.idbtrans;else try{H.create(),H.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(W){return W.name===nt.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return M(B,T,q,null,k)})):xt(W)}var Y,Q=O(k);return Q&&Bt(),U=xe.follow(function(){var W;(Y=k.call(H,H))&&(Q?(W=bn.bind(null,null),Y.then(W,W)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=ni(Y)))},U),(Y&&typeof Y.then=="function"?xe.resolve(Y).then(function(W){return H.active?W:xt(new be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):U.then(function(){return Y})).then(function(W){return A&&H._resolve(),H._completion.then(function(){return W})}).catch(function(W){return H._reject(W),xt(W)})})}).bind(null,this,p,b,h,s);return h?h._promise(p,j,"lock"):we.trans?Dn(we.transless,function(){return o._whenReady(j)}):this._whenReady(j)},Mt.prototype.table=function(l){if(!L(this._allTables,l))throw new be.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},Mt);function Mt(l,r){var s=this;this._middlewares={},this.verno=0;var o=Mt.dependencies;this._options=r=d({addons:Mt.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange,cache:"cloned"},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},o=r.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,p,b,_,j,M={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Se,dbReadyPromise:null,cancelOpen:Se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:r.autoOpen};M.dbReadyPromise=new xe(function(T){M.dbReadyResolve=T}),M.openCanceller=new xe(function(T,q){M.cancelOpen=q}),this._state=M,this.name=l,this.on=$l(this,"populate","blocked","versionchange","close",{ready:[En,Se]}),this.once=function(T,q){var A=function(){for(var k=[],U=0;U<arguments.length;U++)k[U]=arguments[U];s.on(T).unsubscribe(A),q.apply(s,k)};return s.on(T,A)},this.on.ready.subscribe=he(this.on.ready.subscribe,function(T){return function(q,A){Mt.vip(function(){var k,U=s._state;U.openComplete?(U.dbOpenError||xe.resolve().then(q),A&&T(q)):U.onReadyBeingFired?(U.onReadyBeingFired.push(q),A&&T(q)):(T(q),k=s,A||T(function H(){k.on.ready.unsubscribe(q),k.on.ready.unsubscribe(H)}))})}}),this.Collection=(h=this,Ft(Bs.prototype,function(Y,H){this.db=h;var A=yr,k=null;if(H)try{A=H()}catch(Q){k=Q}var U=Y._ctx,H=U.table,Y=H.hook.reading.fire;this._ctx={table:H,index:U.index,isPrimKey:!U.index||H.schema.primKey.keyPath&&U.index===H.schema.primKey.name,range:A,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:k,or:U.or,valueMapper:Y!==Fe?Y:null}})),this.Table=(p=this,Ft(gr.prototype,function(T,q,A){this.db=p,this._tx=A,this.name=T,this.schema=q,this.hook=p._allTables[T]?p._allTables[T].hook:$l(null,{creating:[dt,Se],reading:[Ie,Fe],updating:[gn,Se],deleting:[dn,Se]})})),this.Transaction=(b=this,Ft(_r.prototype,function(T,q,A,k,U){var H=this;T!=="readonly"&&q.forEach(function(Y){Y=(Y=A[Y])===null||Y===void 0?void 0:Y.yProps,Y&&(q=q.concat(Y.map(function(Q){return Q.updatesTable})))}),this.db=b,this.mode=T,this.storeNames=q,this.schema=A,this.chromeTransactionDurability=k,this.idbtrans=null,this.on=$l(this,"complete","error","abort"),this.parent=U||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xe(function(Y,Q){H._resolve=Y,H._reject=Q}),this._completion.then(function(){H.active=!1,H.on.complete.fire()},function(Y){var Q=H.active;return H.active=!1,H.on.error.fire(Y),H.parent?H.parent._reject(Y):Q&&H.idbtrans&&H.idbtrans.abort(),xt(Y)})})),this.Version=(_=this,Ft(qs.prototype,function(T){this.db=_,this._cfg={version:T,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,Ft(Oa.prototype,function(T,q,A){if(this.db=j,this._ctx={table:T,index:q===":id"?null:q,or:A},this._cmp=this._ascending=Pe,this._descending=function(k,U){return Pe(U,k)},this._max=function(k,U){return 0<Pe(k,U)?k:U},this._min=function(k,U){return Pe(k,U)<0?k:U},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new be.MissingAPI})),this.on("versionchange",function(T){0<T.newVersion?console.warn("Another connection wants to upgrade database '".concat(s.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(s.name,"'. Closing db now to resume the delete request.")),s.close({disableAutoOpen:!1})}),this.on("blocked",function(T){!T.newVersion||T.newVersion<T.oldVersion?console.warn("Dexie.delete('".concat(s.name,"') was blocked")):console.warn("Upgrade '".concat(s.name,"' blocked by other connection holding version ").concat(T.oldVersion/10))}),this._maxKey=ol(r.IDBKeyRange),this._createTransaction=function(T,q,A,k){return new s.Transaction(T,q,A,s._options.chromeTransactionDurability,k)},this._fireOnBlocked=function(T){s.on("blocked").fire(T),Ca.filter(function(q){return q.name===s.name&&q!==s&&!q._state.vcFired}).map(function(q){return q.on("versionchange").fire(T)})},this.use(Mu),this.use(Ki),this.use(Ys),this.use(Ls),this.use(Cu);var B=new Proxy(this,{get:function(T,q,A){if(q==="_vip")return!0;if(q==="table")return function(U){return li(s.table(U),B)};var k=Reflect.get(T,q,A);return k instanceof gr?li(k,B):q==="tables"?k.map(function(U){return li(U,B)}):q==="_createTransaction"?function(){return li(k.apply(this,arguments),B)}:k}});this.vip=B,o.forEach(function(T){return T(s)})}var ml,Sn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",zu=(Li.prototype.subscribe=function(l,r,s){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:r,complete:s})},Li.prototype[Sn]=function(){return this},Li);function Li(l){this._subscribe=l}try{ml={indexedDB:w.indexedDB||w.mozIndexedDB||w.webkitIndexedDB||w.msIndexedDB,IDBKeyRange:w.IDBKeyRange||w.webkitIDBKeyRange}}catch{ml={indexedDB:null,IDBKeyRange:null}}function Du(l){var r,s=!1,o=new zu(function(h){var p=O(l),b,_=!1,j={},M={},B={get closed(){return _},unsubscribe:function(){_||(_=!0,b&&b.abort(),T&&It.storagemutated.unsubscribe(A))}};h.start&&h.start(B);var T=!1,q=function(){return ma(k)},A=function(U){ki(j,U),Mr(M,j)&&q()},k=function(){var U,H,Y;!_&&ml.indexedDB&&(j={},U={},b&&b.abort(),b=new AbortController,Y=(function(Q){var W=fa();try{p&&Bt();var ae=Nt(l,Q);return ae=p?ae.finally(bn):ae}finally{W&&Yn()}})(H={subscr:U,signal:b.signal,requery:q,querier:l,trans:null}),Promise.resolve(Y).then(function(Q){s=!0,r=Q,_||H.signal.aborted||(j={},(function(W){for(var ae in W)if(L(W,ae))return;return 1})(M=U)||T||(It(ul,A),T=!0),ma(function(){return!_&&h.next&&h.next(Q)}))},function(Q){s=!1,["DatabaseClosedError","AbortError"].includes(Q?.name)||_||ma(function(){_||h.error&&h.error(Q)})}))};return setTimeout(q,0),B});return o.hasValue=function(){return s},o.getValue=function(){return r},o}var Ha=Vn;function kr(l){var r=ba;try{ba=!0,It.storagemutated.fire(l),zr(l,!0)}finally{ba=r}}I(Ha,d(d({},De),{delete:function(l){return new Ha(l,{addons:[]}).delete()},exists:function(l){return new Ha(l,{addons:[]}).open().then(function(r){return r.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return r=Ha.dependencies,s=r.indexedDB,r=r.IDBKeyRange,(Di(s)?Promise.resolve(s.databases()).then(function(o){return o.map(function(h){return h.name}).filter(function(h){return h!==Vl})}):Tr(s,r).toCollection().primaryKeys()).then(l)}catch{return xt(new be.MissingAPI)}var r,s},defineClass:function(){return function(l){C(this,l)}},ignoreTransaction:function(l){return we.trans?Dn(we.transless,l):l()},vip:jr,async:function(l){return function(){try{var r=ni(l.apply(this,arguments));return r&&typeof r.then=="function"?r:xe.resolve(r)}catch(s){return xt(s)}}},spawn:function(l,r,s){try{var o=ni(l.apply(s,r||[]));return o&&typeof o.then=="function"?o:xe.resolve(o)}catch(h){return xt(h)}},currentTransaction:{get:function(){return we.trans||null}},waitFor:function(l,r){return r=xe.resolve(typeof l=="function"?Ha.ignoreTransaction(l):l).timeout(r||6e4),we.trans?we.trans.waitFor(r):r},Promise:xe,debug:{get:function(){return yt},set:function(l){hn(l)}},derive:J,extend:C,props:I,override:he,Events:$l,on:It,liveQuery:Du,extendObservabilitySet:ki,getByKeyPath:ce,setByKeyPath:re,delByKeyPath:function(l,r){typeof r=="string"?re(l,r,void 0):"length"in r&&[].map.call(r,function(s){re(l,s,void 0)})},shallowClone:Qe,deepClone:ot,getObjectDiff:Bi,cmp:Pe,asap:Ae,minKey:-1/0,addons:[],connections:Ca,errnames:nt,dependencies:ml,cache:Ua,semVer:"4.2.1",version:"4.2.1".split(".").map(function(l){return parseInt(l)}).reduce(function(l,r,s){return l+r/Math.pow(10,2*s)})})),Ha.maxKey=ol(Ha.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(It(ul,function(l){ba||(l=new CustomEvent(Da,{detail:l}),ba=!0,dispatchEvent(l),ba=!1)}),addEventListener(Da,function(l){l=l.detail,ba||kr(l)}));var pl,ba=!1,vn=function(){};return typeof BroadcastChannel<"u"&&((vn=function(){(pl=new BroadcastChannel(Da)).onmessage=function(l){return l.data&&kr(l.data)}})(),typeof pl.unref=="function"&&pl.unref(),It(ul,function(l){ba||pl.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Vn.disableBfCache&&l.persisted){yt&&console.debug("Dexie: handling persisted pagehide"),pl?.close();for(var r=0,s=Ca;r<s.length;r++)s[r].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Vn.disableBfCache&&l.persisted&&(yt&&console.debug("Dexie: handling persisted pageshow"),vn(),kr({all:new en(-1/0,[[]])}))})),xe.rejectionMapper=function(l,r){return!l||l instanceof me||l instanceof TypeError||l instanceof SyntaxError||!l.name||!ee[l.name]?l:(r=new ee[l.name](r||l.message,l),"stack"in l&&P(r,"stack",{get:function(){return this.inner.stack}}),r)},hn(yt),d(Vn,Object.freeze({__proto__:null,Dexie:Vn,liveQuery:Du,Entity:xu,cmp:Pe,PropModification:rl,replacePrefix:function(l,r){return new rl({replacePrefix:[l,r]})},add:function(l){return new rl({add:l})},remove:function(l){return new rl({remove:l})},default:Vn,RangeSet:en,mergeRanges:ka,rangesOverlap:Tu}),{default:Vn}),Vn})})(Ds)),Ds.exports}var Sv=xv();const Hc=pm(Sv),rm=Symbol.for("Dexie"),hr=globalThis[rm]||(globalThis[rm]=Hc);if(Hc.semVer!==hr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Hc.semVer} and ${hr.semVer}`);const{liveQuery:Zy,mergeRanges:Jy,rangesOverlap:$y,RangeSet:Wy,cmp:Py,Entity:Fy,PropModification:Iy,replacePrefix:e0,add:t0,remove:n0,DexieYProvider:a0}=hr;class _v extends hr{projects;constructor(){super("KueStudioDB"),this.version(1).stores({projects:"id, name, createdAt"})}}const dr=new _v;const wv=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ev=g=>g.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,m,d)=>d?d.toUpperCase():m.toLowerCase()),um=g=>{const c=Ev(g);return c.charAt(0).toUpperCase()+c.slice(1)},vm=(...g)=>g.filter((c,m,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===m).join(" ").trim(),Tv=g=>{for(const c in g)if(c.startsWith("aria-")||c==="role"||c==="title")return!0};var jv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nv=Te.forwardRef(({color:g="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:x="",children:w,iconNode:N,...D},C)=>Te.createElement("svg",{ref:C,...jv,width:c,height:c,stroke:g,strokeWidth:d?Number(m)*24/Number(c):m,className:vm("lucide",x),...!w&&!Tv(D)&&{"aria-hidden":"true"},...D},[...N.map(([S,R])=>Te.createElement(S,R)),...Array.isArray(w)?w:[w]]));const it=(g,c)=>{const m=Te.forwardRef(({className:d,...x},w)=>Te.createElement(Nv,{ref:w,iconNode:c,className:vm(`lucide-${wv(um(g))}`,`lucide-${g}`,d),...x}));return m.displayName=um(g),m};const Cv=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Mv=it("arrow-down",Cv);const Av=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ov=it("arrow-left",Av);const zv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dv=it("calendar",zv);const Rv=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],kv=it("camera",Rv);const Uv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ym=it("check",Uv);const Bv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gm=it("chevron-down",Bv);const Hv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qv=it("chevron-right",Hv);const Kv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Lv=it("chevron-up",Kv);const Yv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xv=it("circle-check-big",Yv);const Gv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Lc=it("circle-dot",Gv);const Qv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vv=it("clock",Qv);const Zv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bm=it("copy",Zv);const Jv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$v=it("download",Jv);const Wv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Pv=it("file-braces",Wv);const Fv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Iv=it("file-spreadsheet",Fv);const ey=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xm=it("file-text",ey);const ty=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],kc=it("film",ty);const ny=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],sm=it("grip-vertical",ny);const ay=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ly=it("image-plus",ay);const iy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Sm=it("image",iy);const ry=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],uy=it("music",ry);const sy=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],qc=it("palette",sy);const oy=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],_m=it("pause",oy);const cy=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Yc=it("play",cy);const fy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dy=it("plus",fy);const hy=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],wm=it("scissors",hy);const my=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Uc=it("sparkles",my);const py=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],vy=it("square",py);const yy=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Rs=it("star",yy);const gy=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],by=it("sun",gy);const xy=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xc=it("trash-2",xy);const Sy=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_y=it("triangle-alert",Sy);const wy=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Ey=it("undo-2",wy);const Ty=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jy=it("upload",Ty);const Ny=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Em=it("wand-sparkles",Ny);const Cy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],My=it("x",Cy);function Ay(g,c,m){var d,x;typeof g=="function"?(d=c||[],x=m):(d=[],x=c);var w=el.useRef({hasResult:!1,result:x,error:null}),N=el.useReducer(function(S){return S+1},0);N[0];var D=N[1],C=el.useMemo(function(){var S=typeof g=="function"?g():g;if(!S||typeof S.subscribe!="function")throw g===S?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!w.current.hasResult&&typeof window<"u"&&(typeof S.hasValue!="function"||S.hasValue()))if(typeof S.getValue=="function")w.current.result=S.getValue(),w.current.hasResult=!0;else{var R=S.subscribe(function(L){w.current.result=L,w.current.hasResult=!0});typeof R=="function"?R():R.unsubscribe()}return S},d);if(el.useDebugValue(w.current.result),el.useEffect(function(){var S=C.subscribe(function(R){var L=w.current;(L.error!==null||L.result!==R)&&(L.error=null,L.result=R,L.hasResult=!0,D())},function(R){var L=w.current;L.error!==R&&(L.error=R,D())});return typeof S=="function"?S:S.unsubscribe.bind(S)},d),w.current.error)throw w.current.error;return w.current.result}function Oy(g,c,m){return Ay(function(){return hr.liveQuery(g)},[],m)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(g){var c=hr.DexieYProvider;c&&c.release(g)});const Tm=()=>{const g=Ce(c=>c.toastMessage);return g?y.jsx("div",{className:"fixed bottom-32 left-1/2 -translate-x-1/2 z-50 animate-toast-in",children:y.jsxs("div",{className:"flex items-center gap-2 bg-emerald-500 text-emerald-950 px-4 py-2 rounded-full font-semibold text-sm shadow-lg shadow-emerald-500/30",children:[y.jsx(Xv,{size:16}),g]})}):null};function zy({onOpenProject:g,onCreateProject:c}){const m=Te.useRef(null),d=Oy(()=>dr.projects.orderBy("createdAt").reverse().toArray()),x=N=>{const D=N.target.files?.[0];D&&c(D)},w=async(N,D)=>{D.stopPropagation(),confirm("Seguro que quieres borrar este proyecto?")&&await dr.projects.delete(N)};return y.jsxs("div",{className:"h-screen bg-neon-dark text-white flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,var(--tw-gradient-stops))] from-neon-purple/20 via-black to-black -z-10"}),y.jsx("img",{src:"./logo.png",alt:"KueStudio",className:"w-24 h-24 mb-4 drop-shadow-[0_0_30px_rgba(139,92,246,0.5)]"}),y.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-[0.2em] mb-2 text-transparent bg-clip-text bg-linear-to-r from-white to-neon-purple",children:["KUE",y.jsx("span",{className:"font-light text-white",children:"STUDIO"})]}),y.jsx("p",{className:"text-white/40 font-mono text-sm mb-12 tracking-widest",children:"V2.0.0"}),y.jsx("div",{className:"w-full max-w-2xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8 max-h-[50vh] overflow-y-auto px-4 scrollbar-thin scrollbar-thumb-neon-purple/20",children:!d||d.length===0?y.jsxs("div",{className:"col-span-full text-center text-white/30 py-10 border border-dashed border-white/10 rounded-xl",children:[y.jsx("div",{className:"text-4xl mb-3",children:""}),"Sin proyectos. Crea uno nuevo "]}):d.map(N=>y.jsxs("div",{onClick:()=>g(N),className:"group bg-white/5 border border-white/10 p-4 rounded-xl cursor-pointer hover:bg-white/10 hover:border-neon-purple/50 transition-all relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-linear-to-r from-neon-purple to-pink-500 opacity-70"}),y.jsxs("div",{className:"flex justify-between items-start mb-4 mt-1",children:[y.jsx("div",{className:"p-3 bg-black/40 rounded-lg text-neon-purple",children:y.jsx(uy,{size:20})}),y.jsx("button",{onClick:D=>w(N.id,D),className:"text-white/20 hover:text-red-500 transition-colors p-1",children:y.jsx(Xc,{size:16})})]}),y.jsx("h3",{className:"font-bold text-lg truncate mb-1 text-white group-hover:text-neon-purple transition-colors",children:N.name}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/40",children:[y.jsx(Dv,{size:12}),new Date(N.createdAt).toLocaleDateString()]}),y.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[N.bpm>0&&y.jsxs("span",{className:"text-xs font-mono bg-amber-500/20 text-amber-400 px-2 py-1 rounded",children:[N.bpm," BPM"]}),y.jsxs("span",{className:"text-xs font-mono bg-neon-purple/20 text-neon-purple px-2 py-1 rounded",children:[N.segments?.length||0," Kues"]})]})]},N.id))}),y.jsx("input",{id:"audio-upload",name:"audio-upload",type:"file",ref:m,onChange:x,className:"hidden",accept:"video/*,audio/*"}),y.jsx("button",{onClick:()=>m.current?.click(),className:"group relative px-8 py-4 bg-neon-purple text-black font-bold rounded-full text-lg tracking-wider hover:scale-105 transition-all shadow-[0_0_20px_rgba(139,92,246,0.5)]",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(dy,{size:24,strokeWidth:3}),"NUEVO PROYECTO"]})}),y.jsx(Tm,{})]})}function jm(){const[g,c]=Te.useState(!1),[m,d]=Te.useState(!1),x=Te.useRef(null),w=Ce(ve=>ve.currentTime),N=Ce(ve=>ve.isPlaying),D=Ce(ve=>ve.setIsPlaying),C=Ce(ve=>ve.cutAtPosition),S=Ce(ve=>ve.closeToEnd),R=Ce(ve=>ve.getSegmentNumber),L=Ce(ve=>ve.showToast),I=Te.useCallback(()=>{c(!1),x.current=setTimeout(()=>{c(!0),navigator.vibrate&&navigator.vibrate(100),d(!0)},1500)},[]),oe=Te.useCallback(()=>{if(x.current&&(clearTimeout(x.current),x.current=null),g){c(!1);return}const ve=C(w);if(ve){const ie=R(ve.id);L(`Kue #${ie} creado`),N||D(!0)}},[g,w,C,R,L,N,D]),P=Te.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),c(!1)},[]),J=Te.useCallback(ve=>{if(d(!1),ve){const ie=S();if(ie){const je=R(ie.id);L(`Kue #${je} cerrado hasta el final`)}else L("Ya est cerrado hasta el final")}},[S,R,L]);return Te.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),{isLongPressing:g,showCloseConfirm:m,handlePress:I,handleRelease:oe,handleCancel:P,handleCloseConfirm:J}}const Dy=()=>{const g=Te.useRef(null),{videoUrl:c,isPlaying:m,setIsPlaying:d,setCurrentTime:x,currentTime:w,setDuration:N}=Ce();Te.useEffect(()=>{g.current&&(m?g.current.play().catch(()=>d(!1)):g.current.pause())},[m,d]),Te.useEffect(()=>{g.current&&Math.abs(g.current.currentTime-w)>.5&&(g.current.currentTime=w)},[w]);const D=()=>{g.current&&x(g.current.currentTime)},C=()=>{g.current&&N(g.current.duration)};return c?y.jsxs("div",{className:"relative w-full aspect-video bg-black rounded-lg overflow-hidden border border-neon-purple shadow-[0_0_20px_rgba(139,92,246,0.2)]",children:[y.jsx("video",{ref:g,src:c,className:"w-full h-full object-contain",onTimeUpdate:D,onLoadedMetadata:C,onEnded:()=>d(!1),onPlay:()=>d(!0),onPause:()=>d(!1)}),y.jsx("div",{className:"absolute top-2 right-2 font-mono text-xs text-neon-purple bg-black/50 px-2 py-1 rounded",children:"REC"})]}):y.jsx("div",{className:"w-full aspect-video bg-black flex items-center justify-center border border-neon-purple/30 rounded-lg shadow-[0_0_15px_rgba(139,92,246,0.1)]",children:y.jsx("p",{className:"text-sm font-bold tracking-widest text-white/40 uppercase",children:"SIN SEAL"})})},Ry=()=>{const{segments:g,currentTime:c,isPlaying:m,setIsPlaying:d}=Ce(),[x,w]=Te.useState(null),[N,D]=Te.useState(-1),[C,S]=Te.useState(!1),R=Te.useRef(0);Te.useEffect(()=>{const P=g.findIndex(J=>c>=J.start&&c<J.end);P!==N&&(D(P),P>=0&&g[P]?.thumbnail?w(g[P].thumbnail):w(null))},[c,g,N]),Te.useEffect(()=>{N>=g.length&&(D(-1),w(null))},[g.length,N]);const L=()=>{const P=Date.now();P-R.current<300&&(d(!m),S(!0),setTimeout(()=>S(!1),600)),R.current=P},I=g.some(P=>P.thumbnail),oe=N>=0&&N<g.length?g[N]:null;return y.jsxs("div",{className:"w-full h-full bg-black flex items-center justify-center relative overflow-hidden cursor-pointer select-none",onClick:L,onTouchEnd:L,children:[x?y.jsx("img",{src:x,alt:`Storyboard frame ${N+1}`,className:"w-full h-full object-contain animate-fade-in pointer-events-none"},x):y.jsxs("div",{className:"flex flex-col items-center justify-center text-white/30 gap-4 pointer-events-none",children:[y.jsx(Sm,{size:48,strokeWidth:1}),I?y.jsx("p",{className:"text-sm font-mono",children:m?"Sin imagen en este segmento":"Doble-tap para play"}):y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-sm font-bold tracking-widest text-white/40 uppercase",children:"STORYBOARD"}),y.jsx("p",{className:"text-xs text-white/20 mt-1",children:"Sube imgenes a los Kues"}),y.jsx("p",{className:"text-xs text-white/40 mt-3",children:" Doble-tap para play/pause"})]})]}),C&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none animate-fade-in",children:y.jsx("div",{className:"p-6 bg-black/60 rounded-full backdrop-blur-sm",children:m?y.jsx(Yc,{size:48,className:"text-white",fill:"white"}):y.jsx(_m,{size:48,className:"text-white",fill:"white"})})}),oe&&y.jsxs("div",{className:"absolute bottom-4 left-4 font-mono text-xs bg-black/70 text-neon-purple px-3 py-1 rounded-full backdrop-blur-sm flex items-center gap-2 pointer-events-none",children:[y.jsx("span",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:oe.color||"#8b5cf6"}}),"KUE #",N+1]}),oe&&y.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/10 pointer-events-none",children:y.jsx("div",{className:"h-full transition-all duration-100",style:{width:`${Math.min(100,Math.max(0,(c-oe.start)/(oe.end-oe.start)*100))}%`,backgroundColor:oe.color||"#8b5cf6"}})})]})};function wn(g,c,m,d){return new(m||(m=Promise))((function(x,w){function N(S){try{C(d.next(S))}catch(R){w(R)}}function D(S){try{C(d.throw(S))}catch(R){w(R)}}function C(S){var R;S.done?x(S.value):(R=S.value,R instanceof m?R:new m((function(L){L(R)}))).then(N,D)}C((d=d.apply(g,c||[])).next())}))}class gu{constructor(){this.listeners={}}on(c,m,d){if(this.listeners[c]||(this.listeners[c]=new Set),d?.once){const x=(...w)=>{this.un(c,x),m(...w)};return this.listeners[c].add(x),()=>this.un(c,x)}return this.listeners[c].add(m),()=>this.un(c,m)}un(c,m){var d;(d=this.listeners[c])===null||d===void 0||d.delete(m)}once(c,m){return this.on(c,m,{once:!0})}unAll(){this.listeners={}}emit(c,...m){this.listeners[c]&&this.listeners[c].forEach((d=>d(...m)))}}const zs={decode:function(g,c){return wn(this,void 0,void 0,(function*(){const m=new AudioContext({sampleRate:c});try{return yield m.decodeAudioData(g)}finally{m.close()}}))},createBuffer:function(g,c){if(!g||g.length===0)throw new Error("channelData must be a non-empty array");if(c<=0)throw new Error("duration must be greater than 0");if(typeof g[0]=="number"&&(g=[g]),!g[0]||g[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(d){const x=d[0];if(x.some((w=>w>1||w<-1))){const w=x.length;let N=0;for(let D=0;D<w;D++){const C=Math.abs(x[D]);C>N&&(N=C)}for(const D of d)for(let C=0;C<w;C++)D[C]/=N}})(g);const m=g.map((d=>d instanceof Float32Array?d:Float32Array.from(d)));return{duration:c,length:m[0].length,sampleRate:m[0].length/c,numberOfChannels:m.length,getChannelData:d=>{const x=m[d];if(!x)throw new Error(`Channel ${d} not found`);return x},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Nm(g,c){const m=c.xmlns?document.createElementNS(c.xmlns,g):document.createElement(g);for(const[d,x]of Object.entries(c))if(d==="children"&&x)for(const[w,N]of Object.entries(x))N instanceof Node?m.appendChild(N):typeof N=="string"?m.appendChild(document.createTextNode(N)):m.appendChild(Nm(w,N));else d==="style"?Object.assign(m.style,x):d==="textContent"?m.textContent=x:m.setAttribute(d,x.toString());return m}function om(g,c,m){const d=Nm(g,c||{});return m?.appendChild(d),d}var ky=Object.freeze({__proto__:null,createElement:om,default:om});const Uy={fetchBlob:function(g,c,m){return wn(this,void 0,void 0,(function*(){const d=yield fetch(g,m);if(d.status>=400)throw new Error(`Failed to fetch ${g}: ${d.status} (${d.statusText})`);return(function(x,w){wn(this,void 0,void 0,(function*(){if(!x.body||!x.headers)return;const N=x.body.getReader(),D=Number(x.headers.get("Content-Length"))||0;let C=0;const S=R=>{C+=R?.length||0;const L=Math.round(C/D*100);w(L)};try{for(;;){const R=yield N.read();if(R.done)break;S(R.value)}}catch(R){console.warn("Progress tracking error:",R)}}))})(d.clone(),c),d.blob()}))}};function Lt(g){let c=g;const m=new Set;return{get value(){return c},set(d){Object.is(c,d)||(c=d,m.forEach((x=>x(c))))},update(d){this.set(d(c))},subscribe:d=>(m.add(d),()=>m.delete(d))}}function gi(g,c){const m=Lt(g());return c.forEach((d=>d.subscribe((()=>{const x=g();Object.is(m.value,x)||m.set(x)})))),{get value(){return m.value},subscribe:d=>m.subscribe(d)}}function Hl(g,c){let m;const d=()=>{m&&(m(),m=void 0),m=g()},x=c.map((w=>w.subscribe(d)));return d(),()=>{m&&(m(),m=void 0),x.forEach((w=>w()))}}class By extends gu{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(c){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],c.media?(this.media=c.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=Lt(!1),this._currentTime=Lt(0),this._duration=Lt(0),this._volume=Lt(this.media.volume),this._muted=Lt(this.media.muted),this._playbackRate=Lt(this.media.playbackRate||1),this._seeking=Lt(!1),this.setupReactiveMediaEvents(),c.mediaControls&&(this.media.controls=!0),c.autoplay&&(this.media.autoplay=!0),c.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{c.playbackRate!=null&&(this.media.playbackRate=c.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(c,m,d){return this.media.addEventListener(c,m,d),()=>this.media.removeEventListener(c,m,d)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const c=this.getSrc();c.startsWith("blob:")&&URL.revokeObjectURL(c)}canPlayType(c){return this.media.canPlayType(c)!==""}setSrc(c,m){const d=this.getSrc();if(c&&d===c)return;this.revokeSrc();const x=m instanceof Blob&&(this.canPlayType(m.type)||!c)?URL.createObjectURL(m):c;if(d&&this.media.removeAttribute("src"),x||c)try{this.media.src=x}catch{this.media.src=c}}destroy(){this.reactiveMediaEventCleanups.forEach((c=>c())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(c){this.reactiveMediaEventCleanups.forEach((m=>m())),this.reactiveMediaEventCleanups=[],this.media=c,this.setupReactiveMediaEvents()}play(){return wn(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(c){if(c instanceof DOMException&&c.name==="AbortError")return;throw c}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(c){this.media.currentTime=Math.max(0,Math.min(c,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(c){this.media.volume=c}getMuted(){return this.media.muted}setMuted(c){this.media.muted=c}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(c,m){m!=null&&(this.media.preservesPitch=m),this.media.playbackRate=c}getMediaElement(){return this.media}setSinkId(c){return this.media.setSinkId(c)}}function Hy({maxTop:g,maxBottom:c,halfHeight:m,vScale:d,barMinHeight:x=0,barAlign:w}){let N=Math.round(g*m*d),D=N+Math.round(c*m*d)||1;return D<x&&(D=x,w||(N=D/2)),{topHeight:N,totalHeight:D}}function qy({barAlign:g,halfHeight:c,topHeight:m,totalHeight:d,canvasHeight:x}){return g==="top"?0:g==="bottom"?x-d:c-m}function cm(g,c,m){const d=c-g.left,x=m-g.top;return[d/g.width,x/g.height]}function Cm(g){return!!(g.barWidth||g.barGap||g.barAlign)}function fm(g,c){if(!Cm(c))return g;const m=c.barWidth||.5,d=m+(c.barGap||m/2);return d===0?g:Math.floor(g/d)*d}function dm({scrollLeft:g,totalWidth:c,numCanvases:m}){if(c===0)return[0];const d=g/c,x=Math.floor(d*m);return[x-1,x,x+1]}function Mm(g){const c=g._cleanup;typeof c=="function"&&c()}function Ky(g){const c=Lt({scrollLeft:g.scrollLeft,scrollWidth:g.scrollWidth,clientWidth:g.clientWidth}),m=gi((()=>(function(w){const{scrollLeft:N,scrollWidth:D,clientWidth:C}=w;if(D===0)return{startX:0,endX:1};const S=N/D,R=(N+C)/D;return{startX:Math.max(0,Math.min(1,S)),endX:Math.max(0,Math.min(1,R))}})(c.value)),[c]),d=gi((()=>(function(w){return{left:w.scrollLeft,right:w.scrollLeft+w.clientWidth}})(c.value)),[c]),x=()=>{c.set({scrollLeft:g.scrollLeft,scrollWidth:g.scrollWidth,clientWidth:g.clientWidth})};return g.addEventListener("scroll",x,{passive:!0}),{scrollData:c,percentages:m,bounds:d,cleanup:()=>{g.removeEventListener("scroll",x),Mm(c)}}}class Ly extends gu{constructor(c,m){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=c;const d=this.parentFromOptionsContainer(c.container);this.parent=d;const[x,w]=this.initHtml();d.appendChild(x),this.container=x,this.scrollContainer=w.querySelector(".scroll"),this.wrapper=w.querySelector(".wrapper"),this.canvasWrapper=w.querySelector(".canvases"),this.progressWrapper=w.querySelector(".progress"),this.cursor=w.querySelector(".cursor"),m&&w.appendChild(m),this.initEvents()}parentFromOptionsContainer(c){let m;if(typeof c=="string"?m=document.querySelector(c):c instanceof HTMLElement&&(m=c),!m)throw new Error("Container not found");return m}initEvents(){this.wrapper.addEventListener("click",(m=>{const d=this.wrapper.getBoundingClientRect(),[x,w]=cm(d,m.clientX,m.clientY);this.emit("click",x,w)})),this.wrapper.addEventListener("dblclick",(m=>{const d=this.wrapper.getBoundingClientRect(),[x,w]=cm(d,m.clientX,m.clientY);this.emit("dblclick",x,w)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollStream=Ky(this.scrollContainer);const c=Hl((()=>{const{startX:m,endX:d}=this.scrollStream.percentages.value,{left:x,right:w}=this.scrollStream.bounds.value;this.emit("scroll",m,d,x,w)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(c),typeof ResizeObserver=="function"){const m=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{m().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const c=this.parent.clientWidth;c===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=c,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=(function(m,d={}){const{threshold:x=3,mouseButton:w=0,touchDelay:N=100}=d,D=Lt(null),C=new Map,S=matchMedia("(pointer: coarse)").matches;let R=()=>{};const L=I=>{if(I.button!==w||(C.set(I.pointerId,I),C.size>1))return;let oe=I.clientX,P=I.clientY,J=!1;const ve=Date.now(),ie=m.getBoundingClientRect(),{left:je,top:he}=ie,Ne=Re=>{if(Re.defaultPrevented||C.size>1||S&&Date.now()-ve<N)return;const pt=Re.clientX,vt=Re.clientY,st=pt-oe,ot=vt-P;(J||Math.abs(st)>x||Math.abs(ot)>x)&&(Re.preventDefault(),Re.stopPropagation(),J||(D.set({type:"start",x:oe-je,y:P-he}),J=!0),D.set({type:"move",x:pt-je,y:vt-he,deltaX:st,deltaY:ot}),oe=pt,P=vt)},Ae=Re=>{if(C.delete(Re.pointerId),J){const pt=Re.clientX,vt=Re.clientY;D.set({type:"end",x:pt-je,y:vt-he})}R()},ce=Re=>{C.delete(Re.pointerId),Re.relatedTarget&&Re.relatedTarget!==document.documentElement||Ae(Re)},re=Re=>{J&&(Re.stopPropagation(),Re.preventDefault())},Qe=Re=>{Re.defaultPrevented||C.size>1||J&&Re.preventDefault()};document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Ae),document.addEventListener("pointerout",ce),document.addEventListener("pointercancel",ce),document.addEventListener("touchmove",Qe,{passive:!1}),document.addEventListener("click",re,{capture:!0}),R=()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Ae),document.removeEventListener("pointerout",ce),document.removeEventListener("pointercancel",ce),document.removeEventListener("touchmove",Qe),setTimeout((()=>{document.removeEventListener("click",re,{capture:!0})}),10)}};return m.addEventListener("pointerdown",L),{signal:D,cleanup:()=>{R(),m.removeEventListener("pointerdown",L),C.clear(),Mm(D)}}})(this.wrapper);const c=Hl((()=>{const m=this.dragStream.signal.value;if(!m)return;const d=this.wrapper.getBoundingClientRect().width,x=(w=m.x/d)<0?0:w>1?1:w;var w;m.type==="start"?(this.isDragging=!0,this.emit("dragstart",x)):m.type==="move"?this.emit("drag",x):m.type==="end"&&(this.isDragging=!1,this.emit("dragend",x))}),[this.dragStream.signal]);this.subscriptions.push(c)}initHtml(){const c=document.createElement("div"),m=c.attachShadow({mode:"open"}),d=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return m.innerHTML=`
      <style${d?` nonce="${d}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[c,m]}setOptions(c){if(this.options.container!==c.container){const m=this.parentFromOptionsContainer(c.container);m.appendChild(this.container),this.parent=m}c.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=c,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(c){this.scrollContainer.scrollLeft=c}setScrollPercentage(c){const{scrollWidth:m}=this.scrollContainer,d=m*c;this.setScroll(d)}destroy(){var c;this.subscriptions.forEach((m=>m())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(c=this.unsubscribeOnScroll)===null||c===void 0||c.forEach((m=>m())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(c=10){let m,d;const x=()=>{m&&(clearTimeout(m),m=void 0),d&&(d(),d=void 0)};return this.timeouts.push(x),()=>new Promise(((w,N)=>{x(),d=N,m=setTimeout((()=>{m=void 0,d=void 0,w()}),c)}))}getHeight(c,m){var d;const x=((d=this.audioData)===null||d===void 0?void 0:d.numberOfChannels)||1;return(function({optionsHeight:w,optionsSplitChannels:N,parentHeight:D,numberOfChannels:C,defaultHeight:S=128}){if(w==null)return S;const R=Number(w);if(!isNaN(R))return R;if(w==="auto"){const L=D||S;return N?.every((I=>!I.overlay))?L/C:L}return S})({optionsHeight:c,optionsSplitChannels:m,parentHeight:this.parent.clientHeight,numberOfChannels:x,defaultHeight:128})}convertColorValues(c,m){return(function(d,x,w){if(!Array.isArray(d))return d||"";if(d.length===0)return"#999";if(d.length<2)return d[0]||"";const N=document.createElement("canvas"),D=N.getContext("2d"),C=w??N.height*x,S=D.createLinearGradient(0,0,0,C||x),R=1/(d.length-1);return d.forEach(((L,I)=>{S.addColorStop(I*R,L)})),S})(c,this.getPixelRatio(),m?.canvas.height)}getPixelRatio(){return c=window.devicePixelRatio,Math.max(1,c||1);var c}renderBarWaveform(c,m,d,x){const{width:w,height:N}=d.canvas,{halfHeight:D,barWidth:C,barRadius:S,barIndexScale:R,barSpacing:L,barMinHeight:I}=(function({width:P,height:J,length:ve,options:ie,pixelRatio:je}){const he=J/2,Ne=ie.barWidth?ie.barWidth*je:1,Ae=ie.barGap?ie.barGap*je:ie.barWidth?Ne/2:0,ce=Ne+Ae||1;return{halfHeight:he,barWidth:Ne,barGap:Ae,barRadius:ie.barRadius||0,barMinHeight:ie.barMinHeight?ie.barMinHeight*je:0,barIndexScale:ve>0?P/ce/ve:0,barSpacing:ce}})({width:w,height:N,length:(c[0]||[]).length,options:m,pixelRatio:this.getPixelRatio()}),oe=(function({channelData:P,barIndexScale:J,barSpacing:ve,barWidth:ie,halfHeight:je,vScale:he,canvasHeight:Ne,barAlign:Ae,barMinHeight:ce}){const re=P[0]||[],Qe=P[1]||re,Re=re.length,pt=[];let vt=0,st=0,ot=0;for(let Xe=0;Xe<=Re;Xe++){const Et=Math.round(Xe*J);if(Et>vt){const{topHeight:ze,totalHeight:We}=Hy({maxTop:st,maxBottom:ot,halfHeight:je,vScale:he,barMinHeight:ce,barAlign:Ae}),He=qy({barAlign:Ae,halfHeight:je,topHeight:ze,totalHeight:We,canvasHeight:Ne});pt.push({x:vt*ve,y:He,width:ie,height:We}),vt=Et,st=0,ot=0}const $=Math.abs(re[Xe]||0),ye=Math.abs(Qe[Xe]||0);$>st&&(st=$),ye>ot&&(ot=ye)}return pt})({channelData:c,barIndexScale:R,barSpacing:L,barWidth:C,halfHeight:D,vScale:x,canvasHeight:N,barAlign:m.barAlign,barMinHeight:I});d.beginPath();for(const P of oe)S&&"roundRect"in d?d.roundRect(P.x,P.y,P.width,P.height,S):d.rect(P.x,P.y,P.width,P.height);d.fill(),d.closePath()}renderLineWaveform(c,m,d,x){const{width:w,height:N}=d.canvas,D=(function({channelData:C,width:S,height:R,vScale:L}){const I=R/2,oe=C[0]||[];return[oe,C[1]||oe].map(((P,J)=>{const ve=P.length,ie=ve?S/ve:0,je=I,he=J===0?-1:1,Ne=[{x:0,y:je}];let Ae=0,ce=0;for(let re=0;re<=ve;re++){const Qe=Math.round(re*ie);if(Qe>Ae){const pt=je+(Math.round(ce*I*L)||1)*he;Ne.push({x:Ae,y:pt}),Ae=Qe,ce=0}const Re=Math.abs(P[re]||0);Re>ce&&(ce=Re)}return Ne.push({x:Ae,y:je}),Ne}))})({channelData:c,width:w,height:N,vScale:x});d.beginPath();for(const C of D)if(C.length){d.moveTo(C[0].x,C[0].y);for(let S=1;S<C.length;S++){const R=C[S];d.lineTo(R.x,R.y)}}d.fill(),d.closePath()}renderWaveform(c,m,d){if(d.fillStyle=this.convertColorValues(m.waveColor,d),m.renderFunction)return void m.renderFunction(c,d);const x=(function({channelData:w,barHeight:N,normalize:D,maxPeak:C}){var S;const R=N||1;if(!D)return R;const L=w[0];if(!L||L.length===0)return R;let I=C??0;if(!C)for(let oe=0;oe<L.length;oe++){const P=(S=L[oe])!==null&&S!==void 0?S:0,J=Math.abs(P);J>I&&(I=J)}return I?R/I:R})({channelData:c,barHeight:m.barHeight,normalize:m.normalize,maxPeak:m.maxPeak});Cm(m)?this.renderBarWaveform(c,m,d,x):this.renderLineWaveform(c,m,d,x)}renderSingleCanvas(c,m,d,x,w,N,D){const C=this.getPixelRatio(),S=document.createElement("canvas");S.width=Math.round(d*C),S.height=Math.round(x*C),S.style.width=`${d}px`,S.style.height=`${x}px`,S.style.left=`${Math.round(w)}px`,N.appendChild(S);const R=S.getContext("2d");if(m.renderFunction?(R.fillStyle=this.convertColorValues(m.waveColor,R),m.renderFunction(c,R)):this.renderWaveform(c,m,R),S.width>0&&S.height>0){const L=S.cloneNode(),I=L.getContext("2d");I.drawImage(S,0,0),I.globalCompositeOperation="source-in",I.fillStyle=this.convertColorValues(m.progressColor,I),I.fillRect(0,0,S.width,S.height),D.appendChild(L)}}renderMultiCanvas(c,m,d,x,w,N){const D=this.getPixelRatio(),{clientWidth:C}=this.scrollContainer,S=d/D,R=(function({clientWidth:P,totalWidth:J,options:ve}){return fm(Math.min(8e3,P,J),ve)})({clientWidth:C,totalWidth:S,options:m});let L={};if(R===0)return;const I=P=>{if(P<0||P>=oe||L[P])return;L[P]=!0;const J=P*R;let ve=Math.min(S-J,R);if(ve=fm(ve,m),ve<=0)return;const ie=(function({channelData:je,offset:he,clampedWidth:Ne,totalWidth:Ae}){return je.map((ce=>{const re=Math.floor(he/Ae*ce.length),Qe=Math.floor((he+Ne)/Ae*ce.length);return ce.slice(re,Qe)}))})({channelData:c,offset:J,clampedWidth:ve,totalWidth:S});this.renderSingleCanvas(ie,m,ve,x,J,w,N)},oe=Math.ceil(S/R);if(!this.isScrollable){for(let P=0;P<oe;P++)I(P);return}if(dm({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:S,numCanvases:oe}).forEach((P=>I(P))),oe>1){const P=this.on("scroll",(()=>{const{scrollLeft:J}=this.scrollContainer;Object.keys(L).length>10&&(w.innerHTML="",N.innerHTML="",L={}),dm({scrollLeft:J,totalWidth:S,numCanvases:oe}).forEach((ve=>I(ve)))}));this.unsubscribeOnScroll.push(P)}}renderChannel(c,m,d,x){var{overlay:w}=m,N=(function(R,L){var I={};for(var oe in R)Object.prototype.hasOwnProperty.call(R,oe)&&L.indexOf(oe)<0&&(I[oe]=R[oe]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(oe=Object.getOwnPropertySymbols(R);P<oe.length;P++)L.indexOf(oe[P])<0&&Object.prototype.propertyIsEnumerable.call(R,oe[P])&&(I[oe[P]]=R[oe[P]])}return I})(m,["overlay"]);const D=document.createElement("div"),C=this.getHeight(N.height,N.splitChannels);D.style.height=`${C}px`,w&&x>0&&(D.style.marginTop=`-${C}px`),this.canvasWrapper.style.minHeight=`${C}px`,this.canvasWrapper.appendChild(D);const S=D.cloneNode();this.progressWrapper.appendChild(S),this.renderMultiCanvas(c,N,d,C,D,S)}render(c){return wn(this,void 0,void 0,(function*(){var m;this.timeouts.forEach((S=>S())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const d=this.getPixelRatio(),x=this.scrollContainer.clientWidth,{scrollWidth:w,isScrollable:N,useParentWidth:D,width:C}=(function({duration:S,minPxPerSec:R=0,parentWidth:L,fillParent:I,pixelRatio:oe}){const P=Math.ceil(S*R),J=P>L,ve=!!(I&&!J);return{scrollWidth:P,isScrollable:J,useParentWidth:ve,width:(ve?L:P)*oe}})({duration:c.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:x,fillParent:this.options.fillParent,pixelRatio:d});if(this.isScrollable=N,this.wrapper.style.width=D?"100%":`${w}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=c,this.emit("render"),this.options.splitChannels)for(let S=0;S<c.numberOfChannels;S++){const R=Object.assign(Object.assign({},this.options),(m=this.options.splitChannels)===null||m===void 0?void 0:m[S]);this.renderChannel([c.getChannelData(S)],R,C,S)}else{const S=[c.getChannelData(0)];c.numberOfChannels>1&&S.push(c.getChannelData(1)),this.renderChannel(S,this.options,C,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((d=>d())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:c}=this.scrollContainer,{right:m}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&c!==this.scrollContainer.scrollWidth){const{right:d}=this.progressWrapper.getBoundingClientRect(),x=(function(w){const N=2*w;return(N<0?Math.floor(N):Math.ceil(N))/2})(d-m);this.scrollContainer.scrollLeft+=x}}zoom(c){this.options.minPxPerSec=c,this.reRender()}scrollIntoView(c,m=!1){const{scrollLeft:d,scrollWidth:x,clientWidth:w}=this.scrollContainer,N=c*x,D=d,C=d+w,S=w/2;if(this.isDragging)N+30>C?this.scrollContainer.scrollLeft+=30:N-30<D&&(this.scrollContainer.scrollLeft-=30);else{(N<D||N>C)&&(this.scrollContainer.scrollLeft=N-(this.options.autoCenter?S:0));const R=N-d-S;m&&this.options.autoCenter&&R>0&&(this.scrollContainer.scrollLeft+=R)}}renderProgress(c,m){if(isNaN(c))return;const d=100*c;this.canvasWrapper.style.clipPath=`polygon(${d}% 0%, 100% 0%, 100% 100%, ${d}% 100%)`,this.progressWrapper.style.width=`${d}%`,this.cursor.style.left=`${d}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${c*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(c,m)}exportImage(c,m,d){return wn(this,void 0,void 0,(function*(){const x=this.canvasWrapper.querySelectorAll("canvas");if(!x.length)throw new Error("No waveform data");if(d==="dataURL"){const w=Array.from(x).map((N=>N.toDataURL(c,m)));return Promise.resolve(w)}return Promise.all(Array.from(x).map((w=>new Promise(((N,D)=>{w.toBlob((C=>{C?N(C):D(new Error("Could not export image"))}),c,m)})))))}))}}class Yy extends gu{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const c=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(c))};c()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class Bc extends gu{constructor(c=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=c,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return wn(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(c){if(this.currentSrc=c,this._duration=void 0,!c)return this.buffer=null,void this.emit("emptied");fetch(c).then((m=>{if(m.status>=400)throw new Error(`Failed to fetch ${c}: ${m.status} (${m.statusText})`);return m.arrayBuffer()})).then((m=>this.currentSrc!==c?null:this.audioContext.decodeAudioData(m))).then((m=>{this.currentSrc===c&&(this.buffer=m,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((m=>{console.error("WebAudioPlayer load error:",m)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let c=this.playedDuration*this._playbackRate;(c>=this.duration||c<0)&&(c=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,c),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var c;this.paused=!0,(c=this.bufferNode)===null||c===void 0||c.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return wn(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(c){const m=c-this.currentTime,d=this.bufferNode;d?.stop(this.audioContext.currentTime+m),d?.addEventListener("ended",(()=>{d===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(c){return wn(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(c)}))}get playbackRate(){return this._playbackRate}set playbackRate(c){this._playbackRate=c,this.bufferNode&&(this.bufferNode.playbackRate.value=c)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(c){const m=!this.paused;m&&this._pause(),this.playedDuration=c/this._playbackRate,m&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var c,m;return(c=this._duration)!==null&&c!==void 0?c:((m=this.buffer)===null||m===void 0?void 0:m.duration)||0}set duration(c){this._duration=c}get volume(){return this.gainNode.gain.value}set volume(c){this.gainNode.gain.value=c,this.emit("volumechange")}get muted(){return this._muted}set muted(c){this._muted!==c&&(this._muted=c,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(c){return/^(audio|video)\//.test(c)}getGainNode(){return this.gainNode}getChannelData(){const c=[];if(!this.buffer)return c;const m=this.buffer.numberOfChannels;for(let d=0;d<m;d++)c.push(this.buffer.getChannelData(d));return c}removeAttribute(c){switch(c){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const Xy={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class yu extends By{static create(c){return new yu(c)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(c){const m=c.media||(c.backend==="WebAudio"?new Bc:void 0);super({media:m,mediaControls:c.mediaControls,autoplay:c.autoplay,playbackRate:c.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},Xy,c);const{state:d,actions:x}=(function(D){var C,S,R,L,I,oe;const P=(C=D?.currentTime)!==null&&C!==void 0?C:Lt(0),J=(S=D?.duration)!==null&&S!==void 0?S:Lt(0),ve=(R=D?.isPlaying)!==null&&R!==void 0?R:Lt(!1),ie=(L=D?.isSeeking)!==null&&L!==void 0?L:Lt(!1),je=(I=D?.volume)!==null&&I!==void 0?I:Lt(1),he=(oe=D?.playbackRate)!==null&&oe!==void 0?oe:Lt(1),Ne=Lt(null),Ae=Lt(null),ce=Lt(""),re=Lt(0),Qe=Lt(0),Re=gi((()=>!ve.value),[ve]),pt=gi((()=>Ne.value!==null),[Ne]),vt=gi((()=>pt.value&&J.value>0),[pt,J]),st=gi((()=>P.value),[P]),ot=gi((()=>J.value>0?P.value/J.value:0),[P,J]);return{state:{currentTime:P,duration:J,isPlaying:ve,isPaused:Re,isSeeking:ie,volume:je,playbackRate:he,audioBuffer:Ne,peaks:Ae,url:ce,zoom:re,scrollPosition:Qe,canPlay:pt,isReady:vt,progress:st,progressPercent:ot},actions:{setCurrentTime:Xe=>{const Et=Math.max(0,Math.min(J.value||1/0,Xe));P.set(Et)},setDuration:Xe=>{J.set(Math.max(0,Xe))},setPlaying:Xe=>{ve.set(Xe)},setSeeking:Xe=>{ie.set(Xe)},setVolume:Xe=>{const Et=Math.max(0,Math.min(1,Xe));je.set(Et)},setPlaybackRate:Xe=>{const Et=Math.max(.1,Math.min(16,Xe));he.set(Et)},setAudioBuffer:Xe=>{Ne.set(Xe),Xe&&J.set(Xe.duration)},setPeaks:Xe=>{Ae.set(Xe)},setUrl:Xe=>{ce.set(Xe)},setZoom:Xe=>{re.set(Math.max(0,Xe))},setScrollPosition:Xe=>{Qe.set(Math.max(0,Xe))}}}})({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=d,this.wavesurferActions=x,this.timer=new Yy;const w=m?void 0:this.getMediaElement();this.renderer=new Ly(this.options,w),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const N=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:D,duration:C}=this.options;(N||D&&C)&&this.load(N,D,C).catch((S=>{this.emit("error",S instanceof Error?S:new Error(String(S)))}))}))}updateProgress(c=this.getCurrentTime()){return this.renderer.renderProgress(c/this.getDuration(),this.isPlaying()),c}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const c=this.updateProgress();this.emit("timeupdate",c),this.emit("audioprocess",c),this.stopAtPosition!=null&&this.isPlaying()&&c>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push((function(c,m){const d=[];d.push(Hl((()=>{const N=c.isPlaying.value;m.emit(N?"play":"pause")}),[c.isPlaying])),d.push(Hl((()=>{const N=c.currentTime.value;m.emit("timeupdate",N),c.isPlaying.value&&m.emit("audioprocess",N)}),[c.currentTime,c.isPlaying])),d.push(Hl((()=>{c.isSeeking.value&&m.emit("seeking",c.currentTime.value)}),[c.isSeeking,c.currentTime]));let x=!1;d.push(Hl((()=>{c.isReady.value&&!x&&(x=!0,m.emit("ready",c.duration.value))}),[c.isReady,c.duration]));let w=!1;return d.push(Hl((()=>{const N=c.isPlaying.value,D=c.currentTime.value,C=c.duration.value,S=C>0&&D>=C;w&&!N&&S&&m.emit("finish"),w=N&&S}),[c.isPlaying,c.currentTime,c.duration])),d.push(Hl((()=>{const N=c.zoom.value;N>0&&m.emit("zoom",N)}),[c.zoom])),()=>{d.forEach((N=>N()))}})(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const c=this.updateProgress();this.emit("timeupdate",c)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var c;this.emit("error",(c=this.getMediaElement().error)!==null&&c!==void 0?c:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((c,m)=>{this.options.interact&&(this.seekTo(c),this.emit("interaction",c*this.getDuration()),this.emit("click",c,m))})),this.renderer.on("dblclick",((c,m)=>{this.emit("dblclick",c,m)})),this.renderer.on("scroll",((c,m,d,x)=>{const w=this.getDuration();this.emit("scroll",c*w,m*w,d,x)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(c=>{this.emit("dragstart",c)})),this.renderer.on("dragend",(c=>{this.emit("dragend",c)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let c;const m=this.renderer.on("drag",(d=>{var x;if(!this.options.interact)return;this.renderer.renderProgress(d),clearTimeout(c);let w=0;const N=this.options.dragToSeek;this.isPlaying()?w=0:N===!0?w=200:N&&typeof N=="object"&&(w=(x=N.debounceTime)!==null&&x!==void 0?x:200),c=setTimeout((()=>{this.seekTo(d)}),w),this.emit("interaction",d*this.getDuration()),this.emit("drag",d)}));this.subscriptions.push((()=>{clearTimeout(c),m()}))}}initPlugins(){var c;!((c=this.options.plugins)===null||c===void 0)&&c.length&&this.options.plugins.forEach((m=>{this.registerPlugin(m)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((c=>c())),this.mediaSubscriptions=[]}setOptions(c){this.options=Object.assign({},this.options,c),c.duration&&!c.peaks&&(this.decodedData=zs.createBuffer(this.exportPeaks(),c.duration)),c.peaks&&c.duration&&(this.decodedData=zs.createBuffer(c.peaks,c.duration)),this.renderer.setOptions(this.options),c.audioRate&&this.setPlaybackRate(c.audioRate),c.mediaControls!=null&&(this.getMediaElement().controls=c.mediaControls)}registerPlugin(c){if(this.plugins.includes(c))return c;c._init(this),this.plugins.push(c);const m=c.once("destroy",(()=>{this.plugins=this.plugins.filter((d=>d!==c)),this.subscriptions=this.subscriptions.filter((d=>d!==m))}));return this.subscriptions.push(m),c}unregisterPlugin(c){this.plugins=this.plugins.filter((m=>m!==c)),c.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(c){return this.renderer.setScroll(c)}setScrollTime(c){const m=c/this.getDuration();this.renderer.setScrollPercentage(m)}getActivePlugins(){return this.plugins}loadAudio(c,m,d,x){return wn(this,void 0,void 0,(function*(){var w;if(this.emit("load",c),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(w=this.abortController)===null||w===void 0||w.abort(),this.abortController=null,!m&&!d){const D=this.options.fetchParams||{};window.AbortController&&!D.signal&&(this.abortController=new AbortController,D.signal=this.abortController.signal);const C=R=>this.emit("loading",R);m=yield Uy.fetchBlob(c,C,D);const S=this.options.blobMimeType;S&&(m=new Blob([m],{type:S}))}this.setSrc(c,m);const N=yield new Promise((D=>{const C=x||this.getDuration();C?D(C):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>D(this.getDuration())),{once:!0}))}));if(!c&&!m){const D=this.getMediaElement();D instanceof Bc&&(D.duration=N)}if(d)this.decodedData=zs.createBuffer(d,N||0);else if(m){const D=yield m.arrayBuffer();this.decodedData=yield zs.decode(D,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(c,m,d){return wn(this,void 0,void 0,(function*(){try{return yield this.loadAudio(c,void 0,m,d)}catch(x){throw this.emit("error",x),x}}))}loadBlob(c,m,d){return wn(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",c,m,d)}catch(x){throw this.emit("error",x),x}}))}zoom(c){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(c),this.emit("zoom",c)}getDecodedData(){return this.decodedData}exportPeaks({channels:c=2,maxLength:m=8e3,precision:d=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const x=Math.min(c,this.decodedData.numberOfChannels),w=[];for(let N=0;N<x;N++){const D=this.decodedData.getChannelData(N),C=[],S=D.length/m;for(let R=0;R<m;R++){const L=D.slice(Math.floor(R*S),Math.ceil((R+1)*S));let I=0;for(let oe=0;oe<L.length;oe++){const P=L[oe];Math.abs(P)>Math.abs(I)&&(I=P)}C.push(Math.round(I*d)/d)}w.push(C)}return w}getDuration(){let c=super.getDuration()||0;return c!==0&&c!==1/0||!this.decodedData||(c=this.decodedData.duration),c}toggleInteraction(c){this.options.interact=c}setTime(c){this.stopAtPosition=null,super.setTime(c),this.updateProgress(c),this.emit("timeupdate",c)}seekTo(c){const m=this.getDuration()*c;this.setTime(m)}play(c,m){const d=Object.create(null,{play:{get:()=>super.play}});return wn(this,void 0,void 0,(function*(){c!=null&&this.setTime(c);const x=yield d.play.call(this);return m!=null&&(this.media instanceof Bc?this.media.stopAt(m):this.stopAtPosition=m),x}))}playPause(){return wn(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(c){this.setTime(this.getCurrentTime()+c)}empty(){this.load("",[[0]],.001)}setMediaElement(c){this.unsubscribePlayerEvents(),super.setMediaElement(c),this.initPlayerEvents()}exportImage(){return wn(this,arguments,void 0,(function*(c="image/png",m=1,d="dataURL"){return this.renderer.exportImage(c,m,d)}))}destroy(){var c;this.emit("destroy"),(c=this.abortController)===null||c===void 0||c.abort(),this.plugins.forEach((m=>m.destroy())),this.subscriptions.forEach((m=>m())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((m=>m())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}yu.BasePlugin=class extends gu{constructor(g){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=g}onInit(){}_init(g){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=g,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((g=>g())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},yu.dom=ky;const Am=Te.memo(()=>{const g=Te.useRef(null),c=Te.useRef(null),m=Te.useRef(null),d=Te.useRef(null),[x,w]=Te.useState(!1),[N,D]=Te.useState(null),[C,S]=Te.useState(null),R=Ce(ee=>ee.videoUrl),L=Ce(ee=>ee.isPlaying),I=Ce(ee=>ee.currentTime),oe=Ce(ee=>ee.zoom),P=Ce(ee=>ee.segments),J=Ce(ee=>ee.duration),ve=Ce(ee=>ee.activeSegmentId),ie=Ce(ee=>ee.setCurrentTime),je=Ce(ee=>ee.setDuration),he=Ce(ee=>ee.setIsPlaying),Ne=Ce(ee=>ee.setActiveSegmentId),Ae=Ce(ee=>ee.deleteSegment),ce=Ce(ee=>ee.updateSegment),re=Ce(ee=>ee.showToast),Qe=Ce(ee=>ee.cutAtPosition),[Re,pt]=Te.useState(null),[vt,st]=Te.useState(null),ot=Te.useRef(null),[Xe,Et]=Te.useState(!1),$=Math.max(J*oe,100);Te.useEffect(()=>{if(!R)return;const ee=document.createElement("div");ee.style.display="none",document.body.appendChild(ee);const De=yu.create({container:ee,waveColor:"transparent",progressColor:"transparent",height:1,interact:!1});m.current=De,De.load(R),De.setVolume(0),De.on("ready",()=>{je(De.getDuration()),w(!0)});let Se=0;return De.on("audioprocess",Fe=>{const Ie=Date.now();Ie-Se>50&&(ie(Fe),Se=Ie)}),()=>{try{De.destroy()}catch{}m.current=null;try{document.body.removeChild(ee)}catch{}w(!1)}},[R]),Te.useEffect(()=>{!m.current||!x||(L&&!m.current.isPlaying()?m.current.play().catch(()=>{}):!L&&m.current.isPlaying()&&m.current.pause())},[L,x]),Te.useEffect(()=>{if(!m.current||!x)return;const ee=m.current.getCurrentTime();Math.abs(ee-I)>.1&&m.current.setTime(I)},[I,x]),Te.useEffect(()=>{if(!c.current||!L||Xe)return;const ee=I*oe,De=c.current,Se=De.clientWidth,Fe=De.scrollLeft;ee>Fe+Se-50&&(De.scrollLeft=ee-Se/2),ee<Fe+50&&(De.scrollLeft=Math.max(0,ee-50))},[I,oe,L,Xe]);const ye=ee=>{if(!c.current||Xe||ee.target.closest(".kue-block")||ee.target.closest(".color-picker"))return;const De=c.current.getBoundingClientRect(),Se=c.current.scrollLeft,Ie=(ee.clientX-De.left+Se)/oe;Ie>=0&&Ie<=J&&ie(Ie)},ze=ee=>{if(!c.current||ee.target.closest(".kue-block"))return;const De=c.current.getBoundingClientRect(),Se=c.current.scrollLeft,Ie=(ee.clientX-De.left+Se)/oe;if(Ie>=0&&Ie<=J){const ke=Qe(Ie);if(ke){const dt=Ce.getState().getSegmentNumber(ke.id);re(`Kue #${dt} creado`)}}};Te.useEffect(()=>{if(!c.current)return;const ee=c.current,De=Ce.getState().setZoom,Se=Fe=>{if(Fe.altKey){Fe.preventDefault();const Ie=Ce.getState().zoom,ke=Fe.deltaY>0?-5:5;De(Math.max(5,Math.min(200,Ie+ke)))}};return ee.addEventListener("wheel",Se,{passive:!1}),()=>ee.removeEventListener("wheel",Se)},[]),Te.useEffect(()=>{if(!c.current)return;const ee=c.current,De=Ce.getState().setZoom;let Se=0,Fe=0;const Ie=dt=>{if(dt.touches.length===2){const dn=dt.touches[0].clientX-dt.touches[1].clientX,gn=dt.touches[0].clientY-dt.touches[1].clientY;Se=Math.sqrt(dn*dn+gn*gn),Fe=Ce.getState().zoom}},ke=dt=>{if(dt.touches.length===2&&Se>0){dt.preventDefault();const dn=dt.touches[0].clientX-dt.touches[1].clientX,gn=dt.touches[0].clientY-dt.touches[1].clientY,En=Math.sqrt(dn*dn+gn*gn)/Se;De(Math.max(5,Math.min(200,Math.round(Fe*En))))}};return ee.addEventListener("touchstart",Ie,{passive:!0}),ee.addEventListener("touchmove",ke,{passive:!1}),()=>{ee.removeEventListener("touchstart",Ie),ee.removeEventListener("touchmove",ke)}},[]);const We=(ee,De)=>{ee.stopPropagation(),ve===De.id?(Ne(null),D(null)):(Ne(De.id),ie(De.start),he(!1),D(null))},He=P.find(ee=>ee.id===ve),O=He?P.indexOf(He):-1,ne=O>0?P[O-1]:null,me=O<P.length-1?P[O+1]:null,_e=(ee,De,Se)=>{ee.stopPropagation(),ee.preventDefault(),Et(!0);const Fe="touches"in ee?ee.touches[0].clientX:ee.clientX;let Ie=0;De==="left"&&He?Ie=He.start:De==="right"&&He?Ie=He.end:De==="junction"&&Se!==void 0&&(Ie=P[Se].end),ot.current={x:Fe,originalTime:Ie},pt(De),Se!==void 0&&st(Se);const ke=dn=>{if(!ot.current)return;dn.preventDefault();const En=(("touches"in dn?dn.touches[0]?.clientX??ot.current.x:dn.clientX)-ot.current.x)/oe;let yt=ot.current.originalTime+En;if(De==="left"&&He){const hn=ne?ne.end:0,an=He.end-.5;yt=Math.max(hn,Math.min(an,yt)),ce(He.id,{start:yt})}else if(De==="right"&&He){const hn=He.start+.5,an=me?me.start:J;yt=Math.max(hn,Math.min(an,yt)),ce(He.id,{end:yt})}else if(De==="junction"&&Se!==void 0){const hn=P[Se],an=P[Se+1];if(hn&&an){const Pt=hn.start+.5,Ea=an.end-.5;yt=Math.max(Pt,Math.min(Ea,yt)),ce(hn.id,{end:yt}),ce(an.id,{start:yt})}}},dt=()=>{ot.current=null,pt(null),st(null),Et(!1),document.removeEventListener("mousemove",ke),document.removeEventListener("mouseup",dt),document.removeEventListener("touchmove",ke),document.removeEventListener("touchend",dt),navigator.vibrate&&navigator.vibrate(20)};document.addEventListener("mousemove",ke),document.addEventListener("mouseup",dt),document.addEventListener("touchmove",ke,{passive:!1}),document.addEventListener("touchend",dt)},Ke=(ee,De,Se)=>{const Fe=zn[De];ce(ee,{color:Se?Fe.hero:Fe.fill,isHero:Se}),D(null),re(Se?"Color Hero ":"Color Fill ")},Ge=(ee,De)=>{ce(ee,{colorName:De})},nt=ee=>{const De=ee.target.files?.[0];if(!De||!C)return;const Se=new Image;Se.onload=()=>{const Fe=document.createElement("canvas"),Ie=640,ke=360;Fe.width=Ie,Fe.height=ke;const dt=Fe.getContext("2d"),dn=Se.width/Se.height,gn=16/9;let ua=0,En=0,yt=Se.width,hn=Se.height;dn>gn?(yt=Se.height*gn,ua=(Se.width-yt)/2):(hn=Se.width/gn,En=(Se.height-hn)/2),dt.drawImage(Se,ua,En,yt,hn,0,0,Ie,ke);const an=Fe.toDataURL("image/jpeg",.85);ce(C,{thumbnail:an}),re("Imagen 16:9 "),S(null)},Se.src=URL.createObjectURL(De),ee.target.value=""},$t=ee=>{S(ee),d.current?.click()},be=[];for(let ee=0;ee<P.length-1;ee++)Math.abs(P[ee].end-P[ee+1].start)<.05&&be.push(ee);return y.jsxs("div",{ref:g,className:"w-full h-full bg-black/80 border-t border-b border-neon-purple/30 relative",children:[y.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:nt,className:"hidden"}),y.jsx("div",{ref:c,className:`w-full h-full overflow-x-auto overflow-y-hidden cursor-pointer ${Xe?"overflow-hidden":""}`,onClick:ye,onDoubleClick:ze,children:y.jsxs("div",{className:"relative h-full",style:{width:`${$}px`,minWidth:"100%"},children:[x&&Array.from({length:Math.ceil(J)+1}).map((ee,De)=>y.jsx("div",{className:"absolute top-0 h-full border-l border-white/10",style:{left:`${De*oe}px`},children:y.jsxs("span",{className:"absolute top-1 left-1 text-[10px] text-white/40 font-mono",children:[Math.floor(De/60),":",String(De%60).padStart(2,"0")]})},`marker-${De}`)),P.map((ee,De)=>{const Se=ee.start*oe,Fe=Math.max(40,(ee.end-ee.start)*oe),Ie=ve===ee.id;return y.jsxs("div",{onClick:ke=>We(ke,ee),className:`
                                    kue-block absolute top-3 bottom-3 cursor-pointer select-none
                                    flex flex-col overflow-visible transition-all group rounded-lg
                                    ${Ie?"ring-2 ring-white z-30 brightness-110 shadow-xl":"hover:brightness-110 z-10"}
                                `,style:{left:`${Se}px`,width:`${Fe}px`,backgroundColor:ee.color||"#8b5cf6",touchAction:Ie?"none":"auto",backgroundImage:ee.thumbnail?`url(${ee.thumbnail})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[ee.thumbnail&&y.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/70 to-transparent rounded-lg"}),y.jsxs("div",{className:"flex items-center justify-between px-2 py-1 relative z-10",children:[y.jsxs("span",{className:"text-xs font-bold font-mono text-white bg-black/50 px-1.5 py-0.5 rounded flex items-center gap-1",children:["#",De+1,ee.isHero?y.jsx(Rs,{size:10,className:"text-amber-400",fill:"currentColor"}):y.jsx(Lc,{size:10,className:"text-white/50"})]}),y.jsxs("div",{className:`flex gap-1 ${Ie?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity`,children:[y.jsx("button",{onClick:ke=>{ke.stopPropagation(),D(N===ee.id?null:ee.id)},className:"p-1 bg-black/50 rounded hover:bg-white/20 transition-colors",title:"Cambiar color",children:y.jsx(qc,{size:12,className:"text-white"})}),y.jsx("button",{onClick:ke=>{ke.stopPropagation(),$t(ee.id)},className:"p-1 bg-black/50 rounded hover:bg-white/20 transition-colors",title:"Cargar imagen",children:y.jsx(ly,{size:12,className:"text-white"})}),y.jsx("button",{onClick:ke=>{ke.stopPropagation(),Ae(ee.id),re(`Kue #${De+1} eliminado`)},className:"p-1 bg-red-500/50 rounded hover:bg-red-500 transition-colors",title:"Eliminar",children:y.jsx(Xc,{size:12,className:"text-white"})})]})]}),Fe>60&&ee.note&&y.jsx("span",{className:"absolute bottom-1 left-2 right-2 text-[10px] font-mono text-white/90 truncate bg-black/30 px-1 rounded z-10",children:ee.note}),N===ee.id&&y.jsxs("div",{className:"color-picker absolute bottom-full left-0 mb-2 bg-black/95 border border-white/30 rounded-xl p-3 shadow-2xl",style:{zIndex:9999},onClick:ke=>ke.stopPropagation(),children:[y.jsx("div",{className:"mb-2",children:y.jsx("input",{type:"text",placeholder:"Nombre entorno...",value:ee.colorName||"",onChange:ke=>Ge(ee.id,ke.target.value),onClick:ke=>ke.stopPropagation(),className:"w-full px-2 py-1 text-xs bg-white/10 border border-white/20 rounded text-white placeholder-white/40 outline-none focus:border-neon-purple"})}),y.jsx("div",{className:"grid grid-cols-5 gap-1",children:zn.map((ke,dt)=>y.jsxs("div",{className:"flex flex-col gap-0.5",children:[y.jsx("button",{onClick:()=>Ke(ee.id,dt,!0),className:"w-7 h-6 rounded-t border border-white/30 hover:scale-110 transition-transform flex items-center justify-center",style:{backgroundColor:ke.hero},title:"Hero (brillante)",children:y.jsx(Rs,{size:10,className:"text-white/80"})}),y.jsx("button",{onClick:()=>Ke(ee.id,dt,!1),className:"w-7 h-6 rounded-b border border-white/30 hover:scale-110 transition-transform",style:{backgroundColor:ke.fill},title:"Fill (apagado)"})]},dt))})]}),Ie&&y.jsxs(y.Fragment,{children:[y.jsx("div",{onMouseDown:ke=>_e(ke,"left"),onTouchStart:ke=>_e(ke,"left"),className:`absolute -left-4 top-0 bottom-0 w-8 flex items-center justify-center cursor-ew-resize bg-white rounded-l-xl shadow-xl hover:scale-105 transition-transform ${Re==="left"?"bg-amber-400 scale-105":""}`,style:{touchAction:"none"},children:y.jsx(sm,{size:16,className:"text-black/70"})}),y.jsx("div",{onMouseDown:ke=>_e(ke,"right"),onTouchStart:ke=>_e(ke,"right"),className:`absolute -right-4 top-0 bottom-0 w-8 flex items-center justify-center cursor-ew-resize bg-white rounded-r-xl shadow-xl hover:scale-105 transition-transform ${Re==="right"?"bg-amber-400 scale-105":""}`,style:{touchAction:"none"},children:y.jsx(sm,{size:16,className:"text-black/70"})})]})]},ee.id)}),be.map(ee=>{const De=P[ee],Se=P[ee+1],Fe=De.end*oe;return ve===De.id||ve===Se.id?y.jsx("div",{onMouseDown:ke=>_e(ke,"junction",ee),onTouchStart:ke=>_e(ke,"junction",ee),className:`absolute top-2 bottom-2 z-40 cursor-ew-resize flex items-center justify-center rounded-lg transition-all hover:scale-110 ${Re==="junction"&&vt===ee?"bg-amber-400 scale-110":"bg-white/90 hover:bg-amber-300"}`,style:{left:`${Fe-10}px`,width:"20px",touchAction:"none"},title:"Mueve el punto de corte",children:y.jsx("div",{className:"w-1 h-1/2 bg-black/40 rounded"})},`junction-${ee}`):null}),y.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-white shadow-[0_0_15px_rgba(255,255,255,0.9)] z-50 pointer-events-none",style:{left:`${I*oe}px`},children:y.jsx("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-10 border-t-white drop-shadow-lg"})})]})}),x&&P.length===0&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:y.jsxs("div",{className:"text-white/40 text-sm font-mono bg-black/60 px-4 py-3 rounded-lg text-center",children:[y.jsx("div",{className:"hidden md:block",children:"Doble-click para cortar  Alt + Rueda: Zoom"}),y.jsx("div",{className:"md:hidden",children:"Toca KUE para cortar  Pellizca: Zoom"})]})})]})});Am.displayName="Waveform";function tl(g,c=!0){if(!isFinite(g))return"00:00.000";const m=Math.floor(g/60),d=Math.floor(g%60),x=Math.floor(g%1*1e3);return c?`${m}:${d.toString().padStart(2,"0")}.${x.toString().padStart(3,"0")}`:`${m}:${d.toString().padStart(2,"0")}`}const hm=g=>{const c=[],m=g.prompt;return m?.subject&&c.push(m.subject),m?.action&&c.push(m.action),g.colorName&&c.push(`in ${g.colorName}`),m?.lighting&&c.push(`${m.lighting} lighting`),m?.camera&&m.camera!=="Static"&&c.push(`${m.camera} camera`),m?.style&&c.push(`${m.style} style`),c.join(", ")||g.note||""},Om=Te.memo(({segment:g,segmentNumber:c})=>{const[m,d]=Te.useState(!1),x=Ce(R=>R.updateSegment),w=g.prompt||{subject:"",action:"",lighting:"",camera:"",style:""},N=(R,L)=>{x(g.id,{prompt:{...w,[R]:L}})},D=(R,L)=>{const I=zn[R];x(g.id,{color:L?I.hero:I.fill,isHero:L})},C=R=>{x(g.id,{colorName:R})},S=async()=>{const R=hm(g);await navigator.clipboard.writeText(R),d(!0),setTimeout(()=>d(!1),2e3)};return y.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-lg p-4 space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-5 h-5 rounded",style:{backgroundColor:g.color||"#8b5cf6"}}),y.jsxs("span",{className:"text-white font-bold",children:["Kue #",c]}),g.isHero?y.jsxs("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-400 px-1.5 py-0.5 rounded flex items-center gap-1",children:[y.jsx(Rs,{size:10})," HERO"]}):y.jsxs("span",{className:"text-[10px] bg-white/10 text-white/50 px-1.5 py-0.5 rounded flex items-center gap-1",children:[y.jsx(Lc,{size:10})," FILL"]})]}),y.jsxs("button",{onClick:S,className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${m?"bg-green-500/20 text-green-400":"bg-neon-purple/20 text-neon-purple hover:bg-neon-purple/30"}`,children:[m?y.jsx(ym,{size:14}):y.jsx(bm,{size:14}),m?"Copiado!":"Copiar Prompt"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-2",children:[y.jsx(qc,{size:10})," Color"]}),y.jsx("div",{className:"flex flex-wrap gap-1",children:zn.map((R,L)=>y.jsxs("div",{className:"flex flex-col gap-0.5",children:[y.jsx("button",{onClick:()=>D(L,!0),title:"Hero (brillante)",className:`w-6 h-5 rounded-t border transition-all ${g.color===R.hero&&g.isHero?"ring-2 ring-white scale-110 border-white":"hover:scale-105 border-white/20"}`,style:{backgroundColor:R.hero}}),y.jsx("button",{onClick:()=>D(L,!1),title:"Fill (apagado)",className:`w-6 h-5 rounded-b border transition-all ${g.color===R.fill&&!g.isHero?"ring-2 ring-white scale-110 border-white":"hover:scale-105 border-white/20"}`,style:{backgroundColor:R.fill}})]},L))})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-2",children:[y.jsx(Uc,{size:10})," Entorno (texto libre)"]}),y.jsx("input",{type:"text",value:g.colorName||"",onChange:R=>C(R.target.value),placeholder:"Ej: Playa al atardecer, Club nocturno...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/30 outline-none focus:border-neon-purple/50"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[y.jsx(Uc,{size:10})," Sujeto"]}),y.jsx("input",{type:"text",value:w.subject,onChange:R=>N("subject",R.target.value),placeholder:"Mujer joven, vestido rojo...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/20 outline-none focus:border-neon-purple/50"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[y.jsx(Uc,{size:10})," Accin"]}),y.jsx("input",{type:"text",value:w.action,onChange:R=>N("action",R.target.value),placeholder:"Caminando, mirando a cmara...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/20 outline-none focus:border-neon-purple/50"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[y.jsx(by,{size:10})," Iluminacin"]}),y.jsxs("select",{value:w.lighting,onChange:R=>N("lighting",R.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm outline-none focus:border-neon-purple/50 cursor-pointer",children:[y.jsx("option",{value:"",className:"bg-cyber-gray",children:"Seleccionar..."}),vv.map(R=>y.jsx("option",{value:R,className:"bg-cyber-gray",children:R},R))]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[y.jsx(kv,{size:10})," Cmara"]}),y.jsxs("select",{value:w.camera,onChange:R=>N("camera",R.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm outline-none focus:border-neon-purple/50 cursor-pointer",children:[y.jsx("option",{value:"",className:"bg-cyber-gray",children:"Seleccionar..."}),yv.map(R=>y.jsx("option",{value:R,className:"bg-cyber-gray",children:R},R))]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-[10px] text-white/40 uppercase tracking-wider flex items-center gap-1 mb-1",children:[y.jsx(qc,{size:10})," Estilo"]}),y.jsxs("select",{value:w.style,onChange:R=>N("style",R.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm outline-none focus:border-neon-purple/50 cursor-pointer",children:[y.jsx("option",{value:"",className:"bg-cyber-gray",children:"Seleccionar..."}),gv.map(R=>y.jsx("option",{value:R,className:"bg-cyber-gray",children:R},R))]})]})]}),y.jsxs("div",{className:"bg-white/5 border border-white/10 rounded p-3",children:[y.jsx("div",{className:"text-[10px] text-white/40 uppercase tracking-wider mb-1",children:"Prompt Generado"}),y.jsx("p",{className:"text-white/80 text-sm italic",children:hm(g)||"Completa los campos para generar el prompt..."})]})]})});Om.displayName="PromptBuilder";const zm=Te.memo(()=>{const g=Ce(J=>J.segments),c=Ce(J=>J.activeSegmentId),m=Ce(J=>J.isPlaying),d=Ce(J=>J.setActiveSegmentId),x=Ce(J=>J.deleteSegment),w=Ce(J=>J.updateSegment),N=Ce(J=>J.setCurrentTime),D=Ce(J=>J.setIsPlaying),C=Te.useRef(null),[S,R]=Te.useState(null),L=Te.useRef(new Map);Te.useEffect(()=>{if(!m)return;const J=setInterval(()=>{const{currentTime:ve,segments:ie,activeSegmentId:je}=Ce.getState(),he=ie.find(Ne=>ve>=Ne.start&&ve<Ne.end);if(he&&je!==he.id&&(d(he.id),C.current)){const Ne=C.current.querySelector(`[data-seg-id="${he.id}"]`);Ne&&Ne.scrollIntoView({behavior:"auto",block:"nearest"})}},100);return()=>clearInterval(J)},[m,d]);const I=J=>{N(J),D(!0)},oe=(J,ve)=>{const ie=ve.target.files?.[0];if(!ie)return;const je=new FileReader;je.onload=he=>{const Ne=he.target?.result;w(J,{thumbnail:Ne})},je.readAsDataURL(ie)},P=J=>{R(S===J?null:J)};return y.jsxs("div",{className:"h-full flex flex-col bg-cyber-gray",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/10 bg-black/40",children:[y.jsxs("h2",{className:"text-lg font-bold text-neon-purple tracking-widest flex items-center gap-2",children:[y.jsx(Vv,{size:18,className:"opacity-60"}),"GUIN"]}),y.jsxs("span",{className:"text-xs font-mono bg-neon-purple/20 text-neon-purple px-2 py-1 rounded",children:[g.length," Kues"]})]}),y.jsxs("div",{ref:C,className:"flex-1 overflow-y-auto p-3 space-y-2 scrollbar-thin scrollbar-thumb-neon-purple/20",children:[g.map((J,ve)=>{const ie=S===J.id,je=c===J.id;return y.jsxs("div",{"data-seg-id":J.id,className:`
                                rounded-lg border transition-all overflow-hidden
                                ${je?"border-white/30":"border-white/5 hover:border-white/20"}
                            `,style:{boxShadow:je?`0 0 10px ${J.color||"#8b5cf6"}40`:"none"},children:[y.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-white/5",onClick:()=>P(J.id),children:[y.jsx("button",{className:"text-white/40 hover:text-white shrink-0",children:ie?y.jsx(gm,{size:16}):y.jsx(qv,{size:16})}),y.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center text-white font-bold text-sm shrink-0",style:{backgroundColor:J.color||"#8b5cf6"},children:ve+1}),J.isHero?y.jsx(Rs,{size:12,className:"text-yellow-400 shrink-0"}):y.jsx(Lc,{size:12,className:"text-white/30 shrink-0"}),y.jsx("div",{className:"font-mono text-xs text-white/60 shrink-0",children:tl(J.start)}),y.jsx("div",{className:"flex-1 text-sm text-white/70 truncate",children:J.prompt?.subject||J.note||y.jsx("span",{className:"text-white/30 italic",children:"Sin descripcin"})}),y.jsxs("div",{className:"text-xs font-mono text-white/40 shrink-0",children:[(J.end-J.start).toFixed(1),"s"]}),y.jsxs("div",{className:"flex gap-1 shrink-0",children:[y.jsx("button",{onClick:he=>{he.stopPropagation(),I(J.start)},className:"p-1.5 rounded hover:bg-neon-purple/20 text-white/50 hover:text-neon-purple transition-colors",title:"Reproducir",children:y.jsx(Yc,{size:14,fill:"currentColor"})}),y.jsx("button",{onClick:he=>{he.stopPropagation(),x(J.id)},className:"p-1.5 rounded hover:bg-red-500/20 text-white/50 hover:text-red-400 transition-colors",title:"Eliminar",children:y.jsx(Xc,{size:14})})]})]}),ie&&y.jsxs("div",{className:"border-t border-white/10",children:[y.jsx("div",{className:"p-3 bg-black/20",children:y.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden cursor-pointer",style:{backgroundColor:`${J.color||"#8b5cf6"}20`},children:[J.thumbnail?y.jsx("img",{src:J.thumbnail,alt:`Storyboard ${ve+1}`,className:"w-full h-full object-cover",onClick:()=>I(J.start)}):y.jsxs("label",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",children:[y.jsx(jy,{size:32,className:"text-white/20 mb-2"}),y.jsx("span",{className:"text-xs text-white/30",children:"Click para subir imagen de referencia"}),y.jsx("input",{id:`image-upload-${J.id}`,name:`image-upload-${J.id}`,type:"file",accept:"image/*",className:"hidden",onChange:he=>oe(J.id,he),ref:he=>{he&&L.current.set(J.id,he)}})]}),J.thumbnail&&y.jsx("button",{onClick:()=>L.current.get(J.id)?.click(),className:"absolute bottom-2 right-2 p-2 bg-black/60 rounded text-white/70 hover:text-white transition-colors",title:"Cambiar imagen",children:y.jsx(Sm,{size:16})})]})}),y.jsx("div",{className:"p-3",children:y.jsx(Om,{segment:J,segmentNumber:ve+1})})]})]},J.id)}),g.length===0&&y.jsxs("div",{className:"text-center text-white/20 mt-10 font-mono text-sm py-8 border border-dashed border-white/10 rounded-lg",children:[y.jsx("div",{className:"text-3xl mb-3",children:""}),y.jsx("div",{className:"mb-2",children:"An no hay Kues"}),y.jsx("div",{className:"text-xs text-white/40",children:"Presiona KUE para crear cortes"})]})]})]})});zm.displayName="SegmentList";const Dm=Te.memo(({showLyrics:g,setShowLyrics:c,showMobileDrawer:m,setShowMobileDrawer:d})=>{const x=Ce(ce=>ce.isPlaying),w=Ce(ce=>ce.currentTime),N=Ce(ce=>ce.duration),D=Ce(ce=>ce.segments),C=Ce(ce=>ce.setIsPlaying),S=Ce(ce=>ce.setCurrentTime),R=Ce(ce=>ce.undo),L=Ce(ce=>ce.canUndo),I=Ce(ce=>ce.showToast),{isLongPressing:oe,handlePress:P,handleRelease:J,handleCancel:ve}=jm(),[ie,je]=Te.useState(!1),he=Te.useRef(null),Ne=()=>{R()&&I("Deshecho")},Ae=()=>{if(C(!1),ie){S(0),je(!1),I(" Inicio");return}if(D.length>0){const ce=[...D].sort((Re,pt)=>Re.start-pt.start);let re=0,Qe=null;for(const Re of ce)if(w>=Re.start&&w<Re.end){re=Re.end,Qe=Re;break}if(!Qe){for(const Re of ce)if(Re.end>w){re=Re.end,Qe=Re;break}}if(!Qe&&ce.length>0&&(re=ce[ce.length-1].end,Qe=ce[ce.length-1]),Qe){const Re=Ce.getState().getSegmentNumber(Qe.id);S(re),I(` Fin Kue #${Re}`),je(!0),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{je(!1)},1e3);return}}S(0),I(" Inicio")};return y.jsxs("div",{className:"h-16 border-t border-white/10 bg-black/80 flex items-center justify-center gap-3 md:gap-6 shrink-0 px-3",children:[y.jsxs("div",{className:"font-mono text-xs md:text-sm text-white/60",children:[y.jsx("span",{className:"text-white font-bold",children:tl(w)}),y.jsx("span",{className:"mx-1 hidden md:inline",children:"/"}),y.jsx("span",{className:"hidden md:inline",children:tl(N)})]}),y.jsx("button",{onClick:()=>C(!x),className:"p-3 rounded-full bg-white/5 hover:bg-white/10 text-white transition-all hover:scale-110 active:scale-95 shadow-lg",children:x?y.jsx(_m,{size:20,fill:"currentColor"}):y.jsx(Yc,{size:20,fill:"currentColor"})}),y.jsx("button",{onClick:Ae,className:`p-2.5 rounded-lg transition-all ${ie?"bg-red-500/30 text-red-400 ring-1 ring-red-500/50":"bg-white/5 hover:bg-red-500/20 text-white/60 hover:text-red-400"}`,title:ie?"Toca de nuevo para ir al inicio":"Ir al fin del Kue actual",children:y.jsx(vy,{size:16,fill:"currentColor"})}),y.jsxs("button",{onMouseDown:P,onMouseUp:J,onMouseLeave:ve,onTouchStart:P,onTouchEnd:J,className:`
          flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-base transition-all
          active:scale-95 shadow-lg select-none
          ${oe?"bg-linear-to-r from-green-500 to-green-700 text-white shadow-green-500/30":"bg-linear-to-r from-neon-purple to-pink-600 text-white shadow-neon-purple/30 hover:scale-105"}
        `,children:[y.jsx(wm,{size:18}),"KUE"]}),y.jsx("button",{onClick:Ne,disabled:!L(),className:"p-2.5 rounded-lg bg-white/5 hover:bg-white/10 text-white/60 hover:text-white transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:"Deshacer",children:y.jsx(Ey,{size:18})}),y.jsx("button",{onClick:()=>c(!g),className:`p-2.5 rounded-lg transition-all ${g?"bg-neon-purple/30 text-neon-purple":"bg-white/5 hover:bg-white/10 text-white/60 hover:text-neon-purple"}`,title:"Mostrar/ocultar lyrics de referencia",children:y.jsx(xm,{size:18})}),y.jsx("button",{onClick:()=>d(!m),className:`p-2.5 rounded-lg transition-all ${m?"bg-neon-purple/30 text-neon-purple":"bg-white/5 hover:bg-white/10 text-white/60 hover:text-neon-purple"}`,title:"Ver prompts/guin",children:m?y.jsx(gm,{size:18}):y.jsx(Lv,{size:18})})]})});Dm.displayName="ControlBar";const Rm=Te.memo(({currentKue:g,currentKueNumber:c})=>{const m=Ce(d=>d.updateSegment);return y.jsxs("div",{className:"bg-black/60 border-t border-white/10 px-4 py-2 shrink-0",children:[y.jsxs("div",{className:"flex items-center justify-between gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-4 h-4 rounded shrink-0",style:{backgroundColor:g.color||"#8b5cf6"}}),y.jsxs("span",{className:"text-white font-bold text-sm shrink-0",children:["#",c]}),y.jsxs("span",{className:"text-white/40 text-xs shrink-0 hidden md:inline",children:[tl(g.start),"  ",tl(g.end)]})]}),y.jsxs("span",{className:"text-white/60 text-xs font-mono shrink-0",children:[(g.end-g.start).toFixed(1),"s"]})]}),y.jsx("input",{type:"text",value:g.note||"",onChange:d=>m(g.id,{note:d.target.value}),placeholder:"Escribe la nota/lyric de este Kue...",className:"w-full mt-2 px-3 py-1.5 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/30 outline-none focus:border-neon-purple/50 transition-colors"})]})});Rm.displayName="KueInfoBar";const km=Te.memo(({projectLyrics:g,setProjectLyrics:c})=>{const m=Ce(N=>N.segments),d=Ce(N=>N.assignLyricsToKues),x=Ce(N=>N.showToast),w=()=>{if(!g.trim()){x("Escribe o pega la letra primero");return}if(m.length===0){x("Primero crea algunos Kues");return}d(g)};return y.jsxs("div",{className:"border-t border-neon-purple/30 bg-black/40 px-4 py-3 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(xm,{size:14,className:"text-neon-purple"}),y.jsx("span",{className:"text-white/60 text-xs font-mono",children:"LYRICS / REFERENCIA"}),y.jsx("div",{className:"flex-1"}),y.jsxs("button",{onClick:w,className:"flex items-center gap-1 text-[10px] bg-white/10 hover:bg-neon-purple/20 text-white/60 hover:text-neon-purple px-2 py-1 rounded transition-colors",title:"Asignar cada lnea de texto a un Kue existente",children:[y.jsx(Mv,{size:12}),"Distribuir en Kues"]})]}),y.jsx("textarea",{value:g,onChange:N=>c(N.target.value),placeholder:`Pega aqu la letra de la cancin como referencia...
Lnea 1
Lnea 2
...`,className:"w-full h-24 md:h-32 px-3 py-2 bg-white/5 border border-white/10 rounded text-white text-sm placeholder-white/20 outline-none focus:border-neon-purple/50 transition-colors resize-none font-mono leading-relaxed"})]})});km.displayName="LyricsPanel";const Um=Te.memo(()=>{const g=Ce(x=>x.segments),c=Ce(x=>x.duration),m=Ce(x=>x.currentTime);if(c<=0)return null;const d=g.reduce((x,w)=>x+(w.end-w.start),0);return y.jsxs("div",{className:"h-8 bg-black/80 border-t border-white/10 flex items-center px-4 gap-3 shrink-0",children:[y.jsxs("div",{className:"flex-1 h-2 bg-white/10 rounded-full overflow-hidden relative",children:[g.map(x=>{const w=x.start/c*100,N=(x.end-x.start)/c*100;return y.jsx("div",{className:"absolute top-0 h-full rounded-full",style:{left:`${w}%`,width:`${N}%`,backgroundColor:x.color||"#8b5cf6"}},x.id)}),y.jsx("div",{className:"absolute top-0 w-0.5 h-full bg-white shadow-lg",style:{left:`${m/c*100}%`}})]}),y.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono text-white/50 shrink-0",children:[y.jsxs("span",{className:"text-neon-purple",children:[g.length," Kues"]}),y.jsx("span",{children:""}),y.jsxs("span",{children:[tl(d)," cubiertos"]})]})]})});Um.displayName="ProgressBar";const mm=8,Gy=({isOpen:g,onClose:c,projectName:m,projectId:d})=>{const{segments:x,bpm:w}=Ce(),[N,D]=Te.useState(!1),[C,S]=Te.useState("script");if(!g)return null;const R=()=>{const ie={projectName:m,projectId:d,bpm:w,exportedAt:new Date().toISOString(),segments:x.map(je=>({id:je.id,start:je.start,end:je.end,duration:je.end-je.start,note:je.note,color:je.color,hasThumbnail:!!je.thumbnail}))};return JSON.stringify(ie,null,2)},L=()=>{const ie="Shot,Start,End,Duration,Note",je=x.map((he,Ne)=>`${Ne+1},${he.start.toFixed(3)},${he.end.toFixed(3)},${(he.end-he.start).toFixed(3)},"${he.note.replace(/"/g,'""')}"`);return[ie,...je].join(`
`)},I=()=>{const ie=[];ie.push(""),ie.push(`    ${m.toUpperCase()}`),ie.push("   Guin Cinematogrfico para IA"),ie.push(""),ie.push(""),ie.push(` BPM: ${w||"No detectado"}`),ie.push(` Total Shots: ${x.length}`),ie.push(`  Duracin Total: ${tl(x.reduce((he,Ne)=>he+(Ne.end-Ne.start),0),!1)}`),ie.push("");const je=x.filter(he=>he.end-he.start>mm);return je.length>0&&(ie.push("  ADVERTENCIA: Los siguientes shots exceden 8 segundos."),ie.push("    Considera dividirlos para mejor generacin"),je.forEach(he=>{const Ne=x.findIndex(Ae=>Ae.id===he.id)+1;ie.push(`    - Shot ${Ne.toString().padStart(2,"0")}: ${(he.end-he.start).toFixed(1)}s`)}),ie.push("")),ie.push(""),ie.push(""),x.forEach((he,Ne)=>{const Ae=he.end-he.start,ce=Math.round(Ae*24),re=(Ne+1).toString().padStart(2,"0"),Qe=Ae>mm;ie.push(""),ie.push(`  SHOT ${re}  ${Qe?"":"  "}                                            `),ie.push(""),ie.push(`    Duracin: ${Ae.toFixed(2)}s (${ce} frames @ 24fps)`),ie.push(`   Tiempo: ${tl(he.start)}  ${tl(he.end)}`),ie.push(""),ie.push("   PROMPT:");const Re=he.note||"[Sin descripcin - Agrega una nota en el editor]";oe(Re,55).forEach(vt=>{ie.push(`     ${vt}`)}),ie.push(""),ie.push(""),ie.push("")}),ie.push(""),ie.push(""),ie.push(" TIPS PARA GENERACIN DE VIDEO CON IA:"),ie.push("    Mximo recomendado por clip: 8 segundos"),ie.push('    Incluye estilo visual: "cinematic", "anime", "realistic"'),ie.push('    Describe movimientos de cmara: "slow pan", "dolly in"'),ie.push("    Mantn consistencia de personajes entre shots"),ie.push(""),ie.push(`Generado con KueStudio  ${new Date().toLocaleString()}`),ie.join(`
`)},oe=(ie,je)=>{const he=ie.split(" "),Ne=[];let Ae="";return he.forEach(ce=>{(Ae+" "+ce).trim().length<=je?Ae=(Ae+" "+ce).trim():(Ae&&Ne.push(Ae),Ae=ce)}),Ae&&Ne.push(Ae),Ne.length>0?Ne:[""]},P=()=>{switch(C){case"json":return R();case"csv":return L();case"script":return I()}},J=()=>{const ie=P(),je={json:"json",csv:"csv",script:"txt"},he={json:"application/json",csv:"text/csv",script:"text/plain"},Ne=new Blob([ie],{type:he[C]}),Ae=document.createElement("a");Ae.href=URL.createObjectURL(Ne),Ae.download=`${m}_${C}.${je[C]}`,Ae.click()},ve=async()=>{await navigator.clipboard.writeText(P()),D(!0),setTimeout(()=>D(!1),2e3)};return y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-cyber-gray border border-neon-purple/30 rounded-2xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl shadow-neon-purple/20",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[y.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[y.jsx(kc,{size:24,className:"text-neon-purple"}),"Exportar Proyecto"]}),y.jsx("button",{onClick:c,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:y.jsx(My,{size:20,className:"text-white/60"})})]}),y.jsxs("div",{className:"flex border-b border-white/10",children:[y.jsxs("button",{onClick:()=>S("script"),className:`flex-1 p-3 flex items-center justify-center gap-2 transition-colors ${C==="script"?"bg-neon-purple/20 text-neon-purple border-b-2 border-neon-purple":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[y.jsx(kc,{size:18}),y.jsx("span",{className:"font-medium",children:"Guin"})]}),y.jsxs("button",{onClick:()=>S("json"),className:`flex-1 p-3 flex items-center justify-center gap-2 transition-colors ${C==="json"?"bg-neon-purple/20 text-neon-purple border-b-2 border-neon-purple":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[y.jsx(Pv,{size:18}),y.jsx("span",{className:"font-medium",children:"Backup JSON"})]}),y.jsxs("button",{onClick:()=>S("csv"),className:`flex-1 p-3 flex items-center justify-center gap-2 transition-colors ${C==="csv"?"bg-neon-purple/20 text-neon-purple border-b-2 border-neon-purple":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[y.jsx(Iv,{size:18}),y.jsx("span",{className:"font-medium",children:"CSV"})]})]}),y.jsx("div",{className:"flex-1 overflow-auto p-4",children:y.jsx("pre",{className:"bg-black/50 rounded-lg p-4 text-sm text-white/80 font-mono whitespace-pre-wrap overflow-auto max-h-[400px] border border-white/10",children:P()})}),x.length===0&&y.jsxs("div",{className:"mx-4 mb-4 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-center gap-3 text-amber-400",children:[y.jsx(_y,{size:20}),y.jsx("span",{className:"text-sm",children:"No hay segmentos para exportar. Crea algunos Kues primero."})]}),y.jsxs("div",{className:"flex gap-3 p-4 border-t border-white/10",children:[y.jsxs("button",{onClick:ve,className:"flex-1 p-3 bg-white/5 hover:bg-white/10 rounded-xl flex items-center justify-center gap-2 text-white transition-colors",children:[N?y.jsx(ym,{size:18,className:"text-green-400"}):y.jsx(bm,{size:18}),N?"Copiado!":"Copiar"]}),y.jsxs("button",{onClick:J,disabled:x.length===0,className:"flex-1 p-3 bg-neon-purple hover:bg-neon-purple/80 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl flex items-center justify-center gap-2 text-black font-bold transition-colors",children:[y.jsx(kc,{size:18}),"Descargar"]})]})]})})},Bm=Te.memo(({isOpen:g,onConfirm:c})=>g?y.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-cyber-gray border border-neon-purple/30 rounded-xl p-6 max-w-sm mx-4",children:[y.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Cerrar hasta el final?"}),y.jsx("p",{className:"text-white/60 text-sm mb-6",children:"Esto crear el ltimo Kue desde la posicin actual hasta el final de la pista."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:"Cancelar"}),y.jsx("button",{onClick:()=>c(!0),className:"flex-1 px-4 py-2 bg-neon-purple text-black font-bold rounded-lg hover:bg-neon-purple/80 transition-colors",children:"Cerrar"})]})]})}):null);Bm.displayName="CloseConfirmModal";const Hm=Te.memo(({isOpen:g,onClose:c})=>{const[m,d]=Te.useState(4),x=Ce(D=>D.bpm),w=Ce(D=>D.autoSplitByBpm);if(!g)return null;const N=()=>{confirm(" ARRIESGADO: Esto eliminar todos los Kues actuales y crear nuevos basados en el BPM. Continuar?")&&(w(m),c())};return y.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-cyber-gray border border-amber-500/30 rounded-xl p-6 max-w-sm mx-4 w-full shadow-[0_0_50px_rgba(245,158,11,0.2)]",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-400",children:[y.jsx(Em,{size:24}),y.jsx("h3",{className:"font-bold text-lg",children:"Herramientas Mgicas"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[y.jsx("label",{className:"block text-xs uppercase tracking-wider text-white/40 mb-2",children:"Auto-Split por BPM"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Beats por Comps"}),y.jsx("input",{type:"number",value:m,onChange:D=>d(parseInt(D.target.value)||4),className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-white outline-none focus:border-amber-500/50"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"text-xs text-white/60 mb-1",children:"BPM Actual"}),y.jsx("div",{className:"px-3 py-2 text-white/40 font-mono bg-black/20 rounded border border-white/5",children:x>0?x:"No definido"})]})]}),y.jsxs("button",{onClick:N,disabled:x<=0,className:"w-full mt-3 py-2 bg-amber-500/20 hover:bg-amber-500/30 text-amber-500 border border-amber-500/30 rounded font-bold text-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[y.jsx(wm,{size:14}),x>0?"Dividir Pista Completa":"Define BPM primero"]}),y.jsx("p",{className:"text-[10px] text-white/30 mt-2 text-center",children:" Sobreescribir todos los Kues actuales"})]}),y.jsx("button",{onClick:c,className:"w-full py-3 text-white/40 hover:text-white transition-colors text-sm",children:"Cancelar"})]})]})})});Hm.displayName="ToolsModal";function Qy({projectId:g,projectName:c,setProjectName:m,onBack:d}){const[x,w]=Te.useState(!1),[N,D]=Te.useState(!1),[C,S]=Te.useState(!1),[R,L]=Te.useState(!1),[I,oe]=Te.useState(""),P=Ce(re=>re.segments),J=Ce(re=>re.bpm),ve=Ce(re=>re.currentTime),ie=Ce(re=>re.setBpm),je=Ce(re=>re.getSegmentNumber),{showCloseConfirm:he,handleCloseConfirm:Ne}=jm();Te.useEffect(()=>{g&&P.length>=0&&dr.projects.update(g,{segments:P,updatedAt:Date.now()})},[P,g]);const Ae=P.find(re=>ve>=re.start&&ve<re.end),ce=Ae?je(Ae.id):null;return y.jsxs("div",{className:"h-screen bg-neon-dark text-cyber-text flex flex-col overflow-hidden font-sans fixed inset-0 touch-pan-x overscroll-none",children:[y.jsxs("header",{className:"h-14 border-b border-neon-purple/20 flex items-center px-4 bg-black/60 backdrop-blur justify-between shrink-0 z-20",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:d,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:y.jsx(Ov,{size:20,className:"text-white"})}),y.jsx("input",{type:"text",name:"project-name",value:c,onChange:re=>{m(re.target.value),dr.projects.update(g,{name:re.target.value})},className:"bg-transparent border-none text-white font-bold text-lg outline-none w-40 md:w-60"})]}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx("input",{type:"number",value:J||"",onChange:re=>{const Qe=parseInt(re.target.value)||0;ie(Qe),dr.projects.update(g,{bpm:Qe})},placeholder:"BPM",className:"w-16 px-2 py-1 bg-amber-500/10 text-amber-400 text-xs border border-amber-500/20 rounded font-mono text-center outline-none focus:border-amber-400"}),y.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-white/60 hover:text-neon-purple",title:"Exportar proyecto",children:y.jsx($v,{size:18})}),y.jsx("button",{onClick:()=>S(!0),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-white/60 hover:text-amber-400",title:"Herramientas Mgicas",children:y.jsx(Em,{size:18})}),y.jsxs("div",{className:"hidden md:flex px-3 py-1 bg-green-500/10 text-green-400 text-xs border border-green-500/20 rounded items-center gap-2",children:[y.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"AUTO"]})]})]}),y.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[y.jsx("div",{className:"flex-1 flex items-center justify-center p-2 md:p-4 bg-black overflow-hidden min-h-0",children:y.jsxs("div",{className:"w-full max-w-4xl aspect-video shadow-2xl bg-black border border-neon-purple/30 rounded-lg overflow-hidden relative group",children:[y.jsx(Ry,{}),y.jsx("div",{className:"hidden",children:y.jsx(Dy,{})})]})}),Ae&&ce&&y.jsx(Rm,{currentKue:Ae,currentKueNumber:ce}),y.jsx(Dm,{showLyrics:R,setShowLyrics:L,showMobileDrawer:N,setShowMobileDrawer:D}),R&&y.jsx(km,{projectLyrics:I,setProjectLyrics:oe}),y.jsxs("div",{className:"h-32 md:h-44 border-t border-neon-purple/30 bg-[#111115] relative shrink-0",children:[y.jsxs("div",{className:"absolute bottom-1 left-2 z-10 px-2 py-0.5 bg-neon-purple/20 text-neon-purple text-[10px] font-mono rounded border border-neon-purple/30",children:[P.length," Kues"]}),y.jsx(Am,{})]}),N&&y.jsx("div",{className:"h-64 md:h-80 border-t border-neon-purple/30 bg-cyber-gray overflow-hidden shrink-0",children:y.jsx(zm,{})}),y.jsx(Um,{})]}),y.jsx(Tm,{}),y.jsx(Bm,{isOpen:he,onConfirm:Ne}),y.jsx(Hm,{isOpen:C,onClose:()=>S(!1)}),y.jsx(Gy,{isOpen:x,onClose:()=>w(!1),projectName:c,projectId:g})]})}function Vy(){const[g,c]=Te.useState("HOME"),[m,d]=Te.useState(null),[x,w]=Te.useState(""),N=Ce(I=>I.setVideoUrl),D=Ce(I=>I.loadSegments),C=Ce(I=>I.setBpm),S=I=>{const oe=URL.createObjectURL(I.audioBlob);d(I.id),w(I.name),N(oe),D(I.segments||[]),C(I.bpm||0),c("EDITOR")},R=async I=>{const oe=crypto.randomUUID(),P=URL.createObjectURL(I),J=I.name.split(".")[0];await dr.projects.add({id:oe,name:J,createdAt:Date.now(),updatedAt:Date.now(),audioBlob:I,bpm:0,segments:[]}),d(oe),w(J),N(P),D([]),c("EDITOR")},L=()=>{c("HOME"),d(null)};return g==="HOME"?y.jsx(zy,{onOpenProject:S,onCreateProject:R}):y.jsx(Qy,{projectId:m||"",projectName:x,setProjectName:w,onBack:L})}fv.createRoot(document.getElementById("root")).render(y.jsx(Te.StrictMode,{children:y.jsx(Vy,{})}));
